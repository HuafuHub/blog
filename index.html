<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     “鼠”于Huafu的“2”！
  </title>
  
  <link rel="shortcut icon" href="http://localhost:4000/blog/favicon.ico" />
  
  <link rel="stylesheet" href="/blog/css/style.css">
  <script src="/blog/js/pace.min.js"></script>

  

  

<link rel="alternate" href="/blog/atom.xml" title="“鼠”于Huafu的“2”！" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="./images/cover.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/blog/">“鼠”于Huafu的“2”！</a></h1>
      <h2></h2>
      <div>
        
        <img
          src="./mouse.svg"
          class="cover-logo"
          alt="“鼠”于Huafu的“2”！"
        />
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="#main" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
    
    <article id="post-MOCK" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/02/26/MOCK/"
    >MockJs 与 Axios 的使用</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/02/26/MOCK/" class="article-date">
  <time datetime="2020-02-26T13:01:40.000Z" itemprop="datePublished">2020-02-26</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <ol>
<li><p>安装</p>
<blockquote>
<p>npm install mockjs –save<br>npm install axios –save</p>
</blockquote>
</li>
<li><p>模拟假数据</p>
</li>
</ol>
<ul>
<li>mock.js文件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'mockjs'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = Mock.mock(<span class="string">'https://www.test.com'</span>, &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"userInfo|10"</span>: [&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"id|+1"</span>: <span class="number">1</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"name"</span>: <span class="string">"@cname"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"age|18-28"</span>: <span class="number">25</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"sex|1"</span>: [<span class="string">"男"</span>, <span class="string">"女"</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &#125;]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> data;</span></pre></td></tr></table></figure>
</li>
</ul>
<ol start="3">
<li>使用假数据</li>
</ol>
<ul>
<li>index.jsx入口文件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./mock'</span>;</span></pre></td></tr></table></figure>
</li>
</ul>
<ol start="4">
<li>请求</li>
</ol>
<ul>
<li>需要假数据的文件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Axios.get(<span class="string">'https://www.test.com'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res.data))</span></pre></td></tr></table></figure></li>
</ul>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/02/26/MOCK/" data-id="ck73cha2c000ew8tg1z1lbk5f"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-VUEa" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/31/VUEa/"
    >VUE --- 应用篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/31/VUEa/" class="article-date">
  <time datetime="2020-01-31T04:00:00.000Z" itemprop="datePublished">2020-01-31</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="一、why"><a href="#一、why" class="headerlink" title="一、why?"></a>一、why?</h1><h2 id="（一）性能更好"><a href="#（一）性能更好" class="headerlink" title="（一）性能更好"></a>（一）性能更好</h2><h3 id="1-优点"><a href="#1-优点" class="headerlink" title="1.优点"></a>1.优点</h3><ul>
<li>性能更好</li>
<li>视图、数据分离</li>
<li>维护成本低</li>
</ul>
<h3 id="2-性能"><a href="#2-性能" class="headerlink" title="2.性能"></a>2.性能</h3><ul>
<li>操作 DOM 影响性能，因为操作 DOM 是十分昂贵的</li>
<li>JS 和 DOM 是两种东西，每次连接都需要消耗性能</li>
<li>操作 DOM 会导致重排和重绘</li>
<li>访问 DOM 元素是有代价的，修改 DOM 元素的代价，则更为昂贵，因为它会导致浏览器重新计算页面的机会变化。</li>
</ul>
<h3 id="3-关系"><a href="#3-关系" class="headerlink" title="3.关系"></a>3.关系</h3><ul>
<li>DOM 是一个独立于语言的，用于操作 XML 和 HTML 文档的程序接口(API)。在浏览器中主要用于与 HTML 文档打交道，并且使用 DOM API 用来访问文档中的数据。</li>
<li>DOM 是个与语言无关的 API，它在浏览器中的接口却是用 JavaScript 来实现的。客户端脚本编程大多数都是在和底层文档打交道，DOM 就成为现在 JS 编码中的重要部分。</li>
<li>浏览器中通常会把 DOM 和 javascript 独立实现。</li>
</ul>
<h3 id="4-位置"><a href="#4-位置" class="headerlink" title="4.位置"></a>4.位置</h3><ul>
<li>在 IE 中，JavaScript 的实现名为 JScript，位于 jscript.dll 文件中，DOM 的实现则存在另一个库中，名为 mshtml.dll（内部称为 trident）。</li>
<li>safari 中的 DOM 和渲染是使用 webkit 中的 webcore 实现，JavaScript 部分是由独立的 SquirelFish 引擎来实现。</li>
<li>google chrome 使用 webkit 中的 webCore 库来渲染页面，但 JavaScript 引擎是他们自己研发的，名为 V8。</li>
<li>firefox 的 JavaScript 引擎名为 TraceMonkey，与名为 Gecko 的渲染引擎相互独立。</li>
</ul>
<h3 id="5-渲染过程"><a href="#5-渲染过程" class="headerlink" title="5.渲染过程"></a>5.渲染过程</h3><ul>
<li>浏览器下载完页面中的所有组件：HTML、JavaScript、CSS、图片后，会发生这样的过程：<ul>
<li>解析 HTML，构建 DOM 树 + 解析 CSS，生成 CSS 规则树</li>
<li>合并 DOM 树和 CSS 规则树，生成 render 树</li>
<li>布局 render 树，负责各元素尺寸、位置的计算</li>
<li>绘制 render 树，绘制页面像素信息</li>
<li>浏览器会将各层的信息发送给 GPU，GPU 将各层合成<img src="./render.png">

</li>
</ul>
</li>
</ul>
<h3 id="6-重排"><a href="#6-重排" class="headerlink" title="6.重排"></a>6.重排</h3><ul>
<li>当页面布局和几何属性改变时就需要重排：<ul>
<li>添加或删除可见的 DOM 元素。</li>
<li>元素位置改变</li>
<li>元素尺寸改变( 外边距、内边距、边框厚度、宽度、高度等)</li>
<li>内容改变，例：文本改变或图片被另一个不同尺寸的图片替代</li>
<li>页面渲染器初始化</li>
<li>浏览器窗口尺寸改变<br><a href="https://csstriggers.com/" target="_blank" rel="noopener">各 css 属性对重排重绘的影响</a></li>
</ul>
</li>
<li>发生重排的属性：<br>offsetTop、offsetLeft、offsetWidth、offsetHeight<br>scrollTop、scrollLeft、scrollWidth、scrollHeight<br>clientTop、clientLeft、clientWidth、clientHeight<br>getComputedStyle()</li>
</ul>
<h3 id="7-重绘"><a href="#7-重绘" class="headerlink" title="7.重绘"></a>7.重绘</h3><ul>
<li>当页面和元素的颜色相关属性发生变化时会发生重绘。</li>
</ul>
<h3 id="8-虚拟-DOM"><a href="#8-虚拟-DOM" class="headerlink" title="8.虚拟 DOM"></a>8.虚拟 DOM</h3><ul>
<li>vue 的核心是虚拟 dom，使用虚拟 dom 可以减少 dom 的操作，从而提升应用的性能。</li>
<li>在前端的三种语言（html、css、javaScript）中，只有 JS 是一种编程语言，只有 JS 能做到判断、循环、递归、能够实现各种逻辑、实现各种算法。<img src="./html.png">
<img src="./VDOM.png">

</li>
</ul>
<h2 id="（二）视图、数据分离"><a href="#（二）视图、数据分离" class="headerlink" title="（二）视图、数据分离"></a>（二）视图、数据分离</h2><h2 id="（三）维护成本低"><a href="#（三）维护成本低" class="headerlink" title="（三）维护成本低"></a>（三）维护成本低</h2><h1 id="二、what？"><a href="#二、what？" class="headerlink" title="二、what？"></a>二、what？</h1><h2 id="（一）渐进式"><a href="#（一）渐进式" class="headerlink" title="（一）渐进式"></a>（一）渐进式</h2><h2 id="（二）MVVM"><a href="#（二）MVVM" class="headerlink" title="（二）MVVM"></a>（二）MVVM</h2><h1 id="三、how"><a href="#三、how" class="headerlink" title="三、how?"></a>三、how?</h1><h2 id="（一）基础-API"><a href="#（一）基础-API" class="headerlink" title="（一）基础 API"></a>（一）基础 API</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">app</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"hello world"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h3 id="1-模板语法"><a href="#1-模板语法" class="headerlink" title="1.模板语法"></a>1.模板语法</h3><h4 id="（1）文本"><a href="#（1）文本" class="headerlink" title="（1）文本"></a>（1）文本</h4><ul>
<li><p>数据绑定最常见的形式就是使用“Mustache”语法 (双大括号) 的文本插值：无论何时，绑定的数据对象上 msg 属性发生了改变，插值处的内容都会更新。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>通过使用 v-once 指令，你也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但请留心这会影响到该节点上的其它数据绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>使用 v-text 指令填充文本</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">"str"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（2）html"><a href="#（2）html" class="headerlink" title="（2）html"></a>（2）html</h4><ul>
<li>双大括号会将数据解释为普通文本，而非 HTML 代码。为了输出真正的 HTML，你需要使用 v-html 指令：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"htmlStr"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure></li>
<li>注意，你不能使用 v-html 来复合局部模板，因为 Vue 不是基于字符串的模板引擎。若同时使用，则忽略局部模板。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"htmlStr"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（3）attribute"><a href="#（3）attribute" class="headerlink" title="（3）attribute"></a>（3）attribute</h4><ul>
<li><p>Mustache 语法不能作用在 HTML attribute 上，遇到这种情况应该使用 v-bind 指令：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>对于布尔 attribute (它们只要存在就意味着值为 true)，v-bind 工作起来略有不同，如果 isButtonDisabled 的值是 null、undefined 或 false，则 disabled attribute 甚至不会被包含在渲染出来的 &lt;button&gt; 元素中。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-bind:disabled</span>=<span class="string">"isButtonDisabled"</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">"isButtonDisabled"</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（4）js-表达式"><a href="#（4）js-表达式" class="headerlink" title="（4）js 表达式"></a>（4）js 表达式</h4><ul>
<li>表达式会在所属 Vue 实例的数据作用域下作为 JavaScript 被解析。有个限制就是，每个绑定都只能包含单个表达式。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#123;&#123; number + 1 &#125;&#125; &#123;&#123; ok ? 'YES' : 'NO' &#125;&#125; &#123;&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">message.split('').reverse().join('')&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">"'list-' + id"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>模板表达式都被放在沙盒中，只能访问全局变量的一个白名单，如 Math 和 Date 。你不应该在模板表达式中试图访问用户定义的全局变量。</li>
</ul>
<h4 id="（5）事件"><a href="#（5）事件" class="headerlink" title="（5）事件"></a>（5）事件</h4><ul>
<li>Mustache 语法不能作用在 HTML attribute 上，遇到句柄事件应该使用 v-on 指令：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click</span>=<span class="string">"changeEvent"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"changeEvent"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="2-计算属性与监听器"><a href="#2-计算属性与监听器" class="headerlink" title="2.计算属性与监听器"></a>2.计算属性与监听器</h3><h4 id="（1）methods"><a href="#（1）methods" class="headerlink" title="（1）methods"></a>（1）methods</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    &#123;&#123;msg()&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;job&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      age: <span class="string">"18岁"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      job: <span class="string">"是一名飞行员"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">      msg() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">`-----methods------`</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  vm.job = <span class="string">"是一名教师"</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>methods 中定义方法，挂在到 vue 实例上，可以直接访问。</li>
<li>只要页面重新渲染，都会执行一遍所有的方法。</li>
<li>如上，msg 方法并没有依赖 data 的 job 属性，当 job 变化时，msg 方法也会被执行（会输出：—–methods——）；</li>
</ul>
<h4 id="（2）watch"><a href="#（2）watch" class="headerlink" title="（2）watch"></a>（2）watch</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    &#123;&#123;msg&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;job&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      age: <span class="string">"18岁"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      job: <span class="string">"是一名飞行员"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      msg: <span class="string">"小明18岁"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    watch: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      name() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">`-----watch------`</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.msg = <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      age() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">`-----watch------`</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.msg = <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  vm.job = <span class="string">"是一名教师"</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>watch 中监听某个属性变化,并不能直接定义一个新属性。</li>
<li>只有监听的属性变化，才会被执行。</li>
<li>如上，watch 并没有监听 data 的 job 属性，当 job 变化时，不会输出：—–watch——；</li>
</ul>
<h4 id="（3）computed"><a href="#（3）computed" class="headerlink" title="（3）computed"></a>（3）computed</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    &#123;&#123;msg&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;job&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      age: <span class="string">" 18岁"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      job: <span class="string">" 是一名飞行员"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    computed: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">      msg: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">        <span class="keyword">get</span>() &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"-----computed-------"</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">        <span class="keyword">set</span>(value) &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"-----computed-------"</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">          <span class="keyword">let</span> arr = value.split(<span class="string">" "</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.name = arr[<span class="number">0</span>];</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.age = arr[<span class="number">1</span>];</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  vm.job = <span class="string">"是一名教师"</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>computed 中定义某个属性为计算属性, 也可直接定义一个新属性。</li>
<li>只有依赖的属性变化，才会被执行。</li>
<li>如上，computed 中 msg 并没有依赖 data 的 job 属性，当 job 变化时，不会输出：—–computed——；</li>
</ul>
<hr>
<h3 id="3-类与样式"><a href="#3-类与样式" class="headerlink" title="3.类与样式"></a>3.类与样式</h3><h4 id="（1）class"><a href="#（1）class" class="headerlink" title="（1）class"></a>（1）class</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="css">      <span class="selector-id">#app</span> <span class="selector-tag">div</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        width: 100px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        height: 100px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        text-align: center;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        background-color: pink;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        line-height: 100px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        margin-top: 20px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="css">      <span class="selector-class">.red</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        background-color: red !important;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="css">      <span class="selector-class">.border</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        border: 5px solid;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        box-sizing: border-box;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"className"</span> @<span class="attr">click</span>=<span class="string">"changeBg1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[className1, className2]"</span> @<span class="attr">click</span>=<span class="string">"changeBg2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"&#123;'red': isRed&#125;"</span> @<span class="attr">click</span>=<span class="string">"changeBg3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">        data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          msg: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          className: <span class="string">""</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          className1: <span class="string">""</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          className2: <span class="string">"border"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          isRed: <span class="literal">false</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">          changeBg1() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.className = <span class="keyword">this</span>.className === <span class="string">""</span> ? <span class="string">"red"</span> : <span class="string">""</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">          changeBg2() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.className1 = <span class="keyword">this</span>.className1 === <span class="string">""</span> ? <span class="string">"red"</span> : <span class="string">""</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">          changeBg3() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.isRed = !<span class="keyword">this</span>.isRed;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>使用变量 className, 变量的值会被应用为 class 的属性值</li>
<li>当使用多个类名的时候，可以使用数组（classList）, 每一项的值会被应用为 class 的属性值</li>
<li>可以使用对象，动态的控制类名是否被应用, 键值对中的 key 对应 className，value 的 boolean 值决定当前类名是否应用</li>
</ul>
<h4 id="（2）style"><a href="#（2）style" class="headerlink" title="（2）style"></a>（2）style</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="css">      <span class="selector-id">#app</span> <span class="selector-tag">div</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        width: 100px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        height: 100px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        text-align: center;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        background-color: pink;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        line-height: 100px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        margin-top: 20px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"style"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"[style1, style2]"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"&#123;color: color&#125;"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">        data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">          style: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            fontSize: <span class="string">"30px"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">          style1: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            fontSize: <span class="string">"20px"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            fontStyle: <span class="string">"bolder"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            color: <span class="string">"#fff"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">          style2: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            backgroundColor: <span class="string">"blue"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          color: <span class="string">"red"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>可以应用为一个对象，键值对中的 key 对应样式属性，value 对应样式属性值</li>
<li>当应用多个对象时，通过数组将对象集中起来</li>
</ul>
<hr>
<h3 id="4-条件渲染"><a href="#4-条件渲染" class="headerlink" title="4.条件渲染"></a>4.条件渲染</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-if</span>=<span class="string">"show === 1"</span>&gt;</span>中国70周年庆典1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else-if</span>=<span class="string">"show === 2"</span>&gt;</span>中国70周年庆典2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else-if</span>=<span class="string">"show === 3"</span>&gt;</span>中国70周年庆典3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else-if</span>=<span class="string">"show === 4"</span>&gt;</span>中国70周年庆典4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else</span>&gt;</span>中国70周年庆典5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change"</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      show: 1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      change() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.show++;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.show);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（1）v-if"><a href="#（1）v-if" class="headerlink" title="（1）v-if"></a>（1）v-if</h4><ul>
<li>当 v-if 的属性值为 true 时，当前元素才会被渲染</li>
<li>若 v-if 的属性值为 false，当前元素会被直接移除</li>
</ul>
<h4 id="（2）v-else-if"><a href="#（2）v-else-if" class="headerlink" title="（2）v-else-if"></a>（2）v-else-if</h4><ul>
<li>当 v-else-if 的属性值为 true 时，当前元素才会被渲染</li>
<li>若 v-else-if 的属性值为 false，当前元素会被直接移除</li>
</ul>
<h4 id="（3）v-else"><a href="#（3）v-else" class="headerlink" title="（3）v-else"></a>（3）v-else</h4><ul>
<li>与 v-if、v-else-if 配合使用</li>
<li><font color=red>中间不能出现第三者，配合使用的元素必须是相连的兄弟元素</font></li>
</ul>
<h4 id="（4）v-show"><a href="#（4）v-show" class="headerlink" title="（4）v-show"></a>（4）v-show</h4><ul>
<li>当 v-show 的属性值为 true 时，当前元素才会显示</li>
<li>若 v-show 的属性值为 false，当前元素会添加 display: none 行间样式</li>
</ul>
<h4 id="（5）dom-复用"><a href="#（5）dom-复用" class="headerlink" title="（5）dom 复用"></a>（5）dom 复用</h4><ul>
<li>vue 会自动的复用页面已经存在的 dom</li>
<li>通过定义不一样的 key 属性来取消复用</li>
</ul>
<hr>
<h3 id="5-列表渲染"><a href="#5-列表渲染" class="headerlink" title="5.列表渲染"></a>5.列表渲染</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      ul &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        width: 300px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      ul li &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        margin-bottom: 20px;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="css">      <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">span</span><span class="selector-class">.new</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        background-color: red;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span> <span class="attr">:key</span>=<span class="string">"item.id"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"new"</span> <span class="attr">v-show</span>=<span class="string">"item.new"</span>&gt;</span>新<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">        data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">          list: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"中国70周年庆典"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">false</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">              id: 0</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"新型冠状病毒"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">true</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">              id: 1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"NBA巨星科比坠机身亡"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">true</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">              id: 2</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"澳大利亚大火"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">false</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">              id: 3</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"2020鼠年春晚"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">false</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">              id: 4</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">          ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（1）v-for"><a href="#（1）v-for" class="headerlink" title="（1）v-for"></a>（1）v-for</h4><ul>
<li>v-for 属性值可以是一个数组（listArr）</li>
<li>子元素使用的每一项 item 需要手动在 v-for 中定义（item in listArr）</li>
<li>v-for 属性值也可以是一个对象（listObj）</li>
<li>子元素使用的数据（键、值、索引）需要手动在 v-for 中定义（(key, value, index) in listObj）</li>
<li>建议使用 v-bind:key 定义一个唯一的值，复用 dom 提高效率（:key=item.id）</li>
</ul>
<h4 id="（2）数组更新检测"><a href="#（2）数组更新检测" class="headerlink" title="（2）数组更新检测"></a>（2）数组更新检测</h4><ul>
<li><font color=red>在数据数组中利用索引手动增减数据，视图不会更新</font></li>
<li><font color=red>改变数据数组的引用，视图会更新</font></li>
<li><font color=red>Vue 将被侦听的数组的变异方法进行了包裹，所以它们也将会触发视图更新</font></li>
<li>数组变异方法：<ul>
<li>push()</li>
<li>pop()</li>
<li>shift()</li>
<li>unshift()</li>
<li>splice()</li>
<li>sort()</li>
<li>reverse()</li>
</ul>
</li>
</ul>
<h4 id="（3）对象检测更新"><a href="#（3）对象检测更新" class="headerlink" title="（3）对象检测更新"></a>（3）对象检测更新</h4><ul>
<li><font color=red>在数据对象中利用引用手动增减属性，视图不会更新</font></li>
<li><font color=red>改变数据对象的引用，视图会更新</font></li>
<li><font color=red>使用 Vue.set(obj, prop, data)，视图会更新</font></li>
</ul>
<h4 id="（4）模板-template"><a href="#（4）模板-template" class="headerlink" title="（4）模板 template"></a>（4）模板 template</h4><ul>
<li>列表渲染可以使用 template 模板作为某些元素的父元素进行嵌套方便循环</li>
<li>当循环结束，template 不会存在视图结构中</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;item.content&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr></table></figure>

<hr>
<h3 id="6-双向数据绑定"><a href="#6-双向数据绑定" class="headerlink" title="6.双向数据绑定"></a>6.双向数据绑定</h3><h4 id="（1）v-model"><a href="#（1）v-model" class="headerlink" title="（1）v-model"></a>（1）v-model</h4><ul>
<li>你可以用 v-model 指令在表单 &lt;input&gt;、&lt;textarea&gt; 及 &lt;select&gt; 元素上创建双向数据绑定。</li>
<li>v-model 在内部为不同的输入元素使用不同的属性并抛出不同的事件：<ul>
<li>text 和 textarea 元素使用 value 属性和 input 事件；</li>
<li>checkbox 和 radio 使用 checked 属性和 change 事件；</li>
<li>select 字段将 value 作为 prop 并将 change 作为事件。</li>
</ul>
</li>
<li><font color=red>在文本区域插值 (&lt;textarea&gt;</textarea>) 并不会生效，应用 v-model 来代替。</font></li>
<li>单个复选框，绑定到布尔值：多个复选框，绑定到同一个数组：</li>
<li>如果 v-model 表达式的初始值未能匹配任何选项，&lt;select&gt; 元素将被渲染为“未选中”状态。</li>
</ul>
<h4 id="（2）修饰符"><a href="#（2）修饰符" class="headerlink" title="（2）修饰符"></a>（2）修饰符</h4><ul>
<li>在默认情况下，v-model 在每次 input 事件触发后将输入框的值与数据进行同步 (除了上述输入法组合文字时)。你可以添加 lazy 修饰符，从而转变为使用 change 事件进行同步：</li>
<li>如果想自动将用户的输入值转为数值类型，可以给 v-model 添加 number 修饰符：在 type=”number” 时，HTML 输入元素的值也总会返回字符串。如果这个值无法被 parseFloat() 解析，则会返回原始的值。</li>
<li>如果要自动过滤用户输入的首尾空白字符，可以给 v-model 添加 trim 修饰符：</li>
</ul>
<hr>
<h3 id="7-事件处理"><a href="#7-事件处理" class="headerlink" title="7.事件处理"></a>7.事件处理</h3><h4 id="（1）监听"><a href="#（1）监听" class="headerlink" title="（1）监听"></a>（1）监听</h4><ul>
<li>可以用 v-on 指令监听 DOM 事件，并在触发时运行一些 JavaScript 代码。</li>
<li>然而许多事件处理逻辑会更为复杂，所以直接把 JavaScript 代码写在 v-on 指令中是不可行的。因此 v-on 还可以接收一个需要调用的方法名称。</li>
<li>除了直接绑定到一个方法，也可以在内联 JavaScript 语句中调用方法并且传参。</li>
</ul>
<h4 id="（2）修饰符-1"><a href="#（2）修饰符-1" class="headerlink" title="（2）修饰符"></a>（2）修饰符</h4><ul>
<li>Vue.js 为 v-on 提供了事件修饰符。之前提过，修饰符是由点开头的指令后缀来表示的。<ul>
<li>.stop 阻止冒泡</li>
<li>.prevent 阻止默认事件</li>
<li>.capture 捕获模式</li>
<li>.self 自身事件源</li>
<li>.once 执行一次</li>
<li>.passive 不阻止默认事件</li>
</ul>
</li>
</ul>
<h4 id="（3）按键修饰符"><a href="#（3）按键修饰符" class="headerlink" title="（3）按键修饰符"></a>（3）按键修饰符</h4><ul>
<li><p>你可以直接将 KeyboardEvent.key 暴露的任意有效按键名转换为 kebab-case 来作为修饰符。</p>
<blockquote>
<p>&lt;input v-on:keyup.page-down=”onPageDown”&gt;</p>
</blockquote>
</li>
<li><p>使用 keyCode attribute 也是允许的：</p>
<blockquote>
<p>&lt;input v-on:keyup.13=”submit”&gt;</p>
</blockquote>
</li>
<li><p>为了在必要的情况下支持旧浏览器，Vue 提供了绝大多数常用的按键码的别名：</p>
<ul>
<li>.enter</li>
<li>.tab</li>
<li>.delete (捕获“删除”和“退格”键)</li>
<li>.esc</li>
<li>.space</li>
<li>.up</li>
<li>.down</li>
<li>.left</li>
<li>.right</li>
</ul>
</li>
<li><p>你还可以通过全局 config.keyCodes 对象自定义按键修饰符别名：</p>
<blockquote>
<p>可以使用 v-on:keyup.f1 Vue.config.keyCodes.f1 = 112</p>
</blockquote>
</li>
</ul>
<h4 id="（4）系统修饰键"><a href="#（4）系统修饰键" class="headerlink" title="（4）系统修饰键"></a>（4）系统修饰键</h4><ul>
<li>可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器。<ul>
<li>.ctrl</li>
<li>.alt</li>
<li>.shift</li>
<li>.meta</li>
<li>.exact 修饰符允许你控制由精确的系统修饰符组合触发的事件。</li>
</ul>
</li>
</ul>
<h4 id="（5）鼠标修饰符"><a href="#（5）鼠标修饰符" class="headerlink" title="（5）鼠标修饰符"></a>（5）鼠标修饰符</h4><ul>
<li>鼠标按钮修饰符<ul>
<li>.left</li>
<li>.right</li>
<li>.middle</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）组件"><a href="#（二）组件" class="headerlink" title="（二）组件"></a>（二）组件</h2><h3 id="1-注册组件"><a href="#1-注册组件" class="headerlink" title="1.注册组件"></a>1.注册组件</h3><h4 id="（1）全局组件"><a href="#（1）全局组件" class="headerlink" title="（1）全局组件"></a>（1）全局组件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tag-name</span> <span class="attr">:prop-name</span>=<span class="string">"data"</span>&gt;</span><span class="tag">&lt;/<span class="name">tag-name</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  Vue.component(<span class="string">"tagName"</span>, &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    props: [<span class="string">"propName"</span>],</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">    template: "<span class="tag">&lt;<span class="name">html</span>&gt;</span></span><span class="template-variable">&#123;&#123;propName&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;&#125;;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      getData() &#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case，例如 &lt;my-component-name&gt;。</li>
</ul>
<h4 id="（2）局部组件"><a href="#（2）局部组件" class="headerlink" title="（2）局部组件"></a>（2）局部组件</h4><ul>
<li>全局注册往往是不够理想的。比如，如果你使用一个像 webpack 这样的构建系统，全局注册所有的组件意味着即便你已经不再使用一个组件了，它仍然会被包含在你最终的构建结果中。这造成了用户下载的 JavaScript 的无谓的增加。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tag-name</span> <span class="attr">:prop-name</span>=<span class="string">"data"</span>&gt;</span><span class="tag">&lt;/<span class="name">tag-name</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      tagName: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"propName"</span>],</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">html</span>&gt;</span></span><span class="template-variable">&#123;&#123;propName&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;&#125;;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">          getData() &#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<hr>
<h4 id="（3）特别注意"><a href="#（3）特别注意" class="headerlink" title="（3）特别注意"></a>（3）特别注意</h4><ul>
<li>取而代之的是，一个组件的 data 选项必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝：</li>
<li>every component must have a single root element (每个组件必须只有一个根元素)。你可以将模板的内容包裹在一个父元素内，来修复这个问题；</li>
<li>当一个值传递给一个 prop attribute 的时候，它就变成了那个组件实例的一个属性。为了给博文组件传递一个标题，我们可以用一个 props 选项将其包含在该组件可接受的 prop 列表中：</li>
</ul>
<h3 id="2-数据传递"><a href="#2-数据传递" class="headerlink" title="2.数据传递"></a>2.数据传递</h3><h4 id="（1）父传子"><a href="#（1）父传子" class="headerlink" title="（1）父传子"></a>（1）父传子</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 静态传递， 组件显示内容为 val --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 动态传递，组件显示内容为 hello world!!! --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"hello world!!!"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"content"</span>],</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>在父组件上通过自定义属性进行传值，属性名为接收的变量名，属性值为传递的数据</li>
<li>在子组件中通过 props 属性的值来对应接收的数据</li>
</ul>
<h4 id="（2）子传父"><a href="#（2）子传父" class="headerlink" title="（2）子传父"></a>（2）子传父</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 静态传递， 组件显示内容为 val --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 动态传递，组件显示内容为 hello world!!! --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 监听自定义事件transfer，并由getData事件处理程序处理 --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span> @<span class="attr">transfer</span>=<span class="string">"getData"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"hello world!!!"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"content"</span>],</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"outData"</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`, //绑定点击事件outData</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">        data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            sonData: <span class="string">"I am from son"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">          &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">          outData() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.$emit(<span class="string">"transfer"</span>, <span class="keyword">this</span>.sonData, <span class="string">"my name is son"</span>); <span class="comment">//将数据传递给父级</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">      getData(sonData) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//形参对应传递的数据</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.val = sonData; <span class="comment">//"I am from son"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>在子组件中通过自定义事件进行传值，第一个参数为监听事件名，第二参数为传递的数据</li>
<li>在父组件上通过监听事件，通过对应的事件处理程序进行处理，事件处理程序的参数对应接收的数据</li>
</ul>
<h4 id="（3）单向数据流"><a href="#（3）单向数据流" class="headerlink" title="（3）单向数据流"></a>（3）单向数据流</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      val: [10, 20, 30]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"content"</span>],</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//使用克隆后自身的值，组件之间不会相互影响</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//使用父级传入的引用值，组件之间可能会相互影响</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"changeData"</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span> @<span class="attr">click</span>=<span class="string">"changeSelfData"</span>&gt;</span></span><span class="template-variable">&#123;&#123;newContent&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            newContent: <span class="keyword">this</span>.content.concat([]) <span class="comment">//深度克隆</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">          &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">          changeData() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.content.push(<span class="string">"受到影响"</span>); <span class="comment">//改变父级传入的引用值可能对父级、其它组件造成影响</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">          changeSelfData() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.newContent.push(<span class="string">"互不影响"</span>); <span class="comment">//改变自身的值，不会造成父级改变而影响到其它组件</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</li>
<li>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</li>
</ul>
<h4 id="（4）prop-验证"><a href="#（4）prop-验证" class="headerlink" title="（4）prop 验证"></a>（4）prop 验证</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">title</span>=<span class="string">"hello"</span> <span class="attr">:content</span>=<span class="string">"val"</span> <span class="attr">:str</span>=<span class="string">"success"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      val: [10, 20, 30]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        props: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">          title: <span class="built_in">String</span>, <span class="comment">//Number/Boolean/Array/Object/Date/Function/Symbol</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">          content: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">            type: [<span class="built_in">Array</span>, <span class="built_in">Object</span>], <span class="comment">//[String, Array] 期望类型,可以是多种类型（用数组列表）之一</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">return</span> [<span class="number">10</span>, <span class="number">20</span>]; <span class="comment">//数组或对象默认值必须用工厂函数获取</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">          str: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            required: <span class="literal">true</span>, <span class="comment">//是否必须传入</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            viewport: <span class="function"><span class="keyword">function</span><span class="params">(value)</span> </span>&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="comment">//自定义验证，返回值true代表通过</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">return</span> [<span class="string">"success"</span>, <span class="string">"warning"</span>, <span class="string">"danger"</span>].indexOf(value) !== <span class="number">-1</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>为了定制 prop 的验证方式，你可以为 props 中的值提供一个带有验证需求的对象，而不是一个字符串数组。</li>
<li>数组或对象默认值必须用工厂函数获取</li>
<li>类型检测支持：String/Number/Boolean/Array/Object/Date/Function/Symbol</li>
</ul>
<hr>
<h3 id="3-动态组件"><a href="#3-动态组件" class="headerlink" title="3.动态组件"></a>3.动态组件</h3><h4 id="（1）component-is"><a href="#（1）component-is" class="headerlink" title="（1）component:is"></a>（1）component:is</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- &lt;com-one&gt;&lt;/com-one&gt; --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- &lt;com-two&gt;&lt;/com-two&gt; --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"comOne"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"comTwo"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"type"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      type: <span class="string">"comThree"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      comOne: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      comTwo: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">h2</span>&gt;</span>world<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      comTwo: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">h3</span>&gt;</span>!!!<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>出了组件名作为标签来使用组件外，我们还可以使用统一 component 标签，并用 is 属性来绑定使用哪一个组件</li>
<li>我们还可以使用动态绑定 v-bind:is 来动态的切换组件</li>
</ul>
<h4 id="（2）keep-alive"><a href="#（2）keep-alive" class="headerlink" title="（2）keep-alive"></a>（2）keep-alive</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"type"</span>&gt;</span><span class="tag">&lt;<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        type: <span class="string">"comOne"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        change()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.type = <span class="keyword">this</span>.type === <span class="string">"comOne"</span> ? <span class="string">"comTwo"</span> : <span class="string">"comOne"</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        comOne: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">          template: "<span class="tag">&lt;<span class="name">div</span>&gt;</span>账号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        comTwo: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">          template: "<span class="tag">&lt;<span class="name">div</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'password'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>当在这些组件之间切换的时候，你有时会想保持这些组件的状态，以避免反复重渲染导致的性能问题。</li>
<li>你每次切换新标签的时候，Vue 都创建了一个新的 currentTabComponent 实例。</li>
<li>重新创建动态组件的行为通常是非常有用的，但有时候，我们更希望那些标签的组件实例能够被在它们第一次被创建的时候缓存下来。</li>
<li>我们可以用一个 &lt;keep-alive&gt; 元素将其动态组件包裹起来。要求被切换到的组件都有自己的名字，不论是通过组件的 name 选项还是局部/全局注册。</li>
</ul>
<hr>
<h3 id="4-插槽"><a href="#4-插槽" class="headerlink" title="4.插槽"></a>4.插槽</h3><h4 id="（1）匿名、具名插槽"><a href="#（1）匿名、具名插槽" class="headerlink" title="（1）匿名、具名插槽"></a>（1）匿名、具名插槽</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"com-one"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>2月2日<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"com-two"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">"header"</span>&gt;</span>太阳<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>月亮<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span>星星<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      comOne: &#123;<span class="comment">//匿名插槽</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>2020年<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      comTwo: &#123;<span class="comment">//具名插槽（匿名默认是default）</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">'header'</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"default"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（2）作用域插槽"><a href="#（2）作用域插槽" class="headerlink" title="（2）作用域插槽"></a>（2）作用域插槽</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 父级将数据传递给子级 --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">com-one</span> <span class="attr">:list</span>=<span class="string">"list"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">&lt;!-- 父级声明一个作用域slot-scope, 对应子级作用域 --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">          <span class="comment">&lt;!-- 在这个作用域内可以使用子级绑定的数据 --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">          &#123;&#123;scope.item&#125;&#125; - &#123;&#123;scope.index&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">com-one</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">com-one</span> <span class="attr">:list</span>=<span class="string">"list"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">          &#123;&#123;scope.index&#125;&#125; - &#123;&#123;scope.item&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">com-one</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">        list: [1,2,3,4,5]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      components: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        comOne: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          props: [<span class="string">"list"</span>],<span class="comment">//子级接受数据</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">          data()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">              newList: <span class="keyword">this</span>.list.concat([])<span class="comment">//子级深度克隆数据，并使用克隆后的数据</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="comment">//插槽列表渲染</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="comment">//绑定需要的数据（在slot-scope内）</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">          template: `<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">                        &lt;slot </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">                          v-<span class="keyword">for</span>=<span class="string">'(item, index) in newList'</span> </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">                          :key=<span class="string">"index"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">                          :item=<span class="string">"item"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">                          :index=<span class="string">"index"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                        <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<hr>
<h2 id="（三）实例"><a href="#（三）实例" class="headerlink" title="（三）实例"></a>（三）实例</h2><h3 id="1-new-Vue"><a href="#1-new-Vue" class="headerlink" title="1.new Vue()"></a>1.new Vue()</h3><h4 id="（1）vm"><a href="#（1）vm" class="headerlink" title="（1）vm"></a>（1）vm</h4><ul>
<li>虽然没有完全遵循 MVVM 模型，但是 Vue 的设计也受到了它的启发。因此在文档中经常会使用 vm (ViewModel 的缩写) 这个变量名表示 Vue 实例。</li>
</ul>
<h4 id="（2）data"><a href="#（2）data" class="headerlink" title="（2）data"></a>（2）data</h4><ul>
<li>当一个 Vue 实例被创建时，它将 data 对象中的所有的属性加入到 Vue 的响应式系统中。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。</li>
<li>当这些数据改变时，视图会进行重渲染。值得注意的是只有当实例被创建时就已经存在于 data 中的属性才是响应式的。</li>
</ul>
<h4 id="（3）el、-mount-、template、render"><a href="#（3）el、-mount-、template、render" class="headerlink" title="（3）el、$mount()、template、render()"></a>（3）el、$mount()、template、render()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app1"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app2"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app3"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app4"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//通过el属性挂载实例</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm1 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">'#app1'</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app1"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//通过实例方法$Mount()挂载实例</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm2 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app2"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  vm2.$mount(<span class="string">"#app2"</span>)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//template会替换掉div#app3</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//template优于el和$mount()的outHtml()</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm3 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">'#app3'</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app3"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">    template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;val&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//render优于template</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm4 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">'#app4'</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app4"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">    template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;val&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">    render(h)&#123;<span class="comment">// h函数用于创建VNode</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">return</span> h(<span class="string">"p"</span>,&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//行间样式</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">        style: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          color: <span class="string">"red"</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//类名</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="class"><span class="keyword">class</span>: ['<span class="title">bg</span>'],</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//Dom属性</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">        domProps: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="comment">// innerHTML: "app"//优于第三个参数</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      &#125;,[h(<span class="string">"h3"</span>),h(<span class="string">"h4"</span>)]);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>el、$mount()都是挂载实例</li>
<li>template时一个html字符串，会替换掉挂载的Dom,如果没有则使用挂载Dom的outHtml()</li>
<li>render()是产生虚拟Dom的函数，所返回的虚拟Dom会决定视图的内容</li>
</ul>
<h3 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2.生命周期"></a>2.生命周期</h3><ul>
<li>生命周期钩子<img src="./lifecycle.png">
</li>
</ul>
<hr>
<h2 id="（四）Vue-Cli"><a href="#（四）Vue-Cli" class="headerlink" title="（四）Vue-Cli"></a>（四）Vue-Cli</h2><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h3><h4 id="（1）npm安装"><a href="#（1）npm安装" class="headerlink" title="（1）npm安装"></a>（1）npm安装</h4><blockquote>
<p>npm install -g @vue/cli<br>vue –version </p>
</blockquote>
<h4 id="（2）创建项目-cmd指令"><a href="#（2）创建项目-cmd指令" class="headerlink" title="（2）创建项目-cmd指令"></a>（2）创建项目-cmd指令</h4><blockquote>
<p>vue create vue-app</p>
</blockquote>
<ul>
<li><p><font color=red>解决git中上下按键选择无效问题？</font></p>
<ul>
<li>选择git bash 的安装目录，找到etc/bash.bashrc文件</li>
<li>文件末未添加 ：alias vue=’winpty vue.cmd’</li>
<li>重启git bash 即可</li>
</ul>
</li>
<li><p>清除预设</p>
<blockquote>
<p>C:/user/lhf/.vuerc</p>
</blockquote>
</li>
</ul>
<h4 id="（3）创建项目-UI"><a href="#（3）创建项目-UI" class="headerlink" title="（3）创建项目-UI"></a>（3）创建项目-UI</h4><blockquote>
<p>vue ui</p>
</blockquote>
<ul>
<li>回到创建页<blockquote>
<p>C:/user/lhf/vue-cli-ui/db.json</p>
</blockquote>
</li>
</ul>
<h4 id="（3）运行项目"><a href="#（3）运行项目" class="headerlink" title="（3）运行项目"></a>（3）运行项目</h4><ul>
<li><p>运行index.html</p>
<blockquote>
<p>npm run serve</p>
</blockquote>
</li>
<li><p>运行指定vue文件</p>
<blockquote>
<p>npm install -g @vue/cli-service-global<br>vue run serve helloworld</p>
</blockquote>
</li>
</ul>
<hr>
<h3 id="2-路由router"><a href="#2-路由router" class="headerlink" title="2.路由router"></a>2.路由router</h3><h4 id="（1）安装"><a href="#（1）安装" class="headerlink" title="（1）安装"></a>（1）安装</h4><blockquote>
<p>npm install vue-router –save<br>vue add router –save</p>
</blockquote>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li>router.js<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/Home.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'../views/About.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Learn <span class="keyword">from</span> <span class="string">'../views/Learn.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Student <span class="keyword">from</span> <span class="string">'../views/Student.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Community <span class="keyword">from</span> <span class="string">'../views/Community.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Question <span class="keyword">from</span> <span class="string">'../components/community/question'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Forum <span class="keyword">from</span> <span class="string">'../components/community/forum'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Help <span class="keyword">from</span> <span class="string">'../components/community/help'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Answer <span class="keyword">from</span> <span class="string">'../components/Answer'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Error404 <span class="keyword">from</span> <span class="string">'../components/Error'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">Vue.use(VueRouter)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">'/home'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    name: <span class="string">'home'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    alias: <span class="string">"/"</span>, <span class="comment">//别名, 影响active</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    components: &#123;<span class="comment">//router-view复用</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">default</span>: Home,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      <span class="string">"list"</span>: Question</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">'/about'</span>,<span class="comment">//对用router-link to=path</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    name: <span class="string">'about'</span>,<span class="comment">//对用router-link :to=&#123;name: name&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    component: About</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">'/community'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    name: <span class="string">'community'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">    component: Community,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">    redirect: <span class="string">"/community/question"</span>,<span class="comment">//路由重定向</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    meta: &#123;<span class="comment">//原信息，子组件实例的$route.matched[0].meta可以访问到，在访问不到实例之前，to上面也可以访问</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">      login: <span class="literal">false</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">    children: [<span class="comment">//嵌套路由</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">// path: '/community/question',//绝对路径</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'question'</span>,<span class="comment">//相对路径简写形式，不能出现/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"question"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">        component: Question</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'forum'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"forum"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">        component: Forum</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'help'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"help"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">        component: Help</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">"/answer/:id"</span>,<span class="comment">//动态路由</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">    name: <span class="string">"answer"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">    component: Answer</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">"/404"</span>,<span class="comment">//404</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">    name: <span class="string">"error"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line">    component: Error404</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">'*'</span>,<span class="comment">//未匹配重定向</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">    redirect(to)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span>(to.path === <span class="string">"/"</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> <span class="string">'/home'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line">      &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">74</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">75</span></pre></td><td class="code"><pre><span class="line">          name: <span class="string">"error"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">76</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">77</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">78</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">79</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">80</span></pre></td><td class="code"><pre><span class="line">]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">81</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">82</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">83</span></pre></td><td class="code"><pre><span class="line">  linkActiveClass: <span class="string">"active"</span>,<span class="comment">//重命名</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">84</span></pre></td><td class="code"><pre><span class="line">  mode: <span class="string">'history'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">85</span></pre></td><td class="code"><pre><span class="line">  base: process.env.BASE_URL,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">86</span></pre></td><td class="code"><pre><span class="line">  routes</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">87</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">88</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">89</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span></pre></td></tr></table></figure></li>
<li>component.vue</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"nav"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">tag</span>=<span class="string">"li"</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">tag</span>=<span class="string">"li"</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 动态绑定 --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 动态路由 --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123;name: 'myHome', params: &#123;id: item.id&#125;&#125;"</span>&gt;</span>myHome<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123;name: about&#125;"</span>&gt;</span>myAbout<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    create()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">this</span>.$route.params.id<span class="comment">//动态路由传值接收</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>路由: vue-router</li>
<li>路由嵌套: children[]</li>
<li>动态路由: ‘/path/:id’ :to=”{name: path, params:{id: item.id}}” create(){this.$route.params.id}</li>
<li>路由重定向: redirect: ‘/newPath’</li>
<li>路由别名：alias</li>
<li>路由Class: LinkActiveClass</li>
<li>router-link应用: tag=”li”</li>
<li>router-view复用: components[]</li>
<li>原信息：meta</li>
</ul>
<hr>
<h4 id="（3）导航守卫"><a href="#（3）导航守卫" class="headerlink" title="（3）导航守卫"></a>（3）导航守卫</h4><ul>
<li>全局守卫</li>
<li>Router实例方法：beforeEach(function(to, from, next){})<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  linkActiveClass: <span class="string">"active"</span>,<span class="comment">//重命名</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  mode: <span class="string">'history'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  base: process.env.BASE_URL,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  routes</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//导航守卫 全局守卫</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// to: 去哪里</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// from: 从哪来</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// next(param)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//             param === false 不许进，从哪来回哪去</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//             param === path 去指定地方</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//             空 允许进</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function"><span class="keyword">function</span>(<span class="params">to, from, next</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span>(to.path === <span class="string">"/community/question"</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> result = confirm(<span class="string">"你还没有登录，要前往登录吗？"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(result)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      next(&#123;<span class="attr">name</span>: <span class="string">'user'</span>&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      next(<span class="literal">false</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    next()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure></li>
<li>路由独享守卫-路由（仅仅可以守卫该路径下的组件）</li>
<li>routes内属性方法：beforeEnter(to, from, next){}<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    path: <span class="string">'/community'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    name: <span class="string">'community'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    component: Community,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    redirect: <span class="string">"/community/question"</span>,<span class="comment">//重定向</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    children: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">// path: '/community/question',</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'question'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"question"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        component: Question,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        beforeEnter(to, <span class="keyword">from</span>, next)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">          <span class="keyword">let</span> result = confirm(<span class="string">"你还没有登录，要前往登录吗？"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">          <span class="keyword">if</span>(result)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">            next(&#123;<span class="attr">name</span>: <span class="string">'user'</span>&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">          &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">            next(<span class="literal">false</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'forum'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"forum"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">        component: Forum</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'help'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"help"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        component: Help</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">        path: <span class="string">'user'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">        name: <span class="string">"user"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">        component: User</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr></table></figure></li>
<li>组件内守卫-组件（可守卫所有该组件出现的地方）</li>
<li>组件属性方法：beforeRouteEnter(to, from, next)<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">    beforeRouteEnter(to, <span class="keyword">from</span>, next) &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      if(to.matched[0].meta.login)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        next();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">return</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> result = confirm(<span class="string">"你还没有登录，要前往登录吗？"</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      if (result) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        next(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          name: <span class="string">'user'</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      &#125; <span class="keyword">else</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        next(<span class="literal">false</span>)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">    beforeRouteLeave(to, <span class="keyword">from</span>, next)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> result = confirm(<span class="string">"确定要离开吗？"</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      if(result)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        next()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      &#125;<span class="keyword">else</span>&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        next(<span class="literal">false</span>)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">        questions: [&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">            id: 202001,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            question: <span class="string">"月亮太阳看起来为什么一样大?"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            answer: <span class="string">"从地球上望月球，它看上去与太阳的大小差不多，造成这种错觉是距离奇怪的安排."</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">            id: 202002,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            question: <span class="string">"墨为什么不褪色?"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            answer: <span class="string">"因为墨是煤的一家。墨是用煤烟制成的。煤是永远也洗不白的，因此，墨写的字、画的画是不褪色的."</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">            id: 202003,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            question: <span class="string">"为什么海洋是蓝色的？?"</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            answer: <span class="string">"大海看起来是那么蓝，那么美。可实际上，海水也是无色透明的."</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">      &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="（4）懒加载"><a href="#（4）懒加载" class="headerlink" title="（4）懒加载"></a>（4）懒加载</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Home from '../views/Home.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import About from '../views/About.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Learn from '../views/Learn.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Student from '../views/Student.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Community from '../views/Community.vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Question from '../components/community/question'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Forum from '../components/community/forum'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Help from '../components/community/help'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Answer from '../components/Answer'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import Error404 from '../components/Error'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import User from '../components/community/user'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Home.vue'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> About = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/About.vue'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Learn = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Learn.vue'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Student = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Student.vue'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Community = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Community.vue'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Question = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/question'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Forum = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/forum'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Help = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/help'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Answer = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/Answer'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Error404 = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/Error'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> User = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/user'</span>);</span></pre></td></tr></table></figure>
<hr>
<h3 id="3-状态vuex"><a href="#3-状态vuex" class="headerlink" title="3.状态vuex"></a>3.状态vuex</h3><h4 id="（1）非父子组件传值"><a href="#（1）非父子组件传值" class="headerlink" title="（1）非父子组件传值"></a>（1）非父子组件传值</h4><ul>
<li>依赖共同祖先组件传值<ul>
<li>两个组件的关系太远，嵌套太深，数据太多不适用</li>
<li>一个组件给多个组件传值，关系复杂不适用</li>
</ul>
</li>
</ul>
<ul>
<li>事件总线<ul>
<li>利用Vue的prototype公共属性进行事件绑定与监听</li>
<li>需要依赖于事件</li>
</ul>
</li>
</ul>
<h4 id="（2）vuex-Store"><a href="#（2）vuex-Store" class="headerlink" title="（2）vuex.Store"></a>（2）vuex.Store</h4><ul>
<li>$store.state</li>
<li>$store.getters</li>
<li>mapState</li>
<li>mapGetters</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">Vue.use(Vuex)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  state: &#123;<span class="comment">//公共数据池</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    studentList: []</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  getters: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    list(state, getters)&#123;<span class="comment">//数据池、自身</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> state.studentList.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(index &lt; <span class="number">3</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">          <span class="keyword">return</span> getters.prefix + item;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">          <span class="keyword">return</span> item + getters.suffix;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    prefix()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="string">"#_"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    suffix()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="string">"-$"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">  mutations: &#123;<span class="comment">//同步处理</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    changeStudentList(state, val)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">      state.studentList.push(val)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">  actions: &#123;<span class="comment">//异步处理</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    change(ctx, val)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">      setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">        ctx.commit(<span class="string">"changeStudentList"</span>, val)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">      &#125;, <span class="number">1000</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">  modules: &#123;<span class="comment">//模块，将每一组页面下的数据单独抽离成一个模块，便于维护</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">    student: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">      namespaced: <span class="literal">true</span>,<span class="comment">//命名空间</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">      state,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">      getters,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">      ...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">    product: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">      ...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- &lt;div&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &lt;p v-if="list.length !== 0"&gt;学员列表：&lt;/p&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &lt;ul&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">        &lt;li v-for="(item, index) in list" :key="item+index"&gt;&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;&lt;/li&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &lt;/ul&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    &lt;/div&gt; --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"list.length !== 0"</span>&gt;</span>学员列表：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in list"</span> <span class="attr">:key</span>=<span class="string">"item+index"</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"new"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in newList"</span> <span class="attr">:key</span>=<span class="string">"item+index"</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;mapState, mapGetters&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">   <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">       data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">           <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="comment">// studentList: this.$store.state.studentList</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">           &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">       &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">       computed: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        ...mapState(&#123;<span class="comment">//重命名</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">          list: <span class="function"><span class="params">state</span> =&gt;</span> state.studentList</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">        &#125;),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        ...mapState(<span class="string">"modelName"</span>, [<span class="string">'studentList'</span>])<span class="comment">//使用模块需要添加对应模块名</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        ...mapGetters(&#123;<span class="comment">//重命名</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          newList: <span class="string">'list'</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">        &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">       &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">       created()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//  this.bus.$on("new-student", list =&gt; &#123;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//    this.studentList = list;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//  &#125;)</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">       &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">   &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>添加学员：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"studentName"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">&lt;!-- &lt;button @click="addStudent"&gt;添加&lt;/button&gt; --&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"[change(studentName), reset()]"</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;mapActions&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;<span class="comment">//简洁操作</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="javascript">   <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">       data() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">           <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            studentName: <span class="string">""</span>,</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">            <span class="comment">// studentList:[]</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">           &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">       &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">       methods: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">         ...mapActions([<span class="string">'change'</span>]),</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">         addStudent()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.studentList.push(<span class="keyword">this</span>.studentName);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.bus.$emit(<span class="string">"new-student"</span>, <span class="keyword">this</span>.studentList);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.state.studentList.push(<span class="keyword">this</span>.studentName);<span class="comment">//手动触发，不适用严格模式</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.commit(<span class="string">"changeStudentList"</span>, <span class="keyword">this</span>.studentName);<span class="comment">//同步更改</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.commit(<span class="string">"modelName/changeStudentList"</span>, <span class="keyword">this</span>.studentName);<span class="comment">//同步更改(使用模块)</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.dispatch(<span class="string">"change"</span>, <span class="keyword">this</span>.studentName)<span class="comment">//异步更改</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">          </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">         &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">         reset()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.studentName = <span class="string">""</span>;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">         &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">       &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">   &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/31/VUEa/" data-id="ck73cha2d000fw8tg5rkx181f"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-GULPa" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/07/GULPa/"
    >Gulp --- 概述篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/07/GULPa/" class="article-date">
  <time datetime="2020-01-06T18:00:00.000Z" itemprop="datePublished">2020-01-07</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="gulp概述"><a href="#gulp概述" class="headerlink" title="gulp概述"></a>gulp概述</h1><h2 id="（一）环境配置"><a href="#（一）环境配置" class="headerlink" title="（一）环境配置"></a>（一）环境配置</h2><ol>
<li>npm i -g gulp</li>
<li>npm init -y</li>
<li>npm i -D gulp</li>
<li>create gulpfile.js</li>
</ol>
<h2 id="（二）gulpfile-js"><a href="#（二）gulpfile-js" class="headerlink" title="（二）gulpfile.js"></a>（二）gulpfile.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">"gulp"</span>); <span class="comment">//gulp4.0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> minifyHtml = <span class="built_in">require</span>(<span class="string">"gulp-minify-html"</span>); <span class="comment">//压缩html</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);<span class="comment">//图片压缩</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> minifyCss = <span class="built_in">require</span>(<span class="string">"gulp-minify-css"</span>); <span class="comment">//压缩CSS</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>); <span class="comment">//编译less</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postcss = <span class="built_in">require</span>(<span class="string">"gulp-postcss"</span>);<span class="comment">//自动添加css3前缀</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>); <span class="comment">//js压缩</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> debug = <span class="built_in">require</span>(<span class="string">"gulp-strip-debug"</span>);<span class="comment">//清除js调试语句</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> connect = <span class="built_in">require</span>(<span class="string">"gulp-connect"</span>);<span class="comment">//服务器依赖</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//出入口路径</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> folder = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  src: <span class="string">"src/"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  dist: <span class="string">"dist/"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//任务队列</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> taskArr = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//html任务</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"html"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"html/*"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      .pipe(connect.reload())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">      .pipe(minifyHtml())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"html/"</span>))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">taskArr.push(<span class="string">"html"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//css任务</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"css"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"css/*"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">      .pipe(connect.reload())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">      .pipe(less())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">      .pipe(postcss([autoprefixer()]))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">      .pipe(minifyCss())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"css/"</span>))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">taskArr.push(<span class="string">"css"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//image任务</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"image"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"image/*"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">      .pipe(imagemin())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"image/"</span>))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">taskArr.push(<span class="string">"image"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//js任务</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"js"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"js/*"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">      .pipe(connect.reload())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">      .pipe(debug())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">      .pipe(uglify())</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"js/"</span>))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">taskArr.push(<span class="string">"js"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//服务器任务</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"server"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">  connect.server(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line">    port: <span class="number">9000</span>,<span class="comment">//端口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line">    livereload:<span class="literal">true</span><span class="comment">//刷新</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">taskArr.push(<span class="string">"server"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//监听任务</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"watch"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">74</span></pre></td><td class="code"><pre><span class="line">  gulp.watch(folder.src + <span class="string">"html/*"</span>, gulp.series(<span class="string">"html"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">75</span></pre></td><td class="code"><pre><span class="line">  gulp.watch(folder.src + <span class="string">"css/*"</span>, gulp.series(<span class="string">"css"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">76</span></pre></td><td class="code"><pre><span class="line">  gulp.watch(folder.src + <span class="string">"js/*"</span>, gulp.series(<span class="string">"js"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">77</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">78</span></pre></td><td class="code"><pre><span class="line">taskArr.push(<span class="string">"watch"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">79</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">80</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认执行任务队列</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">81</span></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"default"</span>, gulp.parallel(taskArr))</span></pre></td></tr></table></figure>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/07/GULPa/" data-id="ck73cha230009w8tg8q17d7mj"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-WEBPACKa" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/07/WEBPACKa/"
    >Webpack --- 应用篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/07/WEBPACKa/" class="article-date">
  <time datetime="2020-01-06T17:00:00.000Z" itemprop="datePublished">2020-01-07</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="一、模块化"><a href="#一、模块化" class="headerlink" title="一、模块化"></a>一、模块化</h1><h2 id="（一）工程化思想"><a href="#（一）工程化思想" class="headerlink" title="（一）工程化思想"></a>（一）工程化思想</h2><ul>
<li>前端工程化是根据业务特点，将前端开发流程规范化，标准化，它包括了开发流程，技术选型，代码规范，构建发布等，用于提升前端工程师的开发效率和代码质量。</li>
</ul>
<h2 id="（二）js-模块化"><a href="#（二）js-模块化" class="headerlink" title="（二）js 模块化"></a>（二）js 模块化</h2><h3 id="1-commonJS规范"><a href="#1-commonJS规范" class="headerlink" title="1.commonJS规范"></a>1.commonJS规范</h3><h4 id="（1）核心思想"><a href="#（1）核心思想" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>1）据 CommonJs 规范规定每一个 Js 文件都可以看作一个模块，其内部定义的变量是属于这个模块的，不会对外暴露，也就是说不会污染全局变量。该规范最初用在服务器端的 node 环境中。</li>
<li>2）CommonJS 采用==同步加载==不同模块文件，适用于服务器端的。因为模块文件都存放在服务器的各个硬盘上，读取加载时间快，适合服务器端，不适应浏览器。</li>
<li>3）浏览器不兼容 CommonJs，原因是浏览器缺少 module、exports、require、global 四个环境变量。如要使用需要工具转换。</li>
<li>4）CommonJS 的核心思想就是通过 require 方法来同步加载所要依赖的其他模块，然后通过 exports 或者 module.exports 来导出需要暴露的接口。</li>
</ul>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li><p>暴露接口方式</p>
<ul>
<li>module.exports = value；</li>
<li>exports.XXX = value；</li>
</ul>
</li>
<li><p>exports 本质是一个空对象。</p>
</li>
<li><p>引入模块 require(XXX)</p>
</li>
</ul>
<h4 id="（3）commonJs-兼容浏览器"><a href="#（3）commonJs-兼容浏览器" class="headerlink" title="（3）commonJs 兼容浏览器"></a>（3）commonJs 兼容浏览器</h4><ul>
<li>install browserify</li>
<li>browserify a.js -o bundle.js</li>
</ul>
<hr>
<h3 id="2-AMD-规范"><a href="#2-AMD-规范" class="headerlink" title="2.AMD 规范"></a>2.AMD 规范</h3><h4 id="（1）核心思想-1"><a href="#（1）核心思想-1" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>1）CommonJs 为服务器端而生，采用的同步加载方式。因此不适用浏览器。因为浏览器需要到服务器加载文件，请求时间远大于本机读取的时间，倘若文件较多，网络迟缓就会导致页面瘫痪，所以浏览器更希望能够时间异步加载的方式。</li>
<li>2）AMD 规范则是异步加载模块，允许指定回调函数。等模块异步加载完成后即可调用回调函数。</li>
<li>3）AMD 得意的产出就是 require.js</li>
<li>4）AMD 的核心思想就是通过 define 来定义一个模块，然后使用 require 来加载一个模块。</li>
<li>5）==依赖前置，需提前加载依赖，贪婪加载==</li>
</ul>
<h4 id="（2）使用-1"><a href="#（2）使用-1" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li>AMD 规范的使用依赖于 require.js <a href="https://requirejs.org/" target="_blank" rel="noopener">https://requirejs.org/</a></li>
<li>script 标签的 src 属性引入依赖文件 require.js</li>
<li>script 标签的 src 属性引入入口文件 index.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./require.js"</span> data-main=<span class="string">"./index.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">define([<span class="string">"m1"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">m1</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> msg = <span class="string">"m2-amd"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(msg, m1.getName());</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123; show &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">require</span>.config(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    paths: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      m1: <span class="string">"./module/m1"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      m2: <span class="string">"./module/m2"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      jquery: <span class="string">"./libs/jquery.min"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">require</span>([<span class="string">"m2"</span>, <span class="string">"jquery"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">m2, $</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    m2.show();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    $(<span class="string">".demo"</span>).css(<span class="string">"color"</span>, <span class="string">"red"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">&#125;)();</span></pre></td></tr></table></figure>

<hr>
<h3 id="3-CMD-规范"><a href="#3-CMD-规范" class="headerlink" title="3.CMD 规范"></a>3.CMD 规范</h3><h4 id="（1）核心思想-2"><a href="#（1）核心思想-2" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>1）CMD 异步加载，跟 AMD 的主要区别在于，AMD 依赖前置，提前加载依赖。而 CMD 就近加载，按需加载。</li>
<li>2）产物 seaJs，跟 requireJs 使用有些相似。</li>
<li>3）CMD 的核心思想就是通过 define 来定义一个模块，然后使用 require 来加载一个模块。</li>
<li>4）==依赖就近加载，按需加载==</li>
</ul>
<h4 id="（2）使用-2"><a href="#（2）使用-2" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li>script 标签引入依赖文件 sea.js</li>
<li>执行入口文件 seajs.use(index.js)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./sea.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  seajs.use(<span class="string">"./index.js"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&lt;<span class="regexp">/script&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">define(function (require, exports, module) &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">  var name = "m4-cmd";</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">  /</span><span class="regexp">/同步加载</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">  var m1 = require("./m</span>1<span class="string">")</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="string">  m1.showName();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="string">  //异步加载</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="string">  require.async('./m2', function(m2)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="string">    m2();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="string"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="string">  function showName() &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="string">    console.log(name);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="string">  exports.showName = showName;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="string"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="string">define(function (require, exports, module) &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="string">  //同步加载</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="string">  var m4 = require("</span>./<span class="built_in">module</span>/m4<span class="string">")</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="string">  m4.showName();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="string">  //异步加载</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="string">  require.async('./module/m3', function(m3)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="string">    m3.showName();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;)</span></span></pre></td></tr></table></figure>

<hr>
<h3 id="4-ES-Modules-规范"><a href="#4-ES-Modules-规范" class="headerlink" title="4.ES Modules 规范"></a>4.ES Modules 规范</h3><h4 id="（1）核心思想-3"><a href="#（1）核心思想-3" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>ES6 自带模块化，可以使用 import 关键字引入模块，通过 export 关键字导出模块，功能较之于前几个方案更为强大，也是我们所推崇的，但是由于 ES6 目前无法在浏览器中执行，所以，我们只能通过 babel 将不被支持的 import 编译为当前受到广泛支持的 require。</li>
</ul>
<h4 id="（2）模块化-what？"><a href="#（2）模块化-what？" class="headerlink" title="（2）模块化 what？"></a>（2）模块化 what？</h4><ul>
<li>模块化是指将一个复杂的系统分解为多个模块，方便编码。</li>
</ul>
<h4 id="（3）模块化-why？"><a href="#（3）模块化-why？" class="headerlink" title="（3）模块化 why？"></a>（3）模块化 why？</h4><ul>
<li>降低复杂性，降低代码耦合度，部署方便，提高效率。</li>
</ul>
<h4 id="（4）模块化好处？"><a href="#（4）模块化好处？" class="headerlink" title="（4）模块化好处？"></a>（4）模块化好处？</h4><ul>
<li>a,避免命名冲突，减少变量空间污染</li>
<li>b,更好的分离代码，按需加载</li>
<li>c,更高复用性</li>
<li>d,更高可维护性</li>
</ul>
<hr>
<h2 id="（三）预处理-Less"><a href="#（三）预处理-Less" class="headerlink" title="（三）预处理 Less"></a>（三）预处理 Less</h2><h3 id="1-嵌套"><a href="#1-嵌套" class="headerlink" title="1.嵌套"></a>1.嵌套</h3><h3 id="2-注释"><a href="#2-注释" class="headerlink" title="2.注释"></a>2.注释</h3><ul>
<li>单行注释：只希望被开发人员看到，不会编译进文件</li>
<li>包裹注释：希望用于代码阅读，会编译进文件</li>
</ul>
<h3 id="3-变量-变量运算-变量作用域"><a href="#3-变量-变量运算-变量作用域" class="headerlink" title="3.变量 / 变量运算 / 变量作用域"></a>3.变量 / 变量运算 / 变量作用域</h3><h3 id="4-混合-默认值-匹配-导入"><a href="#4-混合-默认值-匹配-导入" class="headerlink" title="4.混合 / 默认值 / 匹配 / 导入"></a>4.混合 / 默认值 / 匹配 / 导入</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@width:</span> <span class="number">500px</span>; <span class="comment">//变量</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@height:</span> <span class="variable">@width</span> + <span class="number">100px</span>; <span class="comment">//变量运算</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="variable">@color:</span> pink;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//混合</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@w</span>, <span class="variable">@s</span>, <span class="variable">@c</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border</span>: <span class="variable">@w</span> <span class="variable">@s</span> <span class="variable">@c</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span>(<span class="variable">@top</span>: <span class="number">0px</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">margin</span>: <span class="variable">@top</span> auto;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">"./trangle"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="variable">@width</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="variable">@height</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="variable">@color</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.center</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.demo</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    <span class="selector-class">.border</span>(<span class="number">5px</span>, solid, black);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    <span class="selector-class">.trangle</span>(T, <span class="number">50px</span>, blue) <span class="comment">//匹配;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h1 id="二、基于模块化打包Webpack"><a href="#二、基于模块化打包Webpack" class="headerlink" title="二、基于模块化打包Webpack"></a>二、基于模块化打包Webpack</h1><h2 id="（一）环境配置（4-0-版本）"><a href="#（一）环境配置（4-0-版本）" class="headerlink" title="（一）环境配置（4.0 版本）"></a>（一）环境配置（4.0 版本）</h2><blockquote>
<p>安装node<br>npm install webpack webpack-cli -g<br>npm init -y<br>npm install webpack webpack-cli -D<br>npm install<br>webpack</p>
</blockquote>
<ul>
<li>安装全局的webpack</li>
<li>初始化项目（默认生成package.json文件）</li>
<li>安装项目的webpack</li>
<li>初始化依赖（默认根据package.json中”devDependencies”的配置依次加载依赖，在安装依赖的时候可以用 –save-dev（-D）命令将依赖记录于配置中）</li>
<li>执行webpack 打包（基于没有 webpack.config.js）默认入口：src/index.js 默认出口：dist/main.js</li>
</ul>
<h2 id="（二）webpack-config-js-配置"><a href="#（二）webpack-config-js-配置" class="headerlink" title="（二）webpack.config.js 配置"></a>（二）webpack.config.js 配置</h2><h3 id="1-entry"><a href="#1-entry" class="headerlink" title="1.entry"></a>1.entry</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//单入口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  entry: <span class="string">"path"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//多入口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  entry: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    page1: <span class="string">"path"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    page2: <span class="string">"path"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    page3: <span class="string">"path"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-output"><a href="#2-output" class="headerlink" title="2.output"></a>2.output</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="string">module.exports = &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="string">  //单出口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="string">  output: &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">    filename: "</span>index.js<span class="string">",</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="string">    path: path.resolve(__dirname + "</span>/dist<span class="string">");</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="string">  //多入口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="string">  output: &#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[name].js<span class="string">",//使用模块名</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[id].js<span class="string">",//使用模块id</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[name][hash:<span class="number">20</span>].js<span class="string">",//加入hash</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[chunkhash].js<span class="string">",//chunk内容的hash</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="string">    path: path.resolve(__dirname + "</span>/dist<span class="string">"),//输出路径</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr></table></figure>
<hr>
<h3 id="3-mode"><a href="#3-mode" class="headerlink" title="3.mode"></a>3.mode</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//开发阶段</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  mode: <span class="string">"development"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//生产阶段</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  mode： <span class="string">"production"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="4-loader-amp-plugins"><a href="#4-loader-amp-plugins" class="headerlink" title="4.loader &amp; plugins"></a>4.loader &amp; plugins</h3><h4 id="（1）加载css"><a href="#（1）加载css" class="headerlink" title="（1）加载css"></a>（1）加载css</h4><h5 id="1）解析成style并插入head中"><a href="#1）解析成style并插入head中" class="headerlink" title="1）解析成style并插入head中"></a>1）解析成style并插入head中</h5><ol>
<li>npm i -D css-loader style-loader</li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.css$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        use: [<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2）解析less"><a href="#2）解析less" class="headerlink" title="2）解析less"></a>2）解析less</h5><ol>
<li>npm i -D less</li>
<li>npm i -D less-loader css-loader style-loader </li>
<li>在入口文件index.js中import “lessPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        use: [<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>, <span class="string">"less-loader"</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3）解析cssnext、添加兼容前缀、压缩"><a href="#3）解析cssnext、添加兼容前缀、压缩" class="headerlink" title="3）解析cssnext、添加兼容前缀、压缩"></a>3）解析cssnext、添加兼容前缀、压缩</h5><ol>
<li>npm i -D postcss-loader css-loader style-loader </li>
<li>npm i -D postcss-cssnext autoprefixer cssnano </li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">          MiniCssExtractPlugin.loader,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">          <span class="string">"css-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">            loader: <span class="string">"postcss-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">            options:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">              ident: <span class="string">"postcss"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">              plugins:[</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"postcss-cssnext"</span>)(),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)(),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"cssnano"</span>)()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">              ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">          <span class="string">"less-loader"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      filename: <span class="string">'[name].css'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="4）抽离css成独立文件"><a href="#4）抽离css成独立文件" class="headerlink" title="4）抽离css成独立文件"></a>4）抽离css成独立文件</h5><ol>
<li>npm i -D css-loader style-loader </li>
<li>npm i -D mini-css-extract-plugin </li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        use: [MiniCssExtractPlugin.loader, <span class="string">"css-loader"</span>, <span class="string">"less-loader"</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      filename: <span class="string">'[name].css'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="5）free-shaking-css"><a href="#5）free-shaking-css" class="headerlink" title="5）free-shaking css"></a>5）free-shaking css</h5><ol>
<li>npm i -D css-loader</li>
<li>npm i -D purify-css purifycss-webpack glob-all</li>
<li>npm i -D mini-css-extract-plugin </li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">"glob-all"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PurifyCssPlugin = <span class="built_in">require</span>(<span class="string">"purifycss-webpack"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        use: [MiniCssExtractPlugin.loader, <span class="string">"css-loader"</span>, <span class="string">"less-loader"</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">      filename: <span class="string">'[name].css'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    &#125;),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> PurifyCssPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      paths: glob.sync([</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        path.join(__dirname, <span class="string">'src/*.html'</span>),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        path.join(__dirname, <span class="string">'src/*.js'</span>),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">      ])</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（2）加载图片"><a href="#（2）加载图片" class="headerlink" title="（2）加载图片"></a>（2）加载图片</h4><h5 id="1）处理css中背景图片"><a href="#1）处理css中背景图片" class="headerlink" title="1）处理css中背景图片"></a>1）处理css中背景图片</h5><ol>
<li>npm i -D file-loader</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  mode: <span class="string">'development'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  entry: <span class="string">'./src/index.js'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    filename: <span class="string">'bundle.js'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(png|jpg|svg|gif)$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">            loader: <span class="string">"file-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">              name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">              outputPath: <span class="string">'img'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2）处理html中src图片"><a href="#2）处理html中src图片" class="headerlink" title="2）处理html中src图片"></a>2）处理html中src图片</h5><ol>
<li>npm i -D file-loader url-loader html-loader</li>
<li>npm i -D html-webpack-plugin</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules</li>
<li>配置plugins加载html<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(png|jpg|svg|gif)$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">            loader: <span class="string">"url-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">              name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">              limit: <span class="number">100</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">              outputPath: <span class="string">'img'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.html$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        use: [&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">          loader: <span class="string">"html-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">          options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">            attrs: [<span class="string">'img:src'</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">        &#125;]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">   plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">      template: <span class="string">'./src/index.html'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3）压缩图片"><a href="#3）压缩图片" class="headerlink" title="3）压缩图片"></a>3）压缩图片</h5><ol>
<li>npm i -D file-loader url-loader html-loader img-loader</li>
<li>npm i -D imagemin imagemin-xxx</li>
<li>npm i -D html-webpack-plugin</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules</li>
<li>配置plugins加载html<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(png|jpg|svg|gif)$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">            loader: <span class="string">"url-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">              name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">              limit: <span class="number">100</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">              outputPath: <span class="string">'img'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">            loader: <span class="string">"img-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">              plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"imagemin-xxx"</span>)(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">                  quality: [<span class="number">1</span>,<span class="number">1</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">                &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">              ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.html$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">        use: [&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">          loader: <span class="string">"html-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">          options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">            attrs: [<span class="string">'img:src'</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">        &#125;]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">   plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">      template: <span class="string">'./src/index.html'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（3）加载字体"><a href="#（3）加载字体" class="headerlink" title="（3）加载字体"></a>（3）加载字体</h4><ol>
<li>npm i -D file-loader</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  mode: <span class="string">'development'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  entry: <span class="string">'./src/index.js'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    filename: <span class="string">'bundle.js'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(woff|woff2|eot|ttf|otf)$/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        use: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">          loader: <span class="string">"file-loader"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">          options: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">            name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">            outputPath: <span class="string">'font'</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（4）加载js"><a href="#（4）加载js" class="headerlink" title="（4）加载js"></a>（4）加载js</h4><h5 id="1）js-默认tree-shaking"><a href="#1）js-默认tree-shaking" class="headerlink" title="1）js 默认tree-shaking"></a>1）js 默认tree-shaking</h5><ul>
<li>生产环境下默认自动tree-shaking（基于语法）</li>
</ul>
<h5 id="2）js-深度tree-shaking"><a href="#2）js-深度tree-shaking" class="headerlink" title="2）js 深度tree-shaking"></a>2）js 深度tree-shaking</h5><ol>
<li>npm i -D webpack-deep-scope-plugin</li>
<li>配置 plugins</li>
<li>生产环境下执行深度tree-shaking（基于作用域）<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpackDeepScopePlugin = <span class="built_in">require</span>(<span class="string">"webpack-deep-scope-plugin"</span>).default;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> webpackDeepScopePlugin()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3）lodash工具库"><a href="#3）lodash工具库" class="headerlink" title="3）lodash工具库"></a>3）lodash工具库</h5><ol>
<li>npm i -D lodash-es</li>
<li>import lodash from “lodash-es”<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lodash <span class="keyword">from</span> <span class="string">"lodash-es"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> a+b;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(lodash.isArray(obj))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  add,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  isArray</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="4）提取公共js代码"><a href="#4）提取公共js代码" class="headerlink" title="4）提取公共js代码"></a>4）提取公共js代码</h5><ol>
<li>配置多入口</li>
<li>配置出口</li>
<li>配置 optimization<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  entry: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    index:  <span class="string">'./src/index.js'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    index2: <span class="string">'./src/index2.js'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    filename: <span class="string">'[name].main.js'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    chunkFilename: <span class="string">"[name].js"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"> optimization:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    splitChunks:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      cacheGroups:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">//抽离公共代码块</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">        common:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">          name:<span class="string">"commonAll"</span>,<span class="comment">//名称</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">          chunks:<span class="string">'all'</span>,<span class="comment">//查找范围</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">          minSize: <span class="number">1</span>,<span class="comment">//最小体积</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">          minChunks: <span class="number">2</span>,<span class="comment">//最少次数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">          priority: <span class="number">1</span><span class="comment">//优先级</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">//抽离第三方库</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">        lodash:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">          name:<span class="string">"lodashAll"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">          chunks:<span class="string">'all'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">          test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">          priority: <span class="number">10</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="5）解析新ES语法"><a href="#5）解析新ES语法" class="headerlink" title="5）解析新ES语法"></a>5）解析新ES语法</h5><ol>
<li>npm i -D @babel/core @babel/cli @babel/preset-env</li>
<li>配置 module.rules<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpackDeepScopePlugin = <span class="built_in">require</span>(<span class="string">"webpack-deep-scope-plugin"</span>).default;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="attr">loader</span>: <span class="string">"babel-loader"</span> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（5）加载html"><a href="#（5）加载html" class="headerlink" title="（5）加载html"></a>（5）加载html</h4><h5 id="1）生成html"><a href="#1）生成html" class="headerlink" title="1）生成html"></a>1）生成html</h5><ol>
<li>npm i -D html-webpack-plugin</li>
<li>配置 plugin<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      filename: <span class="string">'[name].html'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      template: <span class="string">'src/index.html'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      minify: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        removeComments: <span class="literal">true</span>,<span class="comment">//清理注释</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        collapseWhitespace: <span class="literal">true</span><span class="comment">//清理空格</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2）清理打包文件"><a href="#2）清理打包文件" class="headerlink" title="2）清理打包文件"></a>2）清理打包文件</h5><ol>
<li>npm i -D clean-webpack-plugin</li>
<li>配置 plugin<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">"clean-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h2 id="（三）package-json-配置"><a href="#（三）package-json-配置" class="headerlink" title="（三）package.json 配置"></a>（三）package.json 配置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//npm run 命令</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"run"</span>: <span class="string">"webpack --color"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"dev"</span>: <span class="string">"webpack --mode development"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"prod"</span>: <span class="string">"webpack --mode production"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="string">"devDependencies"</span>:&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//依赖记录</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/07/WEBPACKa/" data-id="ck73cha2e000hw8tg59nt1gzq"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-GITa" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/06/GITa/"
    >Git --- 概述篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/06/GITa/" class="article-date">
  <time datetime="2020-01-05T16:00:00.000Z" itemprop="datePublished">2020-01-06</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="一、分布式版本控制工具"><a href="#一、分布式版本控制工具" class="headerlink" title="一、分布式版本控制工具"></a>一、分布式版本控制工具</h1><h2 id="（一）使用"><a href="#（一）使用" class="headerlink" title="（一）使用"></a>（一）使用</h2><h3 id="1-初始化本地仓库"><a href="#1-初始化本地仓库" class="headerlink" title="1.初始化本地仓库"></a>1.初始化本地仓库</h3><blockquote>
<p>git init</p>
</blockquote>
<h3 id="2-创建秘钥、查看、配置"><a href="#2-创建秘钥、查看、配置" class="headerlink" title="2.创建秘钥、查看、配置"></a>2.创建秘钥、查看、配置</h3><blockquote>
<p>ssh-keygen<br>cd ~/.ssh<br>ls</p>
</blockquote>
<ul>
<li>copy id_rsa.pub into gitHub/Settings/SSH and GPG keys/Key</li>
</ul>
<h3 id="3-关联远程仓库"><a href="#3-关联远程仓库" class="headerlink" title="3.关联远程仓库"></a>3.关联远程仓库</h3><blockquote>
<p>git remote add origin <a href="https://github.com/HuafuHub/myTest.git" target="_blank" rel="noopener">https://github.com/HuafuHub/myTest.git</a></p>
</blockquote>
<h3 id="4-拉取远程仓库"><a href="#4-拉取远程仓库" class="headerlink" title="4.拉取远程仓库"></a>4.拉取远程仓库</h3><blockquote>
<p>git pull –rebase origin master</p>
</blockquote>
<h1 id="二、常用命令"><a href="#二、常用命令" class="headerlink" title="二、常用命令"></a>二、常用命令</h1><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">mkdir dirname</td>
<td align="left">创建文件夹</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cd dirname</td>
<td align="left">进入文件夹</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git init</td>
<td align="left">创建版本库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">ls -ah</td>
<td align="left">查看隐藏文件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git config –list</td>
<td align="left">查看配置文件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git config –global user.name ‘huafu’</td>
<td align="left">配置用户名</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git config –global user.email ‘1030363645@qq.com’</td>
<td align="left">配置邮件地址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote add origin url</td>
<td align="left">关联远程仓库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote rename oldname newname</td>
<td align="left">重命名远程仓库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote -v</td>
<td align="left">查看远程仓库地址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote</td>
<td align="left">查看远程仓库名</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git status</td>
<td align="left">查看文件状态</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git add <font color=red>file</td>
<td align="left">从工作区添加至暂存区</td>
<td align="left">单个文件</td>
</tr>
<tr>
<td align="left"><font color=green>git add <strong><font color=red>.</strong></td>
<td align="left">从工作区添加至暂存区</td>
<td align="left">整个当前目录的文件</td>
</tr>
<tr>
<td align="left"><font color=green>git commit <font color=red>-m ‘msg’</td>
<td align="left">从暂存区提交至本地仓库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git branch <font color=red>name</td>
<td align="left">创建分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git branch -d <font color=red>name</td>
<td align="left">删除分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git checkout -b <font color=red>name</td>
<td align="left">创建并切换分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git checkout <font color=red>name</td>
<td align="left">切换分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git checkout <font color=red>– flie</td>
<td align="left">恢复到暂存区或本地仓库同步状态</td>
<td align="left"></td>
</tr>
</tbody></table>
<img src="./git.png">



      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/06/GITa/" data-id="ck73cha24000aw8tg5jaj24tb"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-NETa" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/05/NETa/"
    >NET --- 概述篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/05/NETa/" class="article-date">
  <time datetime="2020-01-04T16:00:00.000Z" itemprop="datePublished">2020-01-05</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="一、网络起源"><a href="#一、网络起源" class="headerlink" title="一、网络起源"></a>一、网络起源</h1><ul>
<li>起源于1969年，加利福尼亚大学洛杉矶分校+斯坦福大学+加利福尼亚大学+犹他州大学</li>
<li>互联网：internet（因特网、英特网）， 网际网路</li>
<li>1989年，欧洲物理研究所：协议（格式）</li>
<li>WWW（World Wide Web）：万维网</li>
</ul>
<h1 id="二、计算机之父（冯诺依曼）"><a href="#二、计算机之父（冯诺依曼）" class="headerlink" title="二、计算机之父（冯诺依曼）"></a>二、计算机之父（冯诺依曼）</h1><ul>
<li>运算器： CPU、GPU</li>
<li>存储器： 内存、硬盘</li>
<li>控制器： 主板</li>
<li>输入设备： 键盘、鼠标、麦克风、网口</li>
<li>输出设备： 显示器、耳机、网口</li>
</ul>
<h1 id="三、IP地址"><a href="#三、IP地址" class="headerlink" title="三、IP地址"></a>三、IP地址</h1><h3 id="1-局域网"><a href="#1-局域网" class="headerlink" title="1.局域网"></a>1.局域网</h3><h3 id="2-公网"><a href="#2-公网" class="headerlink" title="2.公网"></a>2.公网</h3><h3 id="3-路由器"><a href="#3-路由器" class="headerlink" title="3.路由器"></a>3.路由器</h3><h3 id="4-IP地址格式"><a href="#4-IP地址格式" class="headerlink" title="4.IP地址格式"></a>4.IP地址格式</h3><ul>
<li>四段：xxx.xxx.xxx.xxx 每个段0-255</li>
<li>五类：A-E类<ul>
<li>A类：0.0.0.0 - 127.255.255.255</li>
<li>B类：128.0.0.0 - 191.255.255.255</li>
<li>C类：192.0.0.0 - 223.255.255.255<h3 id="5-域名与DNS解析"><a href="#5-域名与DNS解析" class="headerlink" title="5.域名与DNS解析"></a>5.域名与DNS解析</h3>==当向浏览器地址栏中输入一个Url按回车后，网络中都会发生什么？==<br>（1）看浏览器的缓存<br>（2）看本机host（C:windows/system32/drivers/etc/host）<ul>
<li>域名：localhost ==&gt;&gt; 127.0.0.1（本机）</li>
<li>域名：不认识 ==&gt;&gt; 0.0.0.0（默认打到本机）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>（3）家里的路由器<br>（4）上级路由、城市路由LDNS服务器<br>（5）继续向上级的DNS服务器找、GDNS服务器</p>
<h1 id="四、网络模型"><a href="#四、网络模型" class="headerlink" title="四、网络模型"></a>四、网络模型</h1><h2 id="（一）分类"><a href="#（一）分类" class="headerlink" title="（一）分类"></a>（一）分类</h2><h3 id="1-物理层"><a href="#1-物理层" class="headerlink" title="1.物理层"></a>1.物理层</h3><ul>
<li>高/低电平（二进制）<h3 id="2-数据链路层"><a href="#2-数据链路层" class="headerlink" title="2.数据链路层"></a>2.数据链路层</h3></li>
<li>mac地址<h3 id="3-网络层"><a href="#3-网络层" class="headerlink" title="3.网络层"></a>3.网络层</h3></li>
<li>IP协议<h3 id="4-运输层"><a href="#4-运输层" class="headerlink" title="4.运输层"></a>4.运输层</h3></li>
<li>TCP协议</li>
<li>UDP协议<h3 id="5-应用层"><a href="#5-应用层" class="headerlink" title="5.应用层"></a>5.应用层</h3><ul>
<li>DNS协议</li>
<li>HTTP协议</li>
</ul>
</li>
</ul>
<h2 id="（二）HTTP协议"><a href="#（二）HTTP协议" class="headerlink" title="（二）HTTP协议"></a>（二）HTTP协议</h2><h3 id="1-请求Request"><a href="#1-请求Request" class="headerlink" title="1.请求Request"></a>1.请求Request</h3><ul>
<li>请求头</li>
<li>数据体</li>
<li>第一行：请求方式 URL 协议版本</li>
</ul>
<h4 id="1-GET请求"><a href="#1-GET请求" class="headerlink" title="1) GET请求"></a>1) GET请求</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">GET &#x2F; HTTP&#x2F;1.1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Host: www.baidu.com</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">Connection: keep-alive</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">Upgrade-Insecure-Requests: 1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;77.0.3865.90 Safari&#x2F;537.36</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">Sec-Fetch-Mode: navigate</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">Sec-Fetch-User: ?1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">Sec-Fetch-Site: none</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">Accept-Encoding: gzip, deflate, br</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">Accept-Language: zh-CN,zh;q&#x3D;0.9</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">Cookie:</span></pre></td></tr></table></figure>
<ul>
<li>GET /path?==数据信息== HTTP1.1</li>
<li>Host: <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>Connection: keep-alive</li>
<li>User-Agent: </li>
</ul>
<h4 id="2-POST请求"><a href="#2-POST请求" class="headerlink" title="2) POST请求"></a>2) POST请求</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">:authority: ratewrite.tmall.com</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">:method: POST</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">:path: &#x2F;rateWriteResult.htm</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">:scheme: https</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">accept-encoding: gzip, deflate, br</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">accept-language: zh-CN,zh;q&#x3D;0.9</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">cache-control: max-age&#x3D;0</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">content-length: 2351</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">content-type: application&#x2F;x-www-form-urlencoded</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">cookie: </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">origin: https:&#x2F;&#x2F;ratewrite.tmall.com</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">referer: https:&#x2F;&#x2F;ratewrite.tmall.com&#x2F;rate_detail.htm?trade_id&#x3D;697224451467453543</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">sec-fetch-mode: nested-navigate</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">sec-fetch-site: same-origin</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">sec-fetch-user: ?1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">upgrade-insecure-requests: 1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">user-agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;77.0.3865.90 Safari&#x2F;537.36</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">callback: RateWriteCallback401</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">qualityContent697224451467453543: 效果并没有描述那么好，功能也是</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">serviceContent697224451467453543: 服务不错</span></pre></td></tr></table></figure>
<ul>
<li>POST /path HTTP1.1</li>
<li>Host: <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>Connection: keep-alive</li>
<li>User-Agent: </li>
<li></li>
<li>==数据信息==</li>
</ul>
<h3 id="2-响应Response"><a href="#2-响应Response" class="headerlink" title="2.响应Response"></a>2.响应Response</h3><ul>
<li>响应头</li>
<li>数据体</li>
<li>第一行：协议版本 状态码 massage</li>
</ul>
<h3 id="3-GET-与-POST的区别？"><a href="#3-GET-与-POST的区别？" class="headerlink" title="3.GET 与 POST的区别？"></a>3.GET 与 POST的区别？</h3><ul>
<li>没有基于什么前提，不使用任何规范，只考虑语法和理论上的HTTP协议：没有区别，只是名字不一样</li>
<li>基于RFC规范：<ul>
<li>理论上： GET和POST具有相同的语法，不同的语义，GET用于获取数据，POST用于发送数据</li>
<li>实现上：各浏览器是规范的实现者，才有常见的不同<ul>
<li>GET的数据在url中可见（url不一定显示在地址栏中），POST请求不显示在url中</li>
<li>GET对数据长度有限制，POST对数据长度没有限制</li>
<li>GET请求的数据可以收藏为书签，POST不可收藏为书签</li>
<li>GET请求的后、按后退按钮、刷新按钮无影响，POST则会被重新提交</li>
<li>GET编码类型：application/x-www-form-url,POST编码类型有很多种</li>
<li>GET只允许ASCII，POST没有编码限制、允许发送二进制数据</li>
<li>GET历史参数会被保留在浏览器里，POST不会存在浏览器中</li>
<li>GET与POST相比，安全性较差，应为数据会展示在url中</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h1 id="五、浏览器缓存"><a href="#五、浏览器缓存" class="headerlink" title="五、浏览器缓存"></a>五、浏览器缓存</h1><h2 id="（一）Cookies"><a href="#（一）Cookies" class="headerlink" title="（一）Cookies"></a>（一）Cookies</h2><h3 id="1-特点"><a href="#1-特点" class="headerlink" title="1.特点"></a>1.特点</h3><ul>
<li>Cookie是有限制的</li>
<li>Cookie是存在浏览器里的，不是存在某个页面上</li>
<li>Cookie是可以长期存储的</li>
<li>Cookie是存在不同域名下的<h3 id="2-缺陷"><a href="#2-缺陷" class="headerlink" title="2.缺陷"></a>2.缺陷</h3></li>
<li>浏览器里的Cookie容易被复制，不安全</li>
</ul>
<h2 id="（二）Session"><a href="#（二）Session" class="headerlink" title="（二）Session"></a>（二）Session</h2><h3 id="1-特点-1"><a href="#1-特点-1" class="headerlink" title="1.特点"></a>1.特点</h3><ul>
<li>Session是存在服务器里的</li>
<li>服务器里的Session相对安全</li>
</ul>
<h3 id="2-缺陷-1"><a href="#2-缺陷-1" class="headerlink" title="2.缺陷"></a>2.缺陷</h3><ul>
<li>用户量比较大的话，服务器很耗费资源</li>
<li>服务器不止一台，Session一般只会存在某台服务器上，反向代理需要轮询</li>
</ul>
<h1 id="六、本地服务器"><a href="#六、本地服务器" class="headerlink" title="六、本地服务器"></a>六、本地服务器</h1><h2 id="（一）结构"><a href="#（一）结构" class="headerlink" title="（一）结构"></a>（一）结构</h2><h3 id="1-CS结构"><a href="#1-CS结构" class="headerlink" title="1.CS结构"></a>1.CS结构</h3><ul>
<li>（Client负责展示内容，Server负责提供内容）<h3 id="2-BS结构"><a href="#2-BS结构" class="headerlink" title="2.BS结构"></a>2.BS结构</h3></li>
<li>（Browser负责展示内容，Server负责提供内容）</li>
<li>页面的本质就是一个带有HTML格式的字符串</li>
</ul>
<h2 id="（二）服务器"><a href="#（二）服务器" class="headerlink" title="（二）服务器"></a>（二）服务器</h2><ul>
<li>严格的说，服务器是一台计算机， 这台计算机只提供服务（不是用户用的）</li>
<li>常说的服务器是服务容器（一个程序），不是服务器<ul>
<li>程序可以监听一个端口</li>
<li>读取文件并且返回</li>
</ul>
</li>
</ul>
<h1 id="七、网络请求"><a href="#七、网络请求" class="headerlink" title="七、网络请求"></a>七、网络请求</h1><h2 id="（一）发送请求的方式"><a href="#（一）发送请求的方式" class="headerlink" title="（一）发送请求的方式"></a>（一）发送请求的方式</h2><ul>
<li>地址栏输入网址url;（==无法用代码控制==）</li>
<li>location.href = “url”; 可以发出网络请求，但页面会发生跳转（==页面会跳转==）</li>
<li>带有src属性的标签，可以发送请求，服务端是可以处理的，返回的数据能否应用，取决于浏览器（==页面无法处理数据==）</li>
<li>带有href属性的标签，可以发送请求，服务端是可以处理的，返回的数据能否应用，取决于浏览器（==页面无法处理数据==）</li>
<li>带有action属性的标签，可以发出网络请求，但页面会发生跳转（==页面会跳转==）</li>
<li><strong>ajax请求</strong></li>
</ul>
<h2 id="（二）Ajax"><a href="#（二）Ajax" class="headerlink" title="（二）Ajax"></a>（二）Ajax</h2><ul>
<li>请求方式</li>
<li>请求地址url</li>
<li>数据<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="built_in">window</span>.XMLHttpRequest ? <span class="keyword">new</span> XMLHttpRequest() : <span class="keyword">new</span> ActiveObject(<span class="string">"Microsoft.XMLHttp"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(xhr.readyState); <span class="comment">//0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">xhr.open(<span class="string">"GET"</span>, <span class="string">"http://developer.duyiedu.com/edu/testAjaxCrossOrigin"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(xhr.readyState); <span class="comment">//1</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(xhr.readyState); <span class="comment">//2 3 4</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    oP.innerText = <span class="built_in">JSON</span>.parse(xhr.responseText).msg; <span class="comment">//数据</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">xhr.send();</span></pre></td></tr></table></figure></li>
<li>==先绑定事件，再发送==</li>
<li>open(type, url, sync, )<ul>
<li>type请求方式</li>
<li>url请求地址</li>
<li>sync默认true异步</li>
</ul>
</li>
</ul>
<h2 id="（三）跨域"><a href="#（三）跨域" class="headerlink" title="（三）跨域"></a>（三）跨域</h2><h3 id="1-哪些资源允许跨域请求？"><a href="#1-哪些资源允许跨域请求？" class="headerlink" title="1.哪些资源允许跨域请求？"></a>1.哪些资源允许跨域请求？</h3><ul>
<li>js、css、图片</li>
<li>src属性的资源</li>
<li>href属性的大部分资源</li>
</ul>
<h3 id="2-哪些资源不允许跨域请求？"><a href="#2-哪些资源不允许跨域请求？" class="headerlink" title="2.哪些资源不允许跨域请求？"></a>2.哪些资源不允许跨域请求？</h3><ul>
<li>后端接口的数据</li>
<li>其它域的Cookie</li>
<li>其它域的缓存</li>
</ul>
<h3 id="3-怎么样算跨域？"><a href="#3-怎么样算跨域？" class="headerlink" title="3.怎么样算跨域？"></a>3.怎么样算跨域？</h3><ul>
<li>页面本身：有协议、域名、端口（默认端口号80）</li>
<li>请求数据：<a href="http://www.baidu.com:80" target="_blank" rel="noopener">http://www.baidu.com:80</a></li>
<li>协议、域名、端口有任何一个不一样就算跨域</li>
</ul>
<h3 id="4-跨域发生在哪个阶段？"><a href="#4-跨域发生在哪个阶段？" class="headerlink" title="4.跨域发生在哪个阶段？"></a>4.跨域发生在哪个阶段？</h3><ul>
<li>即使跨域了，请求也可以发出的</li>
<li>服务器可以正常接收的</li>
<li>服务器可以正常处理的</li>
<li>服务器可以正常返回数据的</li>
<li>浏览器可以正常接收数据的</li>
<li>我们的代码在等待结果，当应为浏览器判定跨域了，不会把结果传递给代码</li>
</ul>
<h3 id="5-虽然跨域了，我们依然需要这个数据怎么办？"><a href="#5-虽然跨域了，我们依然需要这个数据怎么办？" class="headerlink" title="5.虽然跨域了，我们依然需要这个数据怎么办？"></a>5.虽然跨域了，我们依然需要这个数据怎么办？</h3><h4 id="1）-后端配合进行跨域"><a href="#1）-后端配合进行跨域" class="headerlink" title="1） 后端配合进行跨域"></a>1） 后端配合进行跨域</h4><ul>
<li>JSONP（JSON格式的数据）</li>
<li>后端设置Access-Control-Allow-Origin属性支持跨域</li>
</ul>
<h4 id="2）-后端不配合进行跨域"><a href="#2）-后端不配合进行跨域" class="headerlink" title="2） 后端不配合进行跨域"></a>2） 后端不配合进行跨域</h4><ul>
<li>iframe（只能显示，不能控制）</li>
<li>通过自己的后端代理</li>
</ul>
<h3 id="6-JSONP跨域"><a href="#6-JSONP跨域" class="headerlink" title="6.JSONP跨域"></a>6.JSONP跨域</h3><ul>
<li>只能使用GET方式（jQuery中使用POST会自动转为GET）</li>
<li>jQuery有判断是否同源的机制，如果同源则正常发送ajax，如果不同源则使用GET方式</li>
<li>src属性的资源不受跨域限制</li>
<li>script标签请求的资源会当做js代码执行</li>
<li><strong>jQuery中JSONP原理</strong><ul>
<li>判断请求与当前页面是否同源，如果同源则正常发送ajax，就不存在跨域</li>
<li>如果不同源，则生成一个script标签</li>
<li>生成一个随机的callback名字</li>
<li>设置script标签的src设置为请求的接口</li>
<li>将callback作为参数拼接在url后面</li>
<li>后端接收到请求后，开始准备要返回的数据</li>
<li>后端拼接数据</li>
<li>将内容返回</li>
<li>浏览器接收到内容当做js代码执行</li>
<li>相当于执行了callback将数据作为参数传递了进去<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myJSONP</span>(<span class="params">obj</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> url = obj.url.toLowerCase();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> type = obj.type.toLowerCase();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> dataType = obj.dataType.toLowerCase();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//判断是否同源</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> targetProtocol = <span class="string">""</span>;<span class="comment">//协议</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> targetHost = <span class="string">""</span>;<span class="comment">//域名与端口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//判断请求是绝对路径还是相对路径，如果是相对路径则一定是同源</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span>(url.includes(<span class="string">"http://"</span>) || url.includes(<span class="string">"https://"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> targetUrl = <span class="keyword">new</span> URL(url);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    targetProtocol = targetUrl.protocol;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    targetHost = targetUrl.host;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    targetProtocol = location.protocol;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    targetHost = location.host;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//判断是否为jsonp, 如果不是则正常发送ajax</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span>(dataType === <span class="string">"jsonp"</span>)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">//判断是否同源，如果同源就不用跨域</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(location.protocol === targetProtocol &amp;&amp; location.host === targetHost)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">//正常ajax请求</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">//jsonp跨域</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">//生成一个script标签</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">//生成一个随机的callback名</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">var</span> callback = <span class="string">"cb"</span> + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">1000000</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      <span class="built_in">window</span>[callback] = obj.success;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">      <span class="comment">//设置script标签的src属性为请求的接口</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span>(url.includes(<span class="string">"?"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">        script.src = url + <span class="string">"&amp;callback="</span> + callback;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">      &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">        script.src = url + <span class="string">"?callback="</span> + callback;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">      <span class="built_in">document</span>.head.appendChild(script);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">myJSONP(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">  url: <span class="string">"http://developer.duyiedu.com/edu/testJsonp"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">  type: <span class="string">"get"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">  dataType: <span class="string">"jsonp"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">  success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/05/NETa/" data-id="ck73cha2e000gw8tg7o7o3kbd"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-JQUERYa-0" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/04/JQUERYa-0/"
    >jQuery --- 应用篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/04/JQUERYa-0/" class="article-date">
  <time datetime="2020-01-03T16:00:00.000Z" itemprop="datePublished">2020-01-04</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="一、"><a href="#一、" class="headerlink" title="一、$()"></a>一、$()</h1><h3 id="1-css-selector"><a href="#1-css-selector" class="headerlink" title="1.$(css selector)"></a>1.$(css selector)</h3><ul>
<li>字符串</li>
<li>css 选择器</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(<span class="string">".wrapper ul li"</span>);</span></pre></td></tr></table></figure>

<h3 id="2-jQuery-selector"><a href="#2-jQuery-selector" class="headerlink" title="2.$(jQuery selector)"></a>2.$(jQuery selector)</h3><ul>
<li>字符串</li>
<li>jQuery 特有选择器</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(<span class="string">".wrapper ul li.eq(-1)"</span>);</span></pre></td></tr></table></figure>

<h3 id="3-data"><a href="#3-data" class="headerlink" title="3.$(data)"></a>3.$(data)</h3><ul>
<li>任意形式的数据</li>
<li>容错</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(<span class="literal">undefined</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">$(<span class="literal">null</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">$(<span class="string">""</span>);</span></pre></td></tr></table></figure>

<h3 id="4-DOM"><a href="#4-DOM" class="headerlink" title="4.$(DOM)"></a>4.$(DOM)</h3><ul>
<li>原生 dom</li>
<li>包装</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">this</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">$(div);</span></pre></td></tr></table></figure>

<h3 id="5-fn"><a href="#5-fn" class="headerlink" title="5.$(fn)"></a>5.$(fn)</h3><ul>
<li>函数</li>
<li>DOMContentLoaded 事件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).read(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span></pre></td></tr></table></figure>

<h3 id="6-selectorSon-selectorFather"><a href="#6-selectorSon-selectorFather" class="headerlink" title="6.$(selectorSon, selectorFather)"></a>6.$(selectorSon, selectorFather)</h3><ul>
<li>限制选择</li>
<li>选择上下文</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(<span class="string">".wrapper ul"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">$(<span class="string">"ul"</span>, <span class="string">".wrapper"</span>);</span></pre></td></tr></table></figure>

<hr>
<h1 id="二、选择"><a href="#二、选择" class="headerlink" title="二、选择"></a>二、选择</h1><h2 id="（一）选择器"><a href="#（一）选择器" class="headerlink" title="（一）选择器"></a>（一）选择器</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$(“*“)</td>
<td align="left">所有元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“#lastname”)</td>
<td align="left">id=”lastname” 的元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“p”)</td>
<td align="left">所有 &lt;p&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“p:first”)</td>
<td align="left">第一个 &lt;p&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“p:last”)</td>
<td align="left">最后一个 &lt;p&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“tr:even”)</td>
<td align="left">所有偶数 &lt;tr&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“tr:odd”)</td>
<td align="left">所有奇数 &lt;tr&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“ul li:eq(3)”)</td>
<td align="left">列表中的第四个元素（index 从 0 开始）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“ul li:gt(3)”)</td>
<td align="left">列出 index 大于 3 的元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“ul li:lt(3)”)</td>
<td align="left">列出 index 小于 3 的元素</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h2 id="（二）筛选器"><a href="#（二）筛选器" class="headerlink" title="（二）筛选器"></a>（二）筛选器</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().get(index)</td>
<td align="left">第 index 元素（正数、负数、空）</td>
<td align="center">原生 DOM</td>
</tr>
<tr>
<td align="left">$().eq(index)</td>
<td align="left">第 index 元素（正数、负数、空）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().find(selector)</td>
<td align="left">限定选择</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().filter(selector)</td>
<td align="left">过滤选择(fn/true)</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().not(selector)</td>
<td align="left">过滤选择(fn/false)</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“li”).has(“p”)</td>
<td align="left">选中后代中包含 P 元素的 li 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“.demo”).is(“p”)</td>
<td align="left">所有 class=”demo”的元素中是否有 p 元素</td>
<td align="center">boolean</td>
</tr>
</tbody></table>
<h2 id="（三）集合与回退"><a href="#（三）集合与回退" class="headerlink" title="（三）集合与回退"></a>（三）集合与回退</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().add(selector)</td>
<td align="left">集合</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().end()</td>
<td align="left">回退</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<hr>
<h1 id="三、操作"><a href="#三、操作" class="headerlink" title="三、操作"></a>三、操作</h1><h2 id="（一）操作内容"><a href="#（一）操作内容" class="headerlink" title="（一）操作内容"></a>（一）操作内容</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().html(string | ==fn==)</td>
<td align="left">HTML 内容(==特殊：只取第一个，设置全部==)</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$().text(string | ==fn==)</td>
<td align="left">文本内容(==取全部，设置全部==)</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$().val(string | ==fn==)</td>
<td align="left">表单内容(==特殊：只取第一个，设置全部==）</td>
<td align="center">string</td>
</tr>
</tbody></table>
<h2 id="（二）操作样式"><a href="#（二）操作样式" class="headerlink" title="（二）操作样式"></a>（二）操作样式</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().css(obj)</td>
<td align="left">获取或设置 css 样式（==可计算==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().addClass(string | ==fn==)</td>
<td align="left">添加一个或多个 class</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().removeClass(string | ==fn==)</td>
<td align="left">移除一个或多个 class</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().hasClass(string)</td>
<td align="left">检测 class</td>
<td align="center">boolean</td>
</tr>
</tbody></table>
<h2 id="（三）操作属性"><a href="#（三）操作属性" class="headerlink" title="（三）操作属性"></a>（三）操作属性</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().attr()</td>
<td align="left">获取或设置属性值（自定义属性）==基于 setAttribute、getAttribute==</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$().prop()</td>
<td align="left">获取或设置特性值，==基于原生 DOM，特性映射，非特性不映射==</td>
<td align="center">string</td>
</tr>
</tbody></table>
<h2 id="（四）操作结构"><a href="#（四）操作结构" class="headerlink" title="（四）操作结构"></a>（四）操作结构</h2><h3 id="1-增（复制操作）"><a href="#1-增（复制操作）" class="headerlink" title="1.增（复制操作）"></a>1.增（复制操作）</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$(==HTML==)</td>
<td align="left">创建元素（HTML 字符串）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().wrap(==HTML | jQuery | selector | DOM | fn==)</td>
<td align="left">创建父元素包裹选中元素,每一个单独包裹</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().wrapAll(==HTML | jQuery | selector | DOM | fn==)</td>
<td align="left">创建父元素包裹所有选中元素,统一包裹</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().wrapInner(==HTML | jQuery | selector | DOM | fn==)</td>
<td align="left">创建子元素包裹所有子元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().clone(boolean)</td>
<td align="left">克隆元素（true 深度克隆）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().data(data)</td>
<td align="left">存储或获取数据</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="2-删（剪切操作）"><a href="#2-删（剪切操作）" class="headerlink" title="2.删（剪切操作）"></a>2.删（剪切操作）</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().empty()</td>
<td align="left">清空子元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().remove()</td>
<td align="left">删除自身</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().detach()</td>
<td align="left">删除自身（包含数据）</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="3-改（剪切操作）"><a href="#3-改（剪切操作）" class="headerlink" title="3.改（剪切操作）"></a>3.改（剪切操作）</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$(“A”).insertBefore(selectorB)</td>
<td align="left">把 A 插入到 B 之前</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).before(jQuery(A))</td>
<td align="left">在 B 之前插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“A”).insertAfter(selectorB)</td>
<td align="left">把 A 插入到 B 之后</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).after(jQuery(A))</td>
<td align="left">在 B 之后插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“A”).appendTo(selectorB)</td>
<td align="left">把 A 插入到 B 中最后子元素的位置</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).append(jQuery(A))</td>
<td align="left">在 B 中最后子元素的位置插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“A”).prependTo(selectorB)</td>
<td align="left">把 A 插入到 B 中第一子元素的位置</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).prepend(jQuery(A))</td>
<td align="left">在 B 中第一子元素的位置插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="4-查"><a href="#4-查" class="headerlink" title="4.查"></a>4.查</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().siblings(selector)</td>
<td align="left">所有符合限定的兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().next(selector)</td>
<td align="left">下一个并且符合限定的兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().prev(selector)</td>
<td align="left">上一个并且符合限定的兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().nextAll(selector)</td>
<td align="left">之后并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().prevAll(selector)</td>
<td align="left">之前并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().nextUntil(label，selector)</td>
<td align="left">之后到标注为止并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().prevUntil(label，selector)</td>
<td align="left">之前到标注为止并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().parent(selector)</td>
<td align="left">符合限定的父元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().parents(selector)</td>
<td align="left">符合限定的所有祖先元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().closest(selector)</td>
<td align="left">符合限定的最近祖先元素（==包括自身==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().offsetParent(selector)</td>
<td align="left">符合限定的最近定位祖先元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().children(selector)</td>
<td align="left">符合限定的子元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().index(selector)</td>
<td align="left">在符合限定的兄弟元素中的索引==不存在返回-1==</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().slice(start, end)</td>
<td align="left">截取范围内的元素（包含 start, 不包含 end）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().each(fn(index, dom){})</td>
<td align="left">遍历</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<hr>
<h2 id="（五）操作位置"><a href="#（五）操作位置" class="headerlink" title="（五）操作位置"></a>（五）操作位置</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().offset()</td>
<td align="left">获取/设置距离文档的距离{left, top}==不考虑定位父级==</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$().position()</td>
<td align="left">获取距定位父级的距离{left, top}==不支持设置==</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$().scrollLeft(==number==)</td>
<td align="left">获取/设置横向滚动条的距离</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().scrollTop(==number==)</td>
<td align="left">获取/设置纵向滚动条的距离</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().width()</td>
<td align="left">获取内容盒宽度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().height()</td>
<td align="left">获取内容盒高度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().innerWidth()</td>
<td align="left">获取填充盒宽度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().innerHeight()</td>
<td align="left">获取填充盒高度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerWidth()</td>
<td align="left">获取边框盒宽度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerHeight()</td>
<td align="left">获取边框盒高度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerWidth(==true==)</td>
<td align="left">获取占用宽度（包含 margin）</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerHeight(==true==)</td>
<td align="left">获取占用高度（包含 margin）</td>
<td align="center">number</td>
</tr>
</tbody></table>
<hr>
<h1 id="四、事件"><a href="#四、事件" class="headerlink" title="四、事件"></a>四、事件</h1><h3 id="1-事件处理"><a href="#1-事件处理" class="headerlink" title="1.事件处理"></a>1.事件处理</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().type(fn)</td>
<td align="left">绑定系统事件</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().on(type, selector, data, fn)</td>
<td align="left">绑定系统事件、自定义事件</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().one(type, selector, data, fn)</td>
<td align="left">绑定系统事件、自定义事件（==只执行一次==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().off(type, fn)</td>
<td align="left">解绑系统事件、自定义事件（==需与绑定时对应==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().trigger(type, arr)</td>
<td align="left">触发系统事件、自定义事件（==参数为数组形式==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().hover(fn, fn)</td>
<td align="left">hover 事件（==鼠标移入移出==）</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="2-事件对象（兼容）"><a href="#2-事件对象（兼容）" class="headerlink" title="2.事件对象（兼容）"></a>2.事件对象（兼容）</h3><ul>
<li>e.pageX/Y</li>
<li>e.clientX/Y</li>
<li>e.which</li>
<li>e.button</li>
<li>e.preventDefault() 阻止默认事件</li>
<li>e.stopPropagation() 阻止冒泡</li>
<li>return false 阻止事件冒泡和默认事件</li>
</ul>
<hr>
<h1 id="五、动画"><a href="#五、动画" class="headerlink" title="五、动画"></a>五、动画</h1><h3 id="1-动画-API"><a href="#1-动画-API" class="headerlink" title="1.动画 API"></a>1.动画 API</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().show(speed, easing, callback)</td>
<td align="left">显示（==宽高、透明度==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().hide(speed, easing, callback)</td>
<td align="left">隐藏</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().toggle(speed, easing, callback)</td>
<td align="left">显示/隐藏</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeIn(speed, easing, callback)</td>
<td align="left">淡入（==针对 opacity==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeOut(speed, easing, callback)</td>
<td align="left">淡出</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeToggle(speed, easing, callback)</td>
<td align="left">淡入/淡出</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeTo(speed, target, easing, callback)</td>
<td align="left">淡到 target 值</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().slideDown(speed, easing, callback)</td>
<td align="left">下拉（==针对高度==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().slideUp(speed, easing, callback)</td>
<td align="left">上拉</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().slideToggle(speed, easing, callback)</td>
<td align="left">下拉/上拉</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().animate(target, speed, easing, callback)</td>
<td align="left">动画（==综合运动==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().stop()</td>
<td align="left">停止当前动画，进行下段动画</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().stop(true)</td>
<td align="left">停止所有动画</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().stop(true, true)</td>
<td align="left">停止当前动画，并瞬间到达当前动画目标点</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().finish()</td>
<td align="left">直接到达最后动画目标点</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().delay(speed)</td>
<td align="left">用于动画之间，让一段动画结束后延迟一段时间在进行下段动画</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">jQuery.fx.off = true/false</td>
<td align="left">关闭动画过渡效果，直接到达每段目标点</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="2-动画队列"><a href="#2-动画队列" class="headerlink" title="2.动画队列"></a>2.动画队列</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().queue(name, data)</td>
<td align="left">入队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().queue(name)</td>
<td align="left">查队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().dequeue(name)</td>
<td align="left">单一出队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().queue(name, fn(next){next()})</td>
<td align="left">依次出队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().clearQueue(name)</td>
<td align="left">清空队列</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<hr>
<h1 id="六、工具"><a href="#六、工具" class="headerlink" title="六、工具"></a>六、工具</h1><h2 id="（一）常用工具"><a href="#（一）常用工具" class="headerlink" title="（一）常用工具"></a>（一）常用工具</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$.type()</td>
<td align="left">类型判断</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$.isArray()</td>
<td align="left">数组判断</td>
<td align="center">boolean</td>
</tr>
<tr>
<td align="left">$.isFunction()</td>
<td align="left">函数判断</td>
<td align="center">boolean</td>
</tr>
<tr>
<td align="left">$.trim()</td>
<td align="left">去除两端空格</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$.proxy(fn, target)</td>
<td align="left">改变 this 指向</td>
<td align="center">function</td>
</tr>
<tr>
<td align="left">var $c = $.noConflict()</td>
<td align="left">防止冲突</td>
<td align="center">function</td>
</tr>
<tr>
<td align="left">$.each(arr, function(index, ele){})</td>
<td align="left">遍历</td>
<td align="center">array</td>
</tr>
<tr>
<td align="left">$.map(arr, function(index, ele){})</td>
<td align="left">遍历</td>
<td align="center">array</td>
</tr>
<tr>
<td align="left">$.parseJSON(string)</td>
<td align="left">解析 JSON</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$.makeArray()</td>
<td align="left">类数组转换</td>
<td align="center">object</td>
</tr>
</tbody></table>
<h2 id="（二）拓展工具"><a href="#（二）拓展工具" class="headerlink" title="（二）拓展工具"></a>（二）拓展工具</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$.extend(object)</td>
<td align="left">拓展静态方法</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$.fn.extend(object)</td>
<td align="left">拓展实例方法</td>
<td align="center">object</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$.extend(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//随机数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  getRandom: <span class="function"><span class="keyword">function</span>(<span class="params">min, max</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (min &amp;&amp; max) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.random() * (max - min) + min;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">$.getRandom(<span class="number">5</span>, <span class="number">10</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//拖拽</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">$.fn.extend(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  drag: <span class="function"><span class="keyword">function</span>(<span class="params">dom</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> disX, disY;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    $(<span class="keyword">this</span>).on(<span class="string">"mousedown"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">"drag"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      disX = e.pageX - $(<span class="keyword">this</span>).offset().left;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      disY = e.pageY - $(<span class="keyword">this</span>).offset().top;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      $(<span class="built_in">document</span>).on(<span class="string">"mousemove"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">        self.css(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">          left: e.pageX - disX,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">          top: e.pageY - disY,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">          cursor: <span class="string">"move"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">        &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      $(<span class="built_in">document</span>).on(<span class="string">"mouseup"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">        $(<span class="built_in">document</span>).off(<span class="string">"mousemove"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">        $(<span class="built_in">document</span>).off(<span class="string">"mouseup"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">$(<span class="string">".demo"</span>).drag();</span></pre></td></tr></table></figure>

<h2 id="（三）网络工具"><a href="#（三）网络工具" class="headerlink" title="（三）网络工具"></a>（三）网络工具</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//请求地址</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  url: <span class="string">""</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//请求方式</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  type: <span class="string">"GET"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//设置上下文</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  context：$(),</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//允许请求时长</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  timeout: <span class="number">1000</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//异步请求（默认异步）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">async</span>: <span class="literal">true</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//跨域</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  dataType: <span class="string">"jsonp"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//成功回调 res数据包&#123;code状态码 msg状态 data数据&#125; </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;&#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//失败回调 err错误对象&#123;status状态 statusText提示&#125; </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  error: <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;&#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//完成回调（最后执行）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  complete: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<h2 id="（四）回调机制"><a href="#（四）回调机制" class="headerlink" title="（四）回调机制"></a>（四）回调机制</h2><h3 id="1-回调Callback"><a href="#1-回调Callback" class="headerlink" title="1.回调Callback"></a>1.回调Callback</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cb = $.Callback(param);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">cb.add(fn(x,y)&#123;&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//执行</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">cb.fire(x,y)</span></pre></td></tr></table></figure>
<ul>
<li>param ==&gt;&gt; “once” 执行一次就好</li>
<li>param ==&gt;&gt; “memory” 记忆功能（后加的也可执行）</li>
<li>param ==&gt;&gt; “unique” 去重功能（一样的功能只添加一个）</li>
<li>param ==&gt;&gt; “stopFalse” 间断功能（遇到返回false，后续函数就不在执行）</li>
</ul>
<h3 id="2-状态Deferred"><a href="#2-状态Deferred" class="headerlink" title="2.状态Deferred"></a>2.状态Deferred</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> df= $.Deferred();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册成功的回调函数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">df.done(fn)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//成功调用</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">df.resolve()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册失败的回调函数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">df.fail(fn)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//失败调用</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">df.reject()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册机进行时的回调函数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">df.progress(fn)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//进行时调用</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">df.notify()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//严格延迟对象，只能注册，不能调用</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">df.promise()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//简化注册</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">df.then(doneFn, failFn, progressFn)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//接力拓展</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">df.then(doneFn()&#123;<span class="keyword">return</span> data&#125;, failFn, progressFn).then(doneFn(data)&#123;use data&#125;)</span></pre></td></tr></table></figure>

<h3 id="3-when"><a href="#3-when" class="headerlink" title="3.when"></a>3.when</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> df1 = $.Deferred();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> df2 = $.Deferred();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> df3 = $.Deferred();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">when(df1(), df2(), df3()).then(resolveFn, rejectFn, notifyFn)</span></pre></td></tr></table></figure>
<ul>
<li>when里执行的所有结果为resolve才执行resolveFn</li>
<li>when里执行的所有结果为reject才执行rejectFn</li>
<li>否则就执行notifyFn</li>
</ul>
<hr>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/04/JQUERYa-0/" data-id="ck73cha2c000dw8tgczao9w22"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-ES6a" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/03/ES6a/"
    >ES6 --- 应用篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/03/ES6a/" class="article-date">
  <time datetime="2020-01-02T18:00:00.000Z" itemprop="datePublished">2020-01-03</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="一、工具-babel-优雅降级"><a href="#一、工具-babel-优雅降级" class="headerlink" title="一、工具 babel 优雅降级"></a>一、工具 babel 优雅降级</h1><ul>
<li>npm init -y</li>
<li>npm install @babel/core</li>
<li>npm install @babel/preset-env</li>
<li>npm install @babel/cli</li>
<li>create .babelrc</li>
<li>npx babel origin -o target</li>
<li>npx babel origin -o target –watch</li>
</ul>
<h1 id="二、变量声明"><a href="#二、变量声明" class="headerlink" title="二、变量声明"></a>二、变量声明</h1><h3 id="1-var-特点"><a href="#1-var-特点" class="headerlink" title="1.var 特点"></a>1.var 特点</h3><ul>
<li>变量会声明提升，允许先使用后声明</li>
<li>语法松散，重复声明变量不会报错，会覆盖</li>
<li>全局变量会挂载 window</li>
<li>函数局部作用域容易产生闭包</li>
</ul>
<h3 id="2-let-特点"><a href="#2-let-特点" class="headerlink" title="2.let 特点"></a>2.let 特点</h3><ul>
<li>不会变量声明提升，需先声明后使用</li>
<li>不得重复声明</li>
<li>不会挂载全局 window 属性</li>
<li>与大括号{}配合使用形成块级作用域<br><strong>临时死区</strong></li>
<li>称霸当前块级作用域（只要有就必须使用当前块内的变量）</li>
<li>而且声明之前不允许使用，也不使用外部同名变量</li>
<li>具有识别块级作用域的能力</li>
</ul>
<h3 id="3-const-特点"><a href="#3-const-特点" class="headerlink" title="3.const 特点"></a>3.const 特点</h3><ul>
<li>声明常量，常量名建议大写</li>
<li>在声明时就必须初始化值</li>
<li>存储常量的空间里面的值不能发生改变</li>
<li>如若值是原始类型，则无法改变</li>
<li>如若值是引用类型，则地址无法改变</li>
<li>具有识别块级作用域的能力</li>
</ul>
<h1 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h1><h2 id="（一）拓展运算符…"><a href="#（一）拓展运算符…" class="headerlink" title="（一）拓展运算符…"></a>（一）拓展运算符…</h2><h3 id="1-es6-操作数组"><a href="#1-es6-操作数组" class="headerlink" title="1.es6 操作数组"></a>1.es6 操作数组</h3><ul>
<li>写的时候起收集作用</li>
<li>读的时候起展开作用</li>
<li>在做形参的时候，必须是最后一个</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//展开</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">count(...arr); <span class="comment">//count(1,2,3,4,5)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params">a, b, ...arg</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//收集</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(a, b, arg); <span class="comment">//1, 2, [3,4,5]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="2-es7-操作对象"><a href="#2-es7-操作对象" class="headerlink" title="2.es7 操作对象"></a>2.es7 操作对象</h3><ul>
<li>读对象展开大括号作用</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  a: <span class="number">1</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  b: <span class="number">2</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  c: <span class="number">3</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//展开</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj2 = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  ...obj1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>

<h2 id="（二）解构赋值"><a href="#（二）解构赋值" class="headerlink" title="（二）解构赋值"></a>（二）解构赋值</h2><h3 id="1-解构对象"><a href="#1-解构对象" class="headerlink" title="1.解构对象"></a>1.解构对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  a: <span class="number">1</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  b: <span class="number">2</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  c: <span class="number">3</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//展开</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">a</span>: one, <span class="attr">b</span>: two, <span class="attr">c</span>: three, four = <span class="number">4</span> &#125; = obj;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(one, two, three, four); <span class="comment">//1、2、3、4</span></span></pre></td></tr></table></figure>

<h3 id="2-解构数组"><a href="#2-解构数组" class="headerlink" title="2.解构数组"></a>2.解构数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [one, two, three] = arr;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(one, two, three); <span class="comment">//1、2、3</span></span></pre></td></tr></table></figure>

<h2 id="（三）默认赋值"><a href="#（三）默认赋值" class="headerlink" title="（三）默认赋值"></a>（三）默认赋值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params">a = <span class="number">1</span>, b = <span class="number">2</span></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(a + b);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">count(<span class="number">10</span>); <span class="comment">//12</span></span></pre></td></tr></table></figure>

<h1 id="四、箭头函数"><a href="#四、箭头函数" class="headerlink" title="四、箭头函数"></a>四、箭头函数</h1><h3 id="1-存储"><a href="#1-存储" class="headerlink" title="1.存储"></a>1.存储</h3><ul>
<li>必须有空间存储，变量、数组、对象属性等</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span></pre></td></tr></table></figure>

<h3 id="2-参数"><a href="#2-参数" class="headerlink" title="2.参数"></a>2.参数</h3><ul>
<li>当只有一个形参的时候，可以胜率圆括号</li>
<li>多个形参名不能相同（报错）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="function"><span class="params">a</span> =&gt;</span> &#123;&#125;;</span></pre></td></tr></table></figure>

<h3 id="4-返回值"><a href="#4-返回值" class="headerlink" title="4.返回值"></a>4.返回值</h3><ul>
<li>可以省略 return 关键字，省略大括号，直接写在箭头后</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count1 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count2 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> [a, b];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count3 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> (&#123; <span class="attr">a</span>: a, <span class="attr">b</span>: b &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count4 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="function"><span class="params">a</span> =&gt;</span> a / <span class="number">2</span>;</span></pre></td></tr></table></figure>

<h3 id="5-arguments-this-指向"><a href="#5-arguments-this-指向" class="headerlink" title="5.arguments/this 指向"></a>5.arguments/this 指向</h3><ul>
<li>arguments 由定义时外层最接近的非箭头函数的 arguments 决定</li>
<li>this 由定义时外层最接近的非箭头函数的 this 决定</li>
<li>全局定义的箭头函数的 arguments 未定义</li>
<li>全局定义的箭头函数的 this 指向 window</li>
</ul>
<h1 id="五、数据劫持"><a href="#五、数据劫持" class="headerlink" title="五、数据劫持"></a>五、数据劫持</h1><h3 id="1-数据描述符"><a href="#1-数据描述符" class="headerlink" title="1.数据描述符"></a>1.数据描述符</h3><ul>
<li>value 属性值默认 undefined</li>
<li>writable 可写默认 false</li>
<li>configurable 可配置默认 false</li>
<li>enumerable 可枚举默认 false<br><strong>自然创建的对象，数据描述符默认都是 true</strong></li>
</ul>
<h3 id="2-存取描述符"><a href="#2-存取描述符" class="headerlink" title="2.存取描述符"></a>2.存取描述符</h3><ul>
<li>get 的返回值对应 value</li>
<li>设置的值作为实参对应 set 的形参</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  tempValue: <span class="string">"abc"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">set</span> name()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.tempValue;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">get</span> name(value)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.tempValue = value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">obj.name<span class="comment">//"abc"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">obj.name = <span class="number">10</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">obj.name<span class="comment">//10</span></span></pre></td></tr></table></figure>

<h3 id="3-Proxy-amp-Reflect-代理植入"><a href="#3-Proxy-amp-Reflect-代理植入" class="headerlink" title="3.Proxy&amp;Reflect 代理植入"></a>3.Proxy&amp;Reflect 代理植入</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  value: <span class="number">10</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxyData = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//写</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">set</span>(target, key, value, receiver) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">Reflect</span>.set(target, key, value);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//读</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">get</span>(target, key, receiver) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, key);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//in</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  has(target, key) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//delete</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  deleteProperty() &#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<h1 id="六、类-Class"><a href="#六、类-Class" class="headerlink" title="六、类 Class"></a>六、类 Class</h1><h3 id="1-定义"><a href="#1-定义" class="headerlink" title="1.定义"></a>1.定义</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//实例对象的属性</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//原型上的方法</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  say() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      <span class="string">`my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, I am a <span class="subst">$&#123;<span class="keyword">this</span>.sex&#125;</span>, I am <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old!`</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    );</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//静态方法</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">static</span> tell() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old!`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//ES7实例对象的属性</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  sex = <span class="string">"boy"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//ES7静态属性</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">static</span> age = <span class="number">30</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> Father(<span class="string">"son1"</span>, <span class="number">10</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> son2 = <span class="keyword">new</span> Father(<span class="string">"son2"</span>, <span class="number">5</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">son1.say(); <span class="comment">//my name is son1, I am a boy, I am 10 years old!</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">son2.say(); <span class="comment">//my name is son2, I am a boy, I am 5 years old!</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">Father.tell(); <span class="comment">//my name is Father, I am 30 years old!</span></span></pre></td></tr></table></figure>

<h3 id="2-继承"><a href="#2-继承" class="headerlink" title="2.继承"></a>2.继承</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grandpa</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(hair = "黑发", eyes = "黑眼睛", noes = "高鼻梁") &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.hair = hair;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.eyes = eyes;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.noes = noes;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  say() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my age is <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my skin is <span class="subst">$&#123;<span class="keyword">this</span>.skin&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my eyelid is <span class="subst">$&#123;<span class="keyword">this</span>.eyelid&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my eyes is <span class="subst">$&#123;<span class="keyword">this</span>.eyes&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my noes is <span class="subst">$&#123;<span class="keyword">this</span>.noes&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my hair is <span class="subst">$&#123;<span class="keyword">this</span>.hair&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">extends</span> <span class="title">Grandpa</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(skin = "黄皮肤", eyelid = "双眼皮") &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">super</span>();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.skin = skin;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.eyelid = eyelid;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(name, age, skin, eyelid) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">super</span>(skin, eyelid);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> Son(<span class="string">"son1"</span>, <span class="number">10</span>, <span class="string">"黑皮肤"</span>, <span class="string">"单眼皮"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> son2 = <span class="keyword">new</span> Son(<span class="string">"son2"</span>, <span class="number">20</span>, <span class="string">"白皮肤"</span>, <span class="string">"双眼皮"</span>);</span></pre></td></tr></table></figure>

<h3 id="3-ES5-模拟-Class"><a href="#3-ES5-模拟-Class" class="headerlink" title="3.ES5 模拟 Class"></a>3.ES5 模拟 Class</h3><h3 id="4-ES7-提案（装饰器）"><a href="#4-ES7-提案（装饰器）" class="headerlink" title="4.ES7 提案（装饰器）"></a>4.ES7 提案（装饰器）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//.babelrc</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"presets"</span>: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"@babel/preset-env"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  ],</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"plugins"</span>: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    [<span class="string">"@babel/plugin-proposal-decorators"</span>, &#123;<span class="string">"legacy"</span>: <span class="literal">true</span>&#125;],</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    [<span class="string">"@babel/plugin-proposal-class-properties"</span>, &#123;<span class="string">"loose"</span>: <span class="literal">true</span>&#125;]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//class</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//面向对象+面向切面</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> inp = <span class="built_in">document</span>.querySelector(<span class="string">".inp"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">".btn"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">@Skin</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Search</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.keyWords = <span class="string">""</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  @myReadOnly</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  urlA = <span class="string">"urlA-"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">  @dealData(<span class="string">"张三"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  getContent(data,a,b) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;data&#125;</span>向<span class="subst">$&#123;<span class="keyword">this</span>.urlA&#125;</span>发送网络请求，数据：<span class="subst">$&#123;<span class="keyword">this</span>.keyWords&#125;</span>`</span>, a, b);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">10</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//装饰私有属性</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myReadOnly</span>(<span class="params">prototype, key, descriptor</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(prototype, key, descriptor);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  descriptor.writable = <span class="literal">false</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/* //装饰原型属性</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="comment">function dealData(prototype, key, descriptor)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  console.log(prototype, key, descriptor);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  let oldValue = descriptor.value;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  descriptor.value = function ()&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    let urlB = "urlB-";</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    console.log(`向$&#123;urlB&#125;发送网络请求，数据：$&#123;this.keyWords&#125;`);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    return oldValue.apply(this, arguments);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"><span class="comment">&#125; */</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//装饰原型属性</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dealData</span>(<span class="params">data</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">prototype, key, descriptor</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(prototype, key, descriptor);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> oldValue = descriptor.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">    descriptor.value = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">let</span> urlB = <span class="string">"urlB-"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;data&#125;</span>向<span class="subst">$&#123;urlB&#125;</span>发送网络请求，数据：<span class="subst">$&#123;<span class="keyword">this</span>.keyWords&#125;</span>`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> oldValue.call(<span class="keyword">this</span>, data, ...arguments);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//装饰类</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Skin</span>(<span class="params">target</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">  target.aa = <span class="number">30</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> os = <span class="keyword">new</span> Search();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line">inp.oninput = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line">  os.keyWords = <span class="keyword">this</span>.value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line">  os.getContent(<span class="number">1</span>,<span class="number">2</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h1 id="七、数据存储"><a href="#七、数据存储" class="headerlink" title="七、数据存储"></a>七、数据存储</h1><h2 id="（一）Set"><a href="#（一）Set" class="headerlink" title="（一）Set"></a>（一）Set</h2><h3 id="1-创建-new-Set-data"><a href="#1-创建-new-Set-data" class="headerlink" title="1.创建 new Set(data)"></a>1.创建 new Set(data)</h3><ul>
<li>产生一个类似数组的机构，里面的值唯一</li>
<li>data 具备迭代接口的数据</li>
<li>Set 只存储唯一 value，不存储 key</li>
</ul>
<h3 id="2-原型方法"><a href="#2-原型方法" class="headerlink" title="2.原型方法"></a>2.原型方法</h3><ul>
<li>add(value)添加数据</li>
<li>delete(value)删除数据==value 必须与存储的一致否则删除不了（字面量形式就删除不了，用变量接受，存储变量）==</li>
<li>clear()清空数据</li>
<li>has(value)检测数据 true/false</li>
</ul>
<h3 id="3-遍历"><a href="#3-遍历" class="headerlink" title="3.遍历"></a>3.遍历</h3><ul>
<li>for…of 遍历迭代接口的数据</li>
<li>forEach 方法</li>
</ul>
<h3 id="4-转换"><a href="#4-转换" class="headerlink" title="4.转换"></a>4.转换</h3><ul>
<li>Array.form(Set)</li>
<li>[…Set]</li>
</ul>
<h3 id="5-应用"><a href="#5-应用" class="headerlink" title="5.应用"></a>5.应用</h3><ul>
<li>去重</li>
<li>差集</li>
<li>交集</li>
<li>并集</li>
</ul>
<h2 id="（二）Map"><a href="#（二）Map" class="headerlink" title="（二）Map"></a>（二）Map</h2><h3 id="1-创建-new-Map-key-value"><a href="#1-创建-new-Map-key-value" class="headerlink" title="1.创建 new Map([[key, value]])"></a>1.创建 new Map([[key, value]])</h3><ul>
<li>“做字典”</li>
<li>data 具备迭代接口的数据</li>
<li>Map 存储唯一 key-value 键值对</li>
<li>key 可以是任何形式</li>
</ul>
<h3 id="2-原型方法-1"><a href="#2-原型方法-1" class="headerlink" title="2.原型方法"></a>2.原型方法</h3><ul>
<li>Map(key, value)添加数据</li>
<li>get(key)获取数据==key 必须与存储的一致否则获取不了（字面量形式就获取不了，用变量接受，存储变量）==</li>
<li>delete(key)删除数据</li>
<li>keys()获取所有的键</li>
<li>has(key)检测数据</li>
</ul>
<h3 id="3-遍历-1"><a href="#3-遍历-1" class="headerlink" title="3.遍历"></a>3.遍历</h3><ul>
<li>for…of 遍历迭代接口的数据</li>
<li>forEach 方法</li>
</ul>
<h3 id="4-模拟（链接列表-桶、hash-算法）"><a href="#4-模拟（链接列表-桶、hash-算法）" class="headerlink" title="4.模拟（链接列表/*桶、hash 算法）"></a>4.模拟（链接列表/*桶、hash 算法）</h3><h1 id="八、异步编程"><a href="#八、异步编程" class="headerlink" title="八、异步编程"></a>八、异步编程</h1><h2 id="（一）Promise"><a href="#（一）Promise" class="headerlink" title="（一）Promise"></a>（一）Promise</h2><h3 id="1-执行顺序"><a href="#1-执行顺序" class="headerlink" title="1.执行顺序"></a>1.执行顺序</h3><ul>
<li>宏任务: 计时器、事件、ajax</li>
<li>微任务：Promise<ul>
<li>微任务有优先执行权</li>
</ul>
</li>
</ul>
<h3 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//Promise对象，需要一个回调函数作为参数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> op = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册成功、失败函数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回值会向后传递</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//此次的错误会被下一次的then的失败函数或catch捕获到</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//此次若没有错误，则下次会执行成功函数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">op.then(</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  resolveData =&gt; &#123;&#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  rejectData =&gt; &#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//捕获异常</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果then在此之前捕获过，则不会捕获掉</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回值不会传递</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">op.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//全部成功才成功，只要有一个promise失败就失败</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//谁失败就用谁的</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//全部成功就将参数统一成一个数组</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">op.all([promise(), promise(), promise()]).then();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//只要有一个promise成功就成功，只要有一个promise失败就失败</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//谁先成功就用谁的</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//谁先失败就用谁的</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">op.race([promise(), promise(), promise()]).then();</span></pre></td></tr></table></figure>

<h3 id="3-模拟"><a href="#3-模拟" class="headerlink" title="3.模拟"></a>3.模拟</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">syncFn</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  self.status = <span class="string">"pending"</span>; <span class="comment">//进行中</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//处理参数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  self.resolveValue = <span class="literal">null</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  self.rejectReason = <span class="literal">null</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//处理异步</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  self.resolveCallBackList = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  self.rejectCallBackList = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//执行成功回调</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"pending"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      self.status = <span class="string">"fulfilled"</span>; <span class="comment">//已成功</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      self.resolveValue = value; <span class="comment">//处理参数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      self.resolveCallBackList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123; <span class="comment">//处理异步</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        res();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//执行失败回调</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">reason</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"pending"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">      self.status = <span class="string">"rejected"</span>; <span class="comment">//已失败</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">      self.rejectReason = reason; <span class="comment">//处理参数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      self.rejectCallBackList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">rej</span>) </span>&#123; <span class="comment">//处理异步</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">        rej();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//捕获syncFn中抛出的错误</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">    syncFn(resolve, reject);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    reject(error); <span class="comment">//抛出错误，即已失败</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//处理then手动返回promise</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">MyPromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onFulfilled, onRejected</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">  onFulfilled = onFulfilled || <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> value;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">  onRejected = onRejected || <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(reason);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//处理返回值promise</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">processor</span>(<span class="params">returnValue, nextFn, nextRes, nextRej</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (returnValue <span class="keyword">instanceof</span> MyPromise) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">      returnValue.then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">        nextRes(value);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">      &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">        nextRej(reason);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">    &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">      nextFn(returnValue);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//异步函数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">makeAsync</span>(<span class="params">onFn, value, nextFn, nextRes, nextRej</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> returnValue = onFn(value);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line">        processor(returnValue, nextFn, nextRes, nextRej); <span class="comment">//处理返回值promise</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line">        nextRej(error)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line">    &#125;, <span class="number">0</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> nextPromise = <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span> (<span class="params">res, rej</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">74</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"fulfilled"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">75</span></pre></td><td class="code"><pre><span class="line">      makeAsync(onFulfilled, self.resolveValue, res, res, rej);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">76</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">77</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"rejected"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">78</span></pre></td><td class="code"><pre><span class="line">      makeAsync(onRejected, self.rejectReason, rej, res, rej);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">79</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">80</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"pending"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">81</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> (onFulfilled) === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">82</span></pre></td><td class="code"><pre><span class="line">        self.resolveCallBackList.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">83</span></pre></td><td class="code"><pre><span class="line">          makeAsync(onFulfilled, self.resolveValue, res, res, rej);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">84</span></pre></td><td class="code"><pre><span class="line">        &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">85</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">86</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> (onRejected) === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">87</span></pre></td><td class="code"><pre><span class="line">        self.rejectCallBackList.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">88</span></pre></td><td class="code"><pre><span class="line">          makeAsync(onRejected, self.rejectReason, rej, res, rej);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">89</span></pre></td><td class="code"><pre><span class="line">        &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">90</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">91</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">92</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">93</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> nextPromise;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">94</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">95</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">96</span></pre></td><td class="code"><pre><span class="line">MyPromise.race = <span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">97</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span>(<span class="params">res, rej</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">98</span></pre></td><td class="code"><pre><span class="line">    promiseArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">99</span></pre></td><td class="code"><pre><span class="line">      promise.then(res, rej);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">100</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">101</span></pre></td><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">102</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">103</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">104</span></pre></td><td class="code"><pre><span class="line">MyPromise.all = <span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">105</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> values = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">106</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span>(<span class="params">res, rej</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">107</span></pre></td><td class="code"><pre><span class="line">    promiseArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">108</span></pre></td><td class="code"><pre><span class="line">      promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">109</span></pre></td><td class="code"><pre><span class="line">        values.push(value);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">110</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(values.length === promiseArr.length)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">111</span></pre></td><td class="code"><pre><span class="line">          res(values);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">112</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">113</span></pre></td><td class="code"><pre><span class="line">      &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">114</span></pre></td><td class="code"><pre><span class="line">        rej(reason);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">115</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">116</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">117</span></pre></td><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">118</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="4-promisify-化"><a href="#4-promisify-化" class="headerlink" title="4.promisify 化"></a>4.promisify 化</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promisify</span>(<span class="params">func</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...arg</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      func(...arg, (err, data) =&gt; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span> (err) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">          rej(err);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">          res(data);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promisfyAll</span>(<span class="params">obj</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> fn = obj[key];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">      obj[key + <span class="string">"Async"</span>] = promisify(fn);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> read = promisify(fs.readFile);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">read(<span class="string">"./data/number.txt"</span>, <span class="string">"utf-8"</span>).then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(val);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">promisfyAll(fs);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">fs.readFileAsync(<span class="string">"./data/number.txt"</span>, <span class="string">"utf-8"</span>).then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="string">"asyn:"</span>, val);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// let bluebird = require("bluebird");</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// bluebird.promisify();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// bluebird.promisifyAll();</span></span></pre></td></tr></table></figure>
<hr>
<h2 id="（二）Iterator-迭代器"><a href="#（二）Iterator-迭代器" class="headerlink" title="（二）Iterator 迭代器"></a>（二）Iterator 迭代器</h2><h3 id="1-Symbol-数据类型"><a href="#1-Symbol-数据类型" class="headerlink" title="1.Symbol 数据类型"></a>1.Symbol 数据类型</h3><h4 id="（1）特点"><a href="#（1）特点" class="headerlink" title="（1）特点"></a>（1）特点</h4><ul>
<li>唯一性</li>
<li>可作为对象的属性</li>
<li>静态方法 Symbol.iterator</li>
</ul>
<h4 id="（2）添加迭代器"><a href="#（2）添加迭代器" class="headerlink" title="（2）添加迭代器"></a>（2）添加迭代器</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="number">0</span>: <span class="string">"a"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="number">1</span>: <span class="string">"b"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="number">2</span>: <span class="string">"c"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  length: <span class="number">3</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> curIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> next = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        value: <span class="keyword">this</span>[curIndex],</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        done: <span class="keyword">this</span>.length === curIndex++</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      next</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log([...obj]);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> prop <span class="keyword">of</span> obj) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(prop);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-Generator-生成器"><a href="#2-Generator-生成器" class="headerlink" title="2.Generator 生成器"></a>2.Generator 生成器</h3><h4 id="（1）特点-1"><a href="#（1）特点-1" class="headerlink" title="（1）特点"></a>（1）特点</h4><ul>
<li>在 function 关键字与函数名之间加*,即为生成器</li>
<li>通过普通执行创建迭代器对象（==非 new==）</li>
<li>通过 yield 关键字控制分段执行</li>
</ul>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">Test</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> data1 = <span class="keyword">yield</span> <span class="string">"a"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data1);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> data2 = <span class="keyword">yield</span> <span class="string">"b"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data2);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> data3 = <span class="keyword">yield</span> <span class="string">"c"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data3);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="string">"d"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oG = Test();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"0"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"1"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"2"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"3"</span>));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"4"</span>));</span></pre></td></tr></table></figure>

<h4 id="（3）执行原理"><a href="#（3）执行原理" class="headerlink" title="（3）执行原理"></a>（3）执行原理</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">Test</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">yield</span> <span class="string">"a"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> data1 &lt;== next(<span class="string">"1"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data1) ==&gt; <span class="string">"1"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">   <span class="keyword">yield</span> <span class="string">"b"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> data2 &lt;== next(<span class="string">"2"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data2) ==&gt; <span class="string">"2"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">   <span class="keyword">yield</span> <span class="string">"c"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> data3 &lt;== next(<span class="string">"3"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data3) ==&gt; <span class="string">"3"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="string">"d"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（4）应用"><a href="#（4）应用" class="headerlink" title="（4）应用"></a>（4）应用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="number">0</span>: <span class="string">"a"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="number">1</span>: <span class="string">"b"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="number">2</span>: <span class="string">"c"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  length: <span class="number">3</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> curIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">while</span> (curIndex &lt; <span class="keyword">this</span>.length) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">yield</span> <span class="keyword">this</span>[curIndex++];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log([...obj]);</span></pre></td></tr></table></figure>

<hr>
<h2 id="（三）解决回调地狱"><a href="#（三）解决回调地狱" class="headerlink" title="（三）解决回调地狱"></a>（三）解决回调地狱</h2><h3 id="1-CallBack（jQuery）"><a href="#1-CallBack（jQuery）" class="headerlink" title="1.CallBack（jQuery）"></a>1.CallBack（jQuery）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">jQuery.myCallback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> options = <span class="built_in">arguments</span>[<span class="number">0</span>] || <span class="string">""</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> list = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> fired = <span class="literal">false</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> params = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> call = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span>(; fireIndex &lt; list.length; fireIndex++)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      list[fireIndex].apply(<span class="built_in">window</span>, params);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span>(options.includes(<span class="string">"once"</span>))&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      list = [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    add(fn)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">typeof</span> fn === <span class="string">"function"</span> &amp;&amp; list.push(fn);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span>(options.includes(<span class="string">"memory"</span>) &amp;&amp; fired)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        call();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    fire()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">      fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">      params = <span class="built_in">arguments</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">      fired = <span class="literal">true</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">      call();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-Deferred（jQuery）"><a href="#2-Deferred（jQuery）" class="headerlink" title="2.Deferred（jQuery）"></a>2.Deferred（jQuery）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">jQuery.myDeferred = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> dfArr = [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">      [$.myCallback(<span class="string">"once memory"</span>), <span class="string">"done"</span>, <span class="string">"resolve"</span>],</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      [$.myCallback(<span class="string">"once memory"</span>), <span class="string">"fail"</span>, <span class="string">"reject"</span>],</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      [$.myCallback(<span class="string">"memory"</span>), <span class="string">"progress"</span>, <span class="string">"notify"</span>],</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    ];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> deferred = &#123;&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> status = <span class="literal">true</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    dfArr.forEach(<span class="function">(<span class="params">ele, index</span>)=&gt;</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      deferred[ele[<span class="number">1</span>]] = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        ele[<span class="number">0</span>].add(fn);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    dfArr.forEach(<span class="function">(<span class="params">ele, index</span>)=&gt;</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      deferred[ele[<span class="number">2</span>]] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span>(status)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">          ele[<span class="number">0</span>].fire.apply(<span class="built_in">window</span>, <span class="built_in">arguments</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">          status = ele[<span class="number">2</span>] === <span class="string">"notify"</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> deferred;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="3-co-解决回调地狱"><a href="#3-co-解决回调地狱" class="headerlink" title="3.co 解决回调地狱"></a>3.co 解决回调地狱</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">"co"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readData</span>(<span class="params">path</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    fs.readFile(path, <span class="string">"utf-8"</span>, (err, data) =&gt; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span> (data) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        res(data);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        rej(err);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// readData("./data/number.txt").then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   return value;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   console.log(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> val1 = <span class="keyword">yield</span> readData(<span class="string">"./data/number.txt"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> val2 = <span class="keyword">yield</span> readData(val1);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> val3 = <span class="keyword">yield</span> readData(val2);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> val3;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成器优化</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/* function Co(oG)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  let &#123;value&#125; = oG.next();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  value.then(val1=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    let &#123;value&#125; = oG.next(val1);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    value.then(val2=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      let &#123;value&#125; = oG.next(val2);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      value.then(val3=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="comment">        console.log(val3);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="comment">&#125; </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="comment">Co(read());</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="comment">*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//递归优化</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Co</span>(<span class="params">oG</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">let</span> next = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">let</span> &#123; value, done &#125; = oG.next(data);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span> (done) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">        res(value);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">      &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">        value.then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">          next(val);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">        &#125;, rej);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line">    &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line">    next();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line">Co(read()).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(value);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>
<hr>
<h3 id="4-async-await异步函数（ES7语法糖）"><a href="#4-async-await异步函数（ES7语法糖）" class="headerlink" title="4.async + await异步函数（ES7语法糖）"></a>4.async + await异步函数（ES7语法糖）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">"co"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readData</span>(<span class="params">path</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    fs.readFile(path, <span class="string">"utf-8"</span>, (err, data)=&gt;&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span>(data)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        res(data);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        rej(err);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// readData("./data/number.txt").then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   return value;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//   console.log(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/* function *read()&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  let val1 = yield readData("./data/number.txt");</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  let val2 = yield readData(val1);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  let val3 = yield readData(val2);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  return val3;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="comment">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成器优化</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/* function Co(oG)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  let &#123;value&#125; = oG.next();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  value.then(val1=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    let &#123;value&#125; = oG.next(val1);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    value.then(val2=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      let &#123;value&#125; = oG.next(val2);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      value.then(val3=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line"><span class="comment">        console.log(val3);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"><span class="comment">&#125; </span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line"><span class="comment">Co(read());</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line"><span class="comment">*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//递归优化</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/* function Co(oG)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  return new Promise((res, rej)=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    let next = data=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      let &#123;value, done&#125; = oG.next(data);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      if(done)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line"><span class="comment">        res(value);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &#125;else&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line"><span class="comment">        value.then(val=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line"><span class="comment">          next(val);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">58</span></pre></td><td class="code"><pre><span class="line"><span class="comment">        &#125;, rej)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">59</span></pre></td><td class="code"><pre><span class="line"><span class="comment">      &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">60</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    &#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">61</span></pre></td><td class="code"><pre><span class="line"><span class="comment">    next();</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">62</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  &#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">63</span></pre></td><td class="code"><pre><span class="line"><span class="comment">&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">64</span></pre></td><td class="code"><pre><span class="line"><span class="comment">Co( read() ).then(value=&gt;&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">65</span></pre></td><td class="code"><pre><span class="line"><span class="comment">  console.log(value)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">66</span></pre></td><td class="code"><pre><span class="line"><span class="comment">&#125;)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">67</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">68</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">69</span></pre></td><td class="code"><pre><span class="line"> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params">url</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">70</span></pre></td><td class="code"><pre><span class="line">   <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">71</span></pre></td><td class="code"><pre><span class="line">     <span class="keyword">let</span> val1 = <span class="keyword">await</span> readData(url);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">72</span></pre></td><td class="code"><pre><span class="line">     <span class="keyword">let</span> val2 = <span class="keyword">await</span> readData(val1);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">73</span></pre></td><td class="code"><pre><span class="line">     <span class="keyword">let</span> val3 = <span class="keyword">await</span> readData(val2);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">74</span></pre></td><td class="code"><pre><span class="line">     <span class="keyword">return</span> val3;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">75</span></pre></td><td class="code"><pre><span class="line">   &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">76</span></pre></td><td class="code"><pre><span class="line">     <span class="keyword">return</span> error;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">77</span></pre></td><td class="code"><pre><span class="line">   &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">78</span></pre></td><td class="code"><pre><span class="line"> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">79</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">80</span></pre></td><td class="code"><pre><span class="line"> read(<span class="string">"./data/number.txt"</span>).then(<span class="function"><span class="params">val</span>=&gt;</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">81</span></pre></td><td class="code"><pre><span class="line">   <span class="built_in">console</span>.log(<span class="string">"async ==&gt;&gt;"</span> , val);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">82</span></pre></td><td class="code"><pre><span class="line"> &#125;)</span></pre></td></tr></table></figure>
<hr>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/03/ES6a/" data-id="ck73cha200006w8tg5qief1s8"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-ES5a" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/03/ES5a/"
    >ES5 --- 应用篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/03/ES5a/" class="article-date">
  <time datetime="2020-01-02T17:00:00.000Z" itemprop="datePublished">2020-01-03</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>[toc]</p>
<h2 id="一、js数据类型"><a href="#一、js数据类型" class="headerlink" title="一、js数据类型"></a>一、js数据类型</h2><h3 id="（一）原始类型"><a href="#（一）原始类型" class="headerlink" title="（一）原始类型"></a>（一）原始类型</h3><h4 id="1-数字-number"><a href="#1-数字-number" class="headerlink" title="1.数字 number"></a>1.数字 number</h4><blockquote>
<p>直接书写 十进制<br>0前缀 八进制<br>0x前缀  十六进制<br>0b前缀 二进制</p>
</blockquote>
<h4 id="2-字符串-string"><a href="#2-字符串-string" class="headerlink" title="2.字符串 string"></a>2.字符串 string</h4><blockquote>
<p>单引号 ‘’<br>双引号 “”<br>模板 ``</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">转义字符</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#39;</td>
<td align="center">单引号</td>
</tr>
<tr>
<td align="center">&quot;</td>
<td align="center">双引号</td>
</tr>
<tr>
<td align="center">\</td>
<td align="center">反斜杠</td>
</tr>
<tr>
<td align="center">\n</td>
<td align="center">换行</td>
</tr>
<tr>
<td align="center">\t</td>
<td align="center">制表符</td>
</tr>
</tbody></table>
<h4 id="3-布尔-boolean"><a href="#3-布尔-boolean" class="headerlink" title="3.布尔 boolean"></a>3.布尔 boolean</h4><blockquote>
<p>true 真<br>false 假</p>
</blockquote>
<h4 id="4-未定义-undefined"><a href="#4-未定义-undefined" class="headerlink" title="4.未定义 undefined"></a>4.未定义 undefined</h4><blockquote>
<p>undefined</p>
</blockquote>
<h4 id="5-空-null"><a href="#5-空-null" class="headerlink" title="5.空 null"></a>5.空 null</h4><blockquote>
<p>null</p>
</blockquote>
<h3 id="（二）引用类型"><a href="#（二）引用类型" class="headerlink" title="（二）引用类型"></a>（二）引用类型</h3><h4 id="1-对象-object"><a href="#1-对象-object" class="headerlink" title="1.对象 object"></a>1.对象 object</h4><blockquote>
<p>{}</p>
</blockquote>
<h4 id="2-函数-function"><a href="#2-函数-function" class="headerlink" title="2.函数 function"></a>2.函数 function</h4><blockquote>
<p>function () {}</p>
</blockquote>
<hr>
<h2 id="二、变量"><a href="#二、变量" class="headerlink" title="二、变量"></a>二、变量</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><h4 id="（1）什么是变量？"><a href="#（1）什么是变量？" class="headerlink" title="（1）什么是变量？"></a>（1）什么是变量？</h4><ul>
<li>一块内存空间，用于存储数据</li>
</ul>
<h4 id="（2）变量声明"><a href="#（2）变量声明" class="headerlink" title="（2）变量声明"></a>（2）变量声明</h4><blockquote>
<p>var 变量名</p>
</blockquote>
<h4 id="（3）变量赋值"><a href="#（3）变量赋值" class="headerlink" title="（3）变量赋值"></a>（3）变量赋值</h4><blockquote>
<p>变量名 = 数据</p>
</blockquote>
<h3 id="2-特点"><a href="#2-特点" class="headerlink" title="2.特点"></a>2.特点</h3><h4 id="（1）变量的值是可变的"><a href="#（1）变量的值是可变的" class="headerlink" title="（1）变量的值是可变的"></a>（1）变量的值是可变的</h4><ul>
<li>变量可以重复赋值，新的值会覆盖原来的值</li>
</ul>
<h4 id="（2）变量命名规范"><a href="#（2）变量命名规范" class="headerlink" title="（2）变量命名规范"></a>（2）变量命名规范</h4><ul>
<li>只能使用字母、下划线、$、数字</li>
<li>只能以字母、下划线、$开头</li>
<li>不能使用关键字、保留字</li>
<li>做到见名知义</li>
<li>多个单词小驼峰命名法</li>
</ul>
<h4 id="（3）变量声明赋值可以合并书写（语法糖）"><a href="#（3）变量声明赋值可以合并书写（语法糖）" class="headerlink" title="（3）变量声明赋值可以合并书写（语法糖）"></a>（3）变量声明赋值可以合并书写（语法糖）</h4><blockquote>
<p>var name = “huafu”;</p>
</blockquote>
<h4 id="（4）多个变量声明赋值可以合并书写（语法糖）"><a href="#（4）多个变量声明赋值可以合并书写（语法糖）" class="headerlink" title="（4）多个变量声明赋值可以合并书写（语法糖）"></a>（4）多个变量声明赋值可以合并书写（语法糖）</h4><blockquote>
<p>var a = 1, b = 2, c = 3;</p>
</blockquote>
<h4 id="（5）任何书写数据的地方，都可书写变量"><a href="#（5）任何书写数据的地方，都可书写变量" class="headerlink" title="（5）任何书写数据的地方，都可书写变量"></a>（5）任何书写数据的地方，都可书写变量</h4><h4 id="（6）使用未声明的变量时，会产生错误"><a href="#（6）使用未声明的变量时，会产生错误" class="headerlink" title="（6）使用未声明的变量时，会产生错误"></a>（6）使用未声明的变量时，会产生错误</h4><ul>
<li>例外 typeof 判断变量类型使用未声明的变量不会报错</li>
</ul>
<h4 id="（7）js里存在变量声明提升"><a href="#（7）js里存在变量声明提升" class="headerlink" title="（7）js里存在变量声明提升"></a>（7）js里存在变量声明提升</h4><ul>
<li>提升不会超越脚本快</li>
</ul>
<h4 id="（8）js里变量可以重复声明"><a href="#（8）js里变量可以重复声明" class="headerlink" title="（8）js里变量可以重复声明"></a>（8）js里变量可以重复声明</h4><ul>
<li>声明提升后会合并</li>
</ul>
<h3 id="3-变量与对象"><a href="#3-变量与对象" class="headerlink" title="3.变量与对象"></a>3.变量与对象</h3><h4 id="（1）书写"><a href="#（1）书写" class="headerlink" title="（1）书写"></a>（1）书写</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  name: <span class="string">"huafu"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  age: <span class="number">18</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h4 id="（2）属性操作方式"><a href="#（2）属性操作方式" class="headerlink" title="（2）属性操作方式"></a>（2）属性操作方式</h4><blockquote>
<p>user.name</p>
</blockquote>
<blockquote>
<p>user[“name”]</p>
</blockquote>
<h4 id="（3）增删改查"><a href="#（3）增删改查" class="headerlink" title="（3）增删改查"></a>（3）增删改查</h4><ul>
<li>访问不存在的对象时，会产生错误</li>
<li>访问对象不存在的属性时，不会报错，undefined</li>
<li>给对象不存在的属性赋值时，会添加此属性</li>
<li>给对象的属性重新赋值时，修改此属性值</li>
<li>delete 操作符删除对象属性</li>
</ul>
<h4 id="（4）属性表达式"><a href="#（4）属性表达式" class="headerlink" title="（4）属性表达式"></a>（4）属性表达式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  name: <span class="string">"huafu"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"age"</span>: <span class="number">18</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="number">1</span>: <span class="literal">false</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="string">"??"</span>: <span class="literal">undefined</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prop = <span class="string">"name"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">user[prop]</span></pre></td></tr></table></figure>
<ul>
<li>实际上，js对属性名没有严格限制，可以是任何形式</li>
<li>访问特殊的属性名，只能使用属性表达式，否则不满足语法要求</li>
<li>使用属性表达式，放置一个变量，改变变量内容，就可以实现访问不同的对象属性</li>
</ul>
<h4 id="（5）全局对象"><a href="#（5）全局对象" class="headerlink" title="（5）全局对象"></a>（5）全局对象</h4><ul>
<li>js大部分的宿主环境，都会提供一个特殊的对象，该对象可以直接访问（全局对象）</li>
<li>在浏览器环境中，全局对象为window，表示整个窗口</li>
<li>全局对象的属性可以直接使用属性名访问，不需要书写对象名</li>
<li>开发者声明的所有变量，实际上都会成为window对象的属性</li>
<li>如果变量没有赋值，该变量不会覆盖window对象的同名属性 </li>
<li>window.name属性比较特殊，任何类型的赋值都会变成字符串类型的内容</li>
<li>变量未经声明就赋值，等于给window对象增加此属性</li>
</ul>
<h4 id="（6）内存空间"><a href="#（6）内存空间" class="headerlink" title="（6）内存空间"></a>（6）内存空间</h4><h5 id="1）变量存储的信息"><a href="#1）变量存储的信息" class="headerlink" title="1）变量存储的信息"></a>1）变量存储的信息</h5><ul>
<li><p>变量赋值原始类型，存放的是数据内容</p>
<ul>
<li>使用变量进行赋值的时候，直接复制变量内存储的数据</li>
<li>当一个变量内容发生改变时，其它变量不会受影响</li>
</ul>
</li>
<li><p>变量赋值引用类型，存放的是数据内容的地址引用</p>
<ul>
<li>使用变量进行赋值的时候，复制的是变量内存储的地址引用</li>
<li>当其中一个变量对引用数据进行操作时，所有相同引用的变量内容都将受影响</li>
</ul>
</li>
<li><p>所有出现对象字面量的地方，都将会在内存空间里开辟新对象</p>
<ul>
<li>对象属性存储的是一个对象时，此属性保存的其实是对一个对象的引用</li>
</ul>
</li>
</ul>
<h5 id="2）垃圾回收"><a href="#2）垃圾回收" class="headerlink" title="2）垃圾回收"></a>2）垃圾回收</h5><ul>
<li>内存中无法访问到的对象（没有任何引用指向），会被视为垃圾</li>
<li>js引擎会在合适的时间将其占用的内存释放</li>
</ul>
<hr>
<h2 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h2><h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h3><h4 id="（1）操作符-amp-操作数"><a href="#（1）操作符-amp-操作数" class="headerlink" title="（1）操作符&amp;操作数"></a>（1）操作符&amp;操作数</h4><ul>
<li>操作符：运算符、参与运算的符号<ul>
<li>操作符不一定只是一个符号</li>
<li>操作符出现在不同的位置，可能具有不同的意义</li>
</ul>
</li>
<li>操作数：参与操作的数据，也称之为“元”</li>
</ul>
<h4 id="（2）分类"><a href="#（2）分类" class="headerlink" title="（2）分类"></a>（2）分类</h4><ul>
<li>按操作数的数量分<ul>
<li>一元（目）：() . [] {}</li>
<li>二元（目）: + - * / % =</li>
<li>三元（目）：?:</li>
</ul>
</li>
</ul>
<h4 id="（3）表达式"><a href="#（3）表达式" class="headerlink" title="（3）表达式"></a>（3）表达式</h4><ul>
<li>表达式 = 操作符 + 操作数</li>
<li>返回值：每个表达式都会返回一个运算结果</li>
<li>返回类型：返回值的类型</li>
<li>表达式就是数据，所有书写数据的地方都可以书写表达式</li>
</ul>
<h4 id="（4）返回值"><a href="#（4）返回值" class="headerlink" title="（4）返回值"></a>（4）返回值</h4><table>
<thead>
<tr>
<th align="center">操作符</th>
<th align="center">含义</th>
<th align="center">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">=</td>
<td align="center">赋值表达式</td>
<td align="center">返回赋值的结果</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center">属性访问表达式</td>
<td align="center">返回该属性的属性值</td>
</tr>
<tr>
<td align="center">[]</td>
<td align="center">属性访问表达式</td>
<td align="center">返回该属性的属性值</td>
</tr>
<tr>
<td align="center">()</td>
<td align="center">函数调用表达式</td>
<td align="center">返回值取决于函数运行</td>
</tr>
<tr>
<td align="center">var</td>
<td align="center">变量声明表达式</td>
<td align="center">返回undefined</td>
</tr>
</tbody></table>
<h3 id="2-算数运算符（数学运算符）"><a href="#2-算数运算符（数学运算符）" class="headerlink" title="2.算数运算符（数学运算符）"></a>2.算数运算符（数学运算符）</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">+</td>
<td align="center">求和表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">-</td>
<td align="center">求差表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">求积表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">/</td>
<td align="center">求商表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">%</td>
<td align="center">求余表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">++</td>
<td align="center">自增表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">–</td>
<td align="center">自减表达式</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="（1）运算细节"><a href="#（1）运算细节" class="headerlink" title="（1）运算细节"></a>（1）运算细节</h4><ul>
<li>数字运算是不精确的</li>
<li>除数为0，结果无穷<ul>
<li>被除数为正数（infinity）</li>
<li>被除数为0（NaN）</li>
<li>被除数为负数（-infinity）</li>
</ul>
</li>
<li>无法运算，返回值为NaN</li>
<li>% 求余与求模有区别（求余返回值符号与被余数保持一致）</li>
<li>typeof返回值类型为string</li>
<li>isNaN()函数返回值类型为boolean</li>
<li>isFinite()函数返回值类型为boolean</li>
</ul>
<h4 id="（2）非number类型运算"><a href="#（2）非number类型运算" class="headerlink" title="（2）非number类型运算"></a>（2）非number类型运算</h4><h5 id="1）-非-运算"><a href="#1）-非-运算" class="headerlink" title="1） 非 + 运算"></a>1） 非 + 运算</h5><ul>
<li>原始值自动转化为数字，再运算</li>
<li>NaN与任何数运算，结果为NaN</li>
<li>Infinity与任何数运算，结果为Infinity<blockquote>
<p>-5<strong>2 ==&gt; 报错<br>(-5)</strong>2 ==&gt; 25</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">转换值</th>
<th align="center">结果</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">boolean：false</td>
<td align="center">0</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">boolean：true</td>
<td align="center">1</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">string：数字</td>
<td align="center">数值</td>
<td align="center">能识别Infinity</td>
</tr>
<tr>
<td align="center">string：非数</td>
<td align="center">NaN</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">string：空串</td>
<td align="center">0</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">string：空格</td>
<td align="center">0</td>
<td align="center">转换会忽略前后空格</td>
</tr>
<tr>
<td align="center">null</td>
<td align="center">0</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">undefined</td>
<td align="center">NaN</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">{}</td>
<td align="center">“[object Object]” ==&gt; NaN</td>
<td align="center">对象转换为字符串</td>
</tr>
</tbody></table>
<ul>
<li>引用值自动转化为字符串，再转换为数字，然后运算<blockquote>
<p>{}<em>5 ==&gt; 报错<br>({})</em>5 ==&gt; NaN</p>
</blockquote>
</li>
</ul>
<h5 id="2）-运算"><a href="#2）-运算" class="headerlink" title="2） + 运算"></a>2） + 运算</h5><ul>
<li>操作数有字符串参与，含义为字符串拼接</li>
<li>若只有一个操作数为字符串，另一个操作数自动转换为字符串，然后拼接</li>
<li>若有一个操作数为对象，对象自动转换为字符串，然后拼接</li>
</ul>
<h4 id="（3）自增自减-–"><a href="#（3）自增自减-–" class="headerlink" title="（3）自增自减 ++ –"></a>（3）自增自减 ++ –</h4><ul>
<li>自增、自减1</li>
<li>操作符在前：表达式返回值为变量自增后的值</li>
<li>操作符在后：表达式返回值为变量自增前的值</li>
<li>操作符在前在后，对于变量来说，结果都一样</li>
<li>操作符在前在后，对于运算来说，由于表达式的返回值不一样，结果也会相应改变</li>
</ul>
<h4 id="（4）优先级"><a href="#（4）优先级" class="headerlink" title="（4）优先级"></a>（4）优先级</h4><h5 id="1）从高到底"><a href="#1）从高到底" class="headerlink" title="1）从高到底"></a>1）从高到底</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">++ --</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">* <span class="regexp">/ %</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">+ -</span></span></pre></td></tr></table></figure>

<h5 id="2）运算规则"><a href="#2）运算规则" class="headerlink" title="2）运算规则"></a>2）运算规则</h5><ul>
<li>从左到右依次进行</li>
<li>若相连两运算符，左边优先级高于等于右边，则直接运算</li>
<li>若相连两运算符，左边优先级低于右边，则继续往后进行</li>
</ul>
<h4 id="（5）求余与求模"><a href="#（5）求余与求模" class="headerlink" title="（5）求余与求模"></a>（5）求余与求模</h4><ul>
<li>求余 %<blockquote>
<p>x % y<br>x - n * y n的取值为x/y的商取整（==向0取整==）</p>
</blockquote>
</li>
<li>求模<blockquote>
<p>x % y<br>x - n * y n的取值为x/y的商取整（==向下取整==）</p>
</blockquote>
</li>
<li>区别<ul>
<li>只有在余数为负数时才有区别</li>
<li>求余的符号与被除数相同</li>
<li>求模的符号与除数相同</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-比较运算符"><a href="#3-比较运算符" class="headerlink" title="3.比较运算符"></a>3.比较运算符</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&gt;</td>
<td align="center">大于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">&gt;=</td>
<td align="center">大于等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">小于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">&lt;=</td>
<td align="center">小于等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">==</td>
<td align="center">等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">!=</td>
<td align="center">不等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">===</td>
<td align="center">恒等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">!==</td>
<td align="center">不恒等于达式</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="（1）比较大小"><a href="#（1）比较大小" class="headerlink" title="（1）比较大小"></a>（1）比较大小</h4><ul>
<li>表达式的返回值类型：boolean</li>
<li>优先级低于算数运算符</li>
<li>两个是数字比较大小</li>
<li>两个是字符串比较ASCII码顺序</li>
<li>原始值的其它类型，自动转化为数字，再比较</li>
<li>NaN与任何比较都是false</li>
<li>+Infinity比任何数都大</li>
<li>-Infinity比任何数都小</li>
<li>引用值的其它类型，自动转化为字符串，再转化为数字，然后比较</li>
</ul>
<h4 id="（2）比较相等"><a href="#（2）比较相等" class="headerlink" title="（2）比较相等"></a>（2）比较相等</h4><ul>
<li>原始值比较数据</li>
<li>引用值比较地址</li>
<li>undefined与null比较相等，与0、false比较则不等</li>
<li>其它原始类型先转换为数字，再比较</li>
<li>NaN与任何比较都不想等，包括自身</li>
<li>+Infinity、-Infinity只跟自身相等，与其它不等</li>
</ul>
<h4 id="（3）严格相等"><a href="#（3）严格相等" class="headerlink" title="（3）严格相等 === !=="></a>（3）严格相等 === !==</h4><ul>
<li>两端数据和类型都必须相同才为true</li>
<li>两端数据和类型只要有一个不同就为false</li>
<li>undefined与null比较：false</li>
<li>NaN与任何比较，包括自身：false</li>
<li>+Infinity、-Infinity只跟自身相等，与其它不等</li>
</ul>
<hr>
<h3 id="4-逻辑运算符"><a href="#4-逻辑运算符" class="headerlink" title="4.逻辑运算符"></a>4.逻辑运算符</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&amp;&amp;</td>
<td align="center">与</td>
<td align="center">并且</td>
</tr>
<tr>
<td align="center">||</td>
<td align="center">或</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">！</td>
<td align="center">非</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="1-A-amp-amp-B"><a href="#1-A-amp-amp-B" class="headerlink" title="(1) A &amp;&amp; B"></a>(1) A &amp;&amp; B</h4><ul>
<li><p>null、undefined、false、NaN、””、0 均为false</p>
</li>
<li><p>若表达式A的结果为fale</p>
<ul>
<li>忽略表达式B（不运行）</li>
<li>返回表达式A的结果</li>
</ul>
</li>
<li><p>若表达式A的结果为true</p>
<ul>
<li>运行表达式B</li>
<li>返回表达式B的结果</li>
</ul>
</li>
</ul>
<h4 id="2-A-B"><a href="#2-A-B" class="headerlink" title="(2) A || B"></a>(2) A || B</h4><ul>
<li><p>null、undefined、false、NaN、””、0 均为false</p>
</li>
<li><p>若表达式A的结果为true</p>
<ul>
<li>忽略表达式B（不运行）</li>
<li>返回表达式A的结果</li>
</ul>
</li>
<li><p>若表达式A的结果为false</p>
<ul>
<li>运行表达式B</li>
<li>返回表达式B的结果</li>
</ul>
</li>
</ul>
<h4 id="（3）-A"><a href="#（3）-A" class="headerlink" title="（3）!A"></a>（3）!A</h4><ul>
<li>表达式A的结果转化为boolean</li>
<li>boolean结果取反返回</li>
</ul>
<hr>
<h3 id="5-三目运算"><a href="#5-三目运算" class="headerlink" title="5.三目运算"></a>5.三目运算</h3><p><strong>A ？B : C</strong></p>
<ul>
<li>如果表达式A的结果为true<ul>
<li>运行并返回表达式B的结果</li>
<li>忽略表达式C（不运行）</li>
</ul>
</li>
<li>如果表达式A的结果为false<ul>
<li>运行并返回表达式C的结果</li>
<li>忽略表达式B（不运行）</li>
</ul>
</li>
</ul>
<hr>
<h3 id="6-赋值运算符"><a href="#6-赋值运算符" class="headerlink" title="6.赋值运算符"></a>6.赋值运算符</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">+=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">-=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">*=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">/=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">%=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">**=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">—</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h3 id="7-其它运算符"><a href="#7-其它运算符" class="headerlink" title="7.其它运算符"></a>7.其它运算符</h3><ul>
<li>typeof(A) 获取表达式A结果的类型，返回值类型为字符串</li>
<li>void(A) 运行表达式A，返回值为undefined</li>
<li>A,B 逗号运算符，依次运算表达式A和表达式B，后一个表达式B的结果（==优先级低于赋值==）</li>
</ul>
<hr>
<h3 id="8-数字的存储"><a href="#8-数字的存储" class="headerlink" title="8.数字的存储"></a>8.数字的存储</h3><h4 id="（1）问题？"><a href="#（1）问题？" class="headerlink" title="（1）问题？"></a>（1）问题？</h4><h5 id="1）js中小数运算精确吗？"><a href="#1）js中小数运算精确吗？" class="headerlink" title="1）js中小数运算精确吗？"></a>1）js中小数运算精确吗？</h5><ul>
<li>不一定<h5 id="2）js中整数运算精确吗？"><a href="#2）js中整数运算精确吗？" class="headerlink" title="2）js中整数运算精确吗？"></a>2）js中整数运算精确吗？</h5></li>
<li>不一定<h5 id="3）js中整数是连续的吗？"><a href="#3）js中整数是连续的吗？" class="headerlink" title="3）js中整数是连续的吗？"></a>3）js中整数是连续的吗？</h5></li>
<li>不是<h5 id="4）js中最大的连续整数？"><a href="#4）js中最大的连续整数？" class="headerlink" title="4）js中最大的连续整数？"></a>4）js中最大的连续整数？</h5></li>
<li>Number.MAX_SAFE_INTEGER</li>
<li>9007199254740991<h5 id="5）js中表示数字的有效位数？"><a href="#5）js中表示数字的有效位数？" class="headerlink" title="5）js中表示数字的有效位数？"></a>5）js中表示数字的有效位数？</h5></li>
<li>16~17位</li>
</ul>
<h4 id="（2）解决"><a href="#（2）解决" class="headerlink" title="（2）解决"></a>（2）解决</h4><p><strong>二进制双精度64位存储标准</strong></p>
<ul>
<li>第一位表示符号<ul>
<li>0 表示正数</li>
<li>1 表示负数</li>
</ul>
</li>
<li>2~12位表示指数</li>
<li>后53位表示小数</li>
</ul>
<h4 id="（3）位运算"><a href="#（3）位运算" class="headerlink" title="（3）位运算"></a>（3）位运算</h4><p><strong>将数字取整按32位二进制存储</strong></p>
<ul>
<li><strong>位与 &amp;</strong><ul>
<li>每一位进行比较，如果都为1，结果为1，否则为0</li>
</ul>
</li>
<li><strong>位或 |</strong><ul>
<li>每一位进行比较，如果都为0，结果为0，否则为1</li>
</ul>
</li>
<li><strong>位非 ~</strong><ul>
<li>每一位进行取反，如果为0，结果为1，如果为1，结果为0</li>
<li>NaN、Infinity、-Infinity都看作0</li>
<li>==- 数字 -1==</li>
<li><blockquote>
<p>~2</p>
</blockquote>
</li>
<li><blockquote>
<p>-2-1</p>
</blockquote>
</li>
<li><blockquote>
<p>-3</p>
</blockquote>
</li>
</ul>
</li>
<li><strong>位异或 ^</strong> <ul>
<li>每一位进行比较，相同为0，不同为1</li>
</ul>
</li>
<li><strong>左位移 &lt;&lt;</strong><ul>
<li>整体向左移动指定位数</li>
<li>x &lt;&lt; n 相当于 x * 2的n次方</li>
</ul>
</li>
<li><strong>右位移 &gt;&gt;</strong><ul>
<li>整体向右移动指定位数</li>
<li>x &gt;&gt; n 相当于 x / 2的n次方</li>
</ul>
</li>
</ul>
<hr>
<h2 id="四、流程控制"><a href="#四、流程控制" class="headerlink" title="四、流程控制"></a>四、流程控制</h2><h3 id="（一）流程图"><a href="#（一）流程图" class="headerlink" title="（一）流程图"></a>（一）流程图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">graph TD</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">style st fill:lightblue;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">style ed fill:lightblue;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">style do fill:lightblue;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">style in fill:lightblue;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">style if fill:lightblue;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">st(圆角矩形)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">ed((圆形))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">do[矩形]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">in&gt;旗帜形]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">if&#123;菱形&#125;</span></pre></td></tr></table></figure>

<h3 id="（二）if判断"><a href="#（二）if判断" class="headerlink" title="（二）if判断"></a>（二）if判断</h3><h4 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;&#125;<span class="keyword">else</span>&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;&#125;<span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;<span class="keyword">else</span>&#123;&#125;</span></pre></td></tr></table></figure>
<ul>
<li>一条if判断语句中：<ul>
<li>if块只能出现一个</li>
<li>else if块可以出现多个（包括0个）</li>
<li>else块只能出现0个或一个</li>
</ul>
</li>
</ul>
<h4 id="2-执行顺序"><a href="#2-执行顺序" class="headerlink" title="2.执行顺序"></a>2.执行顺序</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件<span class="number">1</span>)&#123;A&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(条件<span class="number">2</span>)&#123;B&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(条件<span class="number">3</span>)&#123;C&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span>&#123;D&#125;</span></pre></td></tr></table></figure>
<ul>
<li>代码从上到下依次进行：<ul>
<li>如果满足条件1，执行A代码块，后面的直接忽略，语句结束</li>
<li>如果不满足条件1，忽略A代码块，看条件2</li>
<li>如果满足条件2，执行B代码块，后面的直接忽略，语句结束</li>
<li>如果不满足条件2，忽略B代码块，看条件3</li>
<li>如果满足条件3，执行C代码块，后面的直接忽略，语句结束</li>
<li>如果不满足条件3，忽略C代码块，执行D代码块，语句结束</li>
</ul>
</li>
</ul>
<h3 id="（三）switch开关"><a href="#（三）switch开关" class="headerlink" title="（三）switch开关"></a>（三）switch开关</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(n)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">case</span> a: A; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">case</span> b: B; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">case</span> c: C; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">default</span>: D; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>代码从上到下依次进行：<ul>
<li>如果n === a，执行A代码块，后面的直接忽略，语句结束</li>
<li>如果n !== a，忽略A代码块，看条件n和b</li>
<li>如果n === b，执行B代码块，后面的直接忽略，语句结束</li>
<li>如果n !== b，忽略B代码块，看条件n和c</li>
<li>如果n === c，执行C代码块，后面的直接忽略，语句结束</li>
<li>如果n !== c，执行D代码块，语句结束</li>
</ul>
</li>
</ul>
<h3 id="（四）while循环"><a href="#（四）while循环" class="headerlink" title="（四）while循环"></a>（四）while循环</h3><h4 id="1-while"><a href="#1-while" class="headerlink" title="1.while(){}"></a>1.while(){}</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  执行</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>判断条件<ul>
<li>条件满足，执行循环体，然后继续判断条件—循环</li>
<li>条件不满足，语句结束</li>
</ul>
</li>
</ul>
<h4 id="2-do-while"><a href="#2-do-while" class="headerlink" title="2.do{}while()"></a>2.do{}while()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  执行</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;<span class="keyword">while</span>(条件)</span></pre></td></tr></table></figure>
<ul>
<li>执行循环体</li>
<li>判断条件<ul>
<li>条件满足，执行循环体，然后继续判断条件—循环</li>
<li>条件不满足，语句结束</li>
</ul>
</li>
</ul>
<h3 id="（五）for循环"><a href="#（五）for循环" class="headerlink" title="（五）for循环"></a>（五）for循环</h3><h4 id="1-语法-1"><a href="#1-语法-1" class="headerlink" title="1.语法"></a>1.语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式A; 条件B; 条件改变表达式C)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    循环体D</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式A; 条件B; )&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    循环体D;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    条件改变表达式C;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">初始化表达式A;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( ; 条件B; )&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    循环体D;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    条件改变表达式C;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr></table></figure>

<h4 id="2-执行顺序-1"><a href="#2-执行顺序-1" class="headerlink" title="2.执行顺序"></a>2.执行顺序</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式A; 条件B; 条件改变表达式C)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    循环体D</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr></table></figure>

<ul>
<li>初始化表达式A</li>
<li>判断条件B，如果条件成立<ul>
<li>执行循环体D</li>
<li>条件改变表达式C</li>
<li>判断条件B—循环</li>
</ul>
</li>
<li>判断条件B，如果条件不成立<ul>
<li>循环结束</li>
</ul>
</li>
</ul>
<h4 id="3-关键字"><a href="#3-关键字" class="headerlink" title="3.关键字"></a>3.关键字</h4><ul>
<li>break 结束最近的循环</li>
<li>continue 终止当前循环体，进行下次循环</li>
</ul>
<hr>
<h2 id="五、数组"><a href="#五、数组" class="headerlink" title="五、数组"></a>五、数组</h2><h3 id="（一）创建"><a href="#（一）创建" class="headerlink" title="（一）创建"></a>（一）创建</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [item1, item2, ...]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(length)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(item1, item2, ...)</span></pre></td></tr></table></figure>

<h3 id="（二）本质"><a href="#（二）本质" class="headerlink" title="（二）本质"></a>（二）本质</h3><ul>
<li>数组的本质是一个特殊的对象</li>
<li>数组访问使用下标（索引）属性表达式 arr[“0”] 或 arr[0]（数字会自动转换为字符串）</li>
<li>数组的下标正常情况下是连续的，从0开始到length-1</li>
<li>数组的length属性会自动变化，为最大下标+1</li>
<li>数组的length属性手动赋值，可能会导致数组截断（不建议使用）</li>
</ul>
<h3 id="（三）操作"><a href="#（三）操作" class="headerlink" title="（三）操作"></a>（三）操作</h3><h4 id="1-增"><a href="#1-增" class="headerlink" title="1.增"></a>1.增</h4><h5 id="（1）向数组末尾添加一项"><a href="#（1）向数组末尾添加一项" class="headerlink" title="（1）向数组末尾添加一项"></a>（1）向数组末尾添加一项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr[arr.length] = 数据</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">arr.push(数据)</span></pre></td></tr></table></figure>
<ul>
<li>arr[arr.length]可读性不强（不推荐）</li>
<li>可同时添加多项数据</li>
</ul>
<h5 id="（2）向数组开头添加一项"><a href="#（2）向数组开头添加一项" class="headerlink" title="（2）向数组开头添加一项"></a>（2）向数组开头添加一项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.unshift(数据)</span></pre></td></tr></table></figure>
<ul>
<li>每一项的下标依次后移</li>
<li>可同时添加多项数据</li>
</ul>
<h5 id="（3）向数组指定位置添加一项"><a href="#（3）向数组指定位置添加一项" class="headerlink" title="（3）向数组指定位置添加一项"></a>（3）向数组指定位置添加一项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.splice(index, <span class="number">0</span>, 数据)</span></pre></td></tr></table></figure>
<ul>
<li>从指定index位置开始，删除0项，然后在该位置插入数据</li>
<li>如果index超出范围，则按照数组范围的边界进行处理</li>
<li>如果index是负数，则从数组末尾开始反计算</li>
</ul>
<hr>
<h4 id="2-删"><a href="#2-删" class="headerlink" title="2.删"></a>2.删</h4><h5 id="（1）删除数组最后一项"><a href="#（1）删除数组最后一项" class="headerlink" title="（1）删除数组最后一项"></a>（1）删除数组最后一项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.pop()</span></pre></td></tr></table></figure>
<ul>
<li>一次只能删除一项</li>
<li>返回删除项（没有返回undefined）</li>
</ul>
<h5 id="（2）删除数组第一项"><a href="#（2）删除数组第一项" class="headerlink" title="（2）删除数组第一项"></a>（2）删除数组第一项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.shift()</span></pre></td></tr></table></figure>
<ul>
<li>每一项的下标依次前移</li>
<li>一次只能删除一项</li>
<li>返回删除项（没有返回undefined）</li>
</ul>
<h5 id="（3）删除数组指定位置项"><a href="#（3）删除数组指定位置项" class="headerlink" title="（3）删除数组指定位置项"></a>（3）删除数组指定位置项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> arr[index]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">arr.splice(index, n)</span></pre></td></tr></table></figure>
<ul>
<li>delete删除指定index位置的数据，会导致稀松数组（下标不连续，不利于遍历）</li>
<li>从数组index位置开始，删除n项，返回一个新数组，包含删除项（没有返回空数组）</li>
</ul>
<hr>
<h4 id="3-常用操作"><a href="#3-常用操作" class="headerlink" title="3.常用操作"></a>3.常用操作</h4><h5 id="（1）数组填充指定数据"><a href="#（1）数组填充指定数据" class="headerlink" title="（1）数组填充指定数据"></a>（1）数组填充指定数据</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.fill(数据, start, end)</span></pre></td></tr></table></figure>
<ul>
<li>如果start和end都不指定，则全部填充</li>
<li>如果end不指定，则从start开始，一直到结束</li>
</ul>
<h5 id="（2）克隆数组的指定片段"><a href="#（2）克隆数组的指定片段" class="headerlink" title="（2）克隆数组的指定片段"></a>（2）克隆数组的指定片段</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newArr = arr.slice(start, end)</span></pre></td></tr></table></figure>
<ul>
<li>如果start和end都不指定，则全部克隆</li>
<li>如果end不指定，则从start开始，一直到结束</li>
<li>不影响原数组</li>
</ul>
<h5 id="（3）数组清空"><a href="#（3）数组清空" class="headerlink" title="（3）数组清空"></a>（3）数组清空</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.length = <span class="number">0</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">arr.splice(<span class="number">0</span>, arr.length)</span></pre></td></tr></table></figure>

<h5 id="（4）检索指定数据的下标"><a href="#（4）检索指定数据的下标" class="headerlink" title="（4）检索指定数据的下标"></a>（4）检索指定数据的下标</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.indexOf(数据)</span></pre></td></tr></table></figure>
<ul>
<li>返回第一个检索到的下标</li>
<li>没有返回-1</li>
<li>严格执行===</li>
<li>lastIndexOf() 逆序检索</li>
</ul>
<h5 id="（5）in关键字"><a href="#（5）in关键字" class="headerlink" title="（5）in关键字"></a>（5）in关键字</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">a <span class="keyword">in</span> obj</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">b <span class="keyword">in</span> arr</span></pre></td></tr></table></figure>
<ul>
<li>检索obj中有没有a属性</li>
<li>检索arr中有没有a索引</li>
<li>检索到返回true，否则返回false</li>
</ul>
<h5 id="（6）for-in循环"><a href="#（6）for-in循环" class="headerlink" title="（6）for-in循环"></a>（6）for-in循环</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(obj[prop]);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> arr)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(arr[index]);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>依次遍历obj的属性，将属性名赋值给prop变量，执行循环体（遍历对象）</li>
<li>依次遍历arr的下标，将下标赋值给index变量，执行循环体（遍历数组）</li>
<li>==for循环与for-in循环的区别==<ul>
<li>for循环，会把稀松数组的每一项都遍历到</li>
<li>for-in循环，稀松数组的空项不会遍历到</li>
</ul>
</li>
</ul>
<h5 id="（7）拼接数组项"><a href="#（7）拼接数组项" class="headerlink" title="（7）拼接数组项"></a>（7）拼接数组项</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">arr.join(分隔符)</span></pre></td></tr></table></figure>
<ul>
<li>拼接数组每一项，每一项之间用指定分隔符连接，返回字符串</li>
<li>若分隔符未指定，默认为逗号</li>
</ul>
<h5 id="（8）拼接数组"><a href="#（8）拼接数组" class="headerlink" title="（8）拼接数组"></a>（8）拼接数组</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">new</span> arr = arr1.concat(arr2)</span></pre></td></tr></table></figure>
<ul>
<li>将arr1和arr2拼接成一个新数组并返回</li>
<li>不会影响原数组</li>
</ul>
<h4 id="4-二维数组"><a href="#4-二维数组" class="headerlink" title="4.二维数组"></a>4.二维数组</h4><ul>
<li>数组的每一项又是一个数组</li>
</ul>
<hr>
<h2 id="六、函数"><a href="#六、函数" class="headerlink" title="六、函数"></a>六、函数</h2><h3 id="（一）语法"><a href="#（一）语法" class="headerlink" title="（一）语法"></a>（一）语法</h3><h4 id="1-函数声明（字面量）"><a href="#1-函数声明（字面量）" class="headerlink" title="1.函数声明（字面量）"></a>1.函数声明（字面量）</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;<span class="keyword">return</span>&#125;</span></pre></td></tr></table></figure>
<ul>
<li>声明关键字function</li>
<li>函数名fn</li>
<li>参数列表()</li>
<li>函数体{}</li>
<li>返回值return</li>
</ul>
<h4 id="2-函数调用"><a href="#2-函数调用" class="headerlink" title="2.函数调用"></a>2.函数调用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fn()</span></pre></td></tr></table></figure>
<ul>
<li>函数名</li>
<li>执行操作符()</li>
</ul>
<h4 id="3-函数声明提升"><a href="#3-函数声明提升" class="headerlink" title="3.函数声明提升"></a>3.函数声明提升</h4><ul>
<li>与变量声明提升一样</li>
<li>函数字面量声明会将函数名提升至脚本快顶部</li>
<li>通过字面量声明的函数将会成为全局对象的属性</li>
</ul>
<h4 id="4-局部变量"><a href="#4-局部变量" class="headerlink" title="4.局部变量"></a>4.局部变量</h4><ul>
<li>在函数体内用var关键字声明的变量为局部变量</li>
<li>在函数体内直接给一个未声明的变量赋值，此变量会成为全局变量</li>
<li>局部变量声明会提升至函数顶部，函数外部不可见</li>
</ul>
<h4 id="5-参数"><a href="#5-参数" class="headerlink" title="5.参数"></a>5.参数</h4><ul>
<li>功能实现的未知条件为参数</li>
<li>形参：在函数声明时在（）内定义参数</li>
<li>实参：在函数调用时通过（）实现给函数形参对应传递参数</li>
<li>参数的作用域为局部作用域，只在函数体内可见</li>
<li>没有实参对应的形参为undefined</li>
</ul>
<h4 id="6-返回值"><a href="#6-返回值" class="headerlink" title="6.返回值"></a>6.返回值</h4><ul>
<li>函数执行后返回一个结果为返回值</li>
<li>返回值可以自定义</li>
<li>return之后函数即结束，会忽略return语句之后的其它语句</li>
<li>如果函数没有自定义return语句，则会默认返回undefined</li>
</ul>
<h4 id="7-文档注释"><a href="#7-文档注释" class="headerlink" title="7.文档注释"></a>7.文档注释</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * 变量：说明</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * 函数：说明</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * @param&#123;类型&#125;a 参数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> * @returns&#123;类型&#125;b 返回值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr></table></figure>
<ul>
<li>文档注释不会执行</li>
<li>文档注释可以很好的给变量、函数进行说明，在使用时能给予使用者做很好的提示</li>
</ul>
<hr>
<h3 id="（二）特性"><a href="#（二）特性" class="headerlink" title="（二）特性"></a>（二）特性</h3><h4 id="1-作用域"><a href="#1-作用域" class="headerlink" title="1.作用域"></a>1.作用域</h4><h5 id="（1）全局作用域"><a href="#（1）全局作用域" class="headerlink" title="（1）全局作用域"></a>（1）全局作用域</h5><ul>
<li>在全局作用域中声明的变量会被提升到脚本块的顶部，并且会成为全局对象的属性</li>
<li>全局作用域中只能使用全局变量（函数）</li>
</ul>
<h5 id="（2）局部作用域（函数作用域）"><a href="#（2）局部作用域（函数作用域）" class="headerlink" title="（2）局部作用域（函数作用域）"></a>（2）局部作用域（函数作用域）</h5><ul>
<li>在局部作用域中声明的变量会被提升到函数的顶部，并且不会成为全局对象的属性</li>
<li>局部变量不会污染全局变量</li>
<li>局部作用域不仅可以使用内部变量（函数），还可以使用外部环境的变量（函数）</li>
<li>==当内部变量和外部变量冲突时，使用内部变量==</li>
</ul>
<h5 id="（3）闭包-closure"><a href="#（3）闭包-closure" class="headerlink" title="（3）闭包 closure"></a>（3）闭包 closure</h5><ul>
<li>闭包是一种现象，内部函数可以使用外部环境的变量</li>
</ul>
<h4 id="2-函数表达式"><a href="#2-函数表达式" class="headerlink" title="2.函数表达式"></a>2.函数表达式</h4><h5 id="1-立即执行函数"><a href="#1-立即执行函数" class="headerlink" title="(1)立即执行函数"></a>(1)立即执行函数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;)();</span></pre></td></tr></table></figure>
<ul>
<li>==当函数成为一个表达式时，既不会提升，也不会污染全局对象==</li>
<li>将函数变成函数表达式之一的方法是用小括号将函数括起来，但是声明即结束，之后无法调用</li>
<li>将这种形式的函数表达式返回函数本身，即可以加执行符号立即执行，称之为<strong>立即执行函数 IIFE</strong></li>
<li>第一个小括号将函数变成表达式，返回函数本身</li>
<li>第二个小括号将函数立即执行，返回执行结果</li>
</ul>
<h5 id="2-匿名函数"><a href="#2-匿名函数" class="headerlink" title="(2)匿名函数"></a>(2)匿名函数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;)();</span></pre></td></tr></table></figure>
<ul>
<li>函数表达式的函数名没有意义，可以省略，称之为<strong>匿名函数</strong></li>
</ul>
<h5 id="3-函数引用"><a href="#3-函数引用" class="headerlink" title="(3)函数引用"></a>(3)函数引用</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;]</span></pre></td></tr></table></figure>
<ul>
<li>函数也是一种引用数据，可以赋值给变量/属性</li>
<li>变量保存的是对函数的地址引用</li>
</ul>
<h5 id="4-回调函数"><a href="#4-回调函数" class="headerlink" title="(4)回调函数"></a>(4)回调函数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span> (<span class="params">call</span>)</span>&#123;call()&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">fn2(fn1)</span></pre></td></tr></table></figure>
<ul>
<li>将函数做为参数传递给另一个函数使用，称之为<strong>回调函数</strong></li>
</ul>
<h4 id="3-this关键字"><a href="#3-this关键字" class="headerlink" title="3.this关键字"></a>3.this关键字</h4><ul>
<li>在全局环境作用域中，this指代全局对象</li>
<li>在函数作用域中<ul>
<li>直接调用：this指代全局对象</li>
<li>对象调用：this指代调用对象</li>
</ul>
</li>
</ul>
<hr>
<h3 id="（三）构造函数"><a href="#（三）构造函数" class="headerlink" title="（三）构造函数"></a>（三）构造函数</h3><h4 id="1-普通函数创建对象"><a href="#1-普通函数创建对象" class="headerlink" title="1.普通函数创建对象"></a>1.普通函数创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateUser</span>(<span class="params">name, age</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    name,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    age,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    say()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user1 = CreateUser(<span class="string">"huafu"</span>, <span class="number">18</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user2 = CreateUser(<span class="string">"zhang"</span>, <span class="number">40</span>);</span></pre></td></tr></table></figure>
<ul>
<li>用函数创建对象可以减少繁琐的对象创建流程</li>
<li>函数可以返回任意的返回值，可用于返回一个对象</li>
</ul>
<h4 id="2-构造函数"><a href="#2-构造函数" class="headerlink" title="2.构造函数"></a>2.构造函数</h4><h5 id="（1）语法"><a href="#（1）语法" class="headerlink" title="（1）语法"></a>（1）语法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span>(<span class="params">name, age</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// this = &#123;&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// return this</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user1 = <span class="keyword">new</span> User(<span class="string">"huafu"</span>, <span class="number">18</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user2 = <span class="keyword">new</span> User(<span class="string">"zhang"</span>, <span class="number">40</span>);</span></pre></td></tr></table></figure>
<ul>
<li>构造函数命名规约：大驼峰、尽量不使用动词</li>
<li>new关键字来调用构造函数创建对象</li>
<li>this默认指向新创建的对象</li>
</ul>
<h5 id="（2）返回值"><a href="#（2）返回值" class="headerlink" title="（2）返回值"></a>（2）返回值</h5><ul>
<li>默认隐式返回一个新对象</li>
<li>如果显式返回值<ul>
<li>返回值是原始类型：直接忽略，默认返回</li>
<li>返回值是引用类型：覆盖默认返回</li>
</ul>
</li>
</ul>
<h5 id="（3）原理"><a href="#（3）原理" class="headerlink" title="（3）原理"></a>（3）原理</h5><ul>
<li>第一步隐式创建了this = {}; </li>
<li>最后一步隐式返回了this这个对象</li>
</ul>
<h5 id="（4）new-target"><a href="#（4）new-target" class="headerlink" title="（4）new.target"></a>（4）new.target</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span>(<span class="params">name, age</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span>(<span class="keyword">new</span>.target === User)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// this = &#123;&#125;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// return this</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      name,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      age,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      say()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user1 = <span class="keyword">new</span> User(<span class="string">"huafu"</span>, <span class="number">18</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user2 = User(<span class="string">"zhang"</span>, <span class="number">40</span>);</span></pre></td></tr></table></figure>
<ul>
<li>构造函数通过new调用，new.target指向构造函数本身</li>
<li>构造函数没通过new调用，new.target为undefined</li>
</ul>
<hr>
<h3 id="（四）本质"><a href="#（四）本质" class="headerlink" title="（四）本质"></a>（四）本质</h3><h4 id="1-函数的本质就是对象"><a href="#1-函数的本质就是对象" class="headerlink" title="1.函数的本质就是对象"></a>1.函数的本质就是对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;<span class="keyword">return</span> a + b&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"return a + b"</span>);</span></pre></td></tr></table></figure>
<ul>
<li>所有的对象都是通过构造函数创建的，使用new关键字</li>
<li>函数的本质就是对象，自然也是构造函数创建，可以使用new操作符</li>
<li>实际上，所有的函数都是构造函数创建的</li>
<li>这样构造函数是js引擎启动时就已经创建好</li>
<li>new Function()创建的是函数</li>
<li>new 自定义函数()创建的是对象</li>
</ul>
<h4 id="2-函数的属性"><a href="#2-函数的属性" class="headerlink" title="2.函数的属性"></a>2.函数的属性</h4><ul>
<li>函数的本质是对象，自然也可以拥有属性</li>
</ul>
<h4 id="3-包装类"><a href="#3-包装类" class="headerlink" title="3.包装类"></a>3.包装类</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">a = <span class="number">3.14159</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">a.toFixed(<span class="number">2</span>);   <span class="comment">// (new Number(a)).toFixed(2)</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Boolean</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span></span></pre></td></tr></table></figure>
<ul>
<li>js为了增强原始类型的功能，为boolean、string、number分别创建了一个构造函数</li>
<li>如果语法上，将原始类型当做对象使用（一般是使用属性），js会自动的在该位置利用对应的构造函数，创建对象来访问原始类型的属性</li>
<li>在js中类就相当于构造函数</li>
<li>成员/实例方法（属性）：通过构造函数创建的对象调用</li>
<li>静态/类方法（属性）：通过构造函数调用</li>
</ul>
<hr>
<h3 id="（五）递归"><a href="#（五）递归" class="headerlink" title="（五）递归"></a>（五）递归</h3><h4 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1.概念"></a>1.概念</h4><ul>
<li>在函数内部直接或间接调用自身</li>
</ul>
<h4 id="2-执行栈"><a href="#2-执行栈" class="headerlink" title="2.执行栈"></a>2.执行栈</h4><ul>
<li>任何代码的执行都必须有一个执行环境，执行环境为代码的执行提供支持</li>
<li>执行环境会放到执行栈中</li>
<li>函数每次执行都会创建一个新的执行环境，执行完毕即销毁</li>
<li>执行栈的空间大小有限，执行环境过多可能导致执行栈溢出</li>
</ul>
<h4 id="3-无限递归与死循环"><a href="#3-无限递归与死循环" class="headerlink" title="3.无限递归与死循环"></a>3.无限递归与死循环</h4><ul>
<li>无限递归，函数每次调用都会产生新环境，所以会导致栈溢出报错</li>
<li>死循环每次循环并不会产生新环境，也不会导致栈溢出，会导致卡死</li>
</ul>
<h4 id="4-尾递归"><a href="#4-尾递归" class="headerlink" title="4.尾递归"></a>4.尾递归</h4><ul>
<li>如果一个函数最后一条语句是调用函数，并且调用函数不是表达式的一部分，则该语句称之为尾调用，如若尾调用是调用函数自身称之为尾递归</li>
<li>某些语言或执行环境会对尾调用进行优化，它们会理解销毁当前函数，避免执行栈空间被占用</li>
<li>在浏览器环境中没有优化</li>
<li>在node环境中有优化</li>
</ul>
<hr>
<h2 id="七、标准库"><a href="#七、标准库" class="headerlink" title="七、标准库"></a>七、标准库</h2><h3 id="（一）Object（构造函数）"><a href="#（一）Object（构造函数）" class="headerlink" title="（一）Object（构造函数）"></a>（一）Object（构造函数）</h3><h4 id="1-静态成员"><a href="#1-静态成员" class="headerlink" title="1.静态成员"></a>1.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Object.keys(obj)</strong></td>
<td align="left">方法</td>
<td align="left">{Object}</td>
<td align="left">可枚举的属性</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left"><strong>Object.values(obj)</strong></td>
<td align="left">方法</td>
<td align="left">{Object}</td>
<td align="left">可枚举的属性值</td>
<td align="left">{Array&lt;T&gt;}</td>
</tr>
<tr>
<td align="left"><strong>Object.entries(obj)</strong></td>
<td align="left">方法</td>
<td align="left">{Object}</td>
<td align="left">可枚举的属性/属性值</td>
<td align="left">{Array&lt;Array&gt;}</td>
</tr>
</tbody></table>
<h4 id="2-实例成员"><a href="#2-实例成员" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>obj.toString()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">转换为字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>obj.valueOf()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">返回自身</td>
<td align="left">{Object}</td>
</tr>
<tr>
<td align="left">- 实例成员可重写属性或方法</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 自动类型转换的本质</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">+ 先调用valueOf()得到结果</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">* 如果结果是原始类型，则该结果就是最终结果</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">* 如果结果是引用类型，则该结果再调用toString()得到最终结果</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（二）Function（构造函数）"><a href="#（二）Function（构造函数）" class="headerlink" title="（二）Function（构造函数）"></a>（二）Function（构造函数）</h3><h4 id="1-特性"><a href="#1-特性" class="headerlink" title="1.特性"></a>1.特性</h4><ul>
<li>所有函数都具有Function中的实例成员</li>
<li>arguments（==类数组==）在函数中使用，得到函数调用时的实参列表</li>
<li>arguments 会与实参列表一一映射（一个改变对应另一个也改变）</li>
</ul>
<h4 id="2-实例成员-1"><a href="#2-实例成员-1" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>fn.length</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">获取形参数量</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>fn.call()</strong></td>
<td align="left">方法</td>
<td align="left">{obj, Array&lt;T&gt;}</td>
<td align="left">临时改变this指向，调用函数</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>fn.apply()</strong></td>
<td align="left">方法</td>
<td align="left">{obj, T}</td>
<td align="left">临时改变this指向，调用函数</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>fn.bind()</strong></td>
<td align="left">方法</td>
<td align="left">{obj, T}</td>
<td align="left">永久绑定this指向，不调用函数，返回新函数</td>
<td align="left">{Function}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（三）Array（构造函数）"><a href="#（三）Array（构造函数）" class="headerlink" title="（三）Array（构造函数）"></a>（三）Array（构造函数）</h3><h4 id="1-静态成员-1"><a href="#1-静态成员-1" class="headerlink" title="1.静态成员"></a>1.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Array.form()</strong></td>
<td align="left">方法</td>
<td align="left">{类数组}</td>
<td align="left">将类数组转换为数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>Array.isArray()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定数组</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Array.of()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">用指定数据创建数组</td>
<td align="left">{Array}</td>
</tr>
</tbody></table>
<h4 id="2-实例成员-2"><a href="#2-实例成员-2" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>arr.fill()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start, end}</td>
<td align="left">用指定数据填充数组，返回当前数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.slice()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start, end}</td>
<td align="left">复制指定的数组片段，返回新数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.pop()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">删除数组尾项，返回删除项</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>arr.shift()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">删除数组首项，返回删除项</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>arr.push()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">在数组尾部添加数据，返回当前数组新length</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.unshift()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">在数组首部添加数据，返回当前数组新length</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.reverse()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">将数组颠倒顺序，返回当前数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.sort()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(a, b){}}</td>
<td align="left">对数组进行排序/乱序，返回当前数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.concat()</strong></td>
<td align="left">方法</td>
<td align="left">{Array}</td>
<td align="left">对数组进行合并，返回新数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.includes()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start}</td>
<td align="left">查询指定数据（严格相等）,返回true/false</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>arr.indexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start}</td>
<td align="left">顺序查询指定数据（严格相等）,返回index</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.lastIndexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start}</td>
<td align="left">逆序查询指定数据（严格相等）,返回index</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.join()</strong></td>
<td align="left">方法</td>
<td align="left">{连接符}</td>
<td align="left">将数组项以指定连接符进行拼接成字符串并返回</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>arr.forEach()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组</td>
<td align="left">{undefined}</td>
</tr>
<tr>
<td align="left"><strong>arr.every()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组，是否每一项都满足条件</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>arr.some()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组，是否有一项满足条件</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>arr.filter()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组，筛选满足条件的所有元素并返回</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.find()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">顺序查询满足条件的第一个元素并返回</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>arr.findIndex()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">顺序查询满足条件的第一个元素的下标并返回</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.map()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">将数组每一项映射成为指定条件的数据并返回</td>
<td align="left">{Array&lt;Object&gt;}</td>
</tr>
<tr>
<td align="left"><strong>arr.reduce()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(a, b){}, first}</td>
<td align="left">将数组每两项为一个结果进行累计迭代并返回最后一次迭代的结果</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（四）Number（构造函数）"><a href="#（四）Number（构造函数）" class="headerlink" title="（四）Number（构造函数）"></a>（四）Number（构造函数）</h3><h4 id="1-特性-1"><a href="#1-特性-1" class="headerlink" title="1.特性"></a>1.特性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>()</span></pre></td></tr></table></figure>
<ul>
<li>类型转换</li>
<li>用new调用返回对象</li>
<li>直接调用返回的是原始值</li>
</ul>
<h4 id="2-静态成员"><a href="#2-静态成员" class="headerlink" title="2.静态成员"></a>2.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Number.isNaN()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定NaN</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Number.isFinite()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定Infinity</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Number.isInteger()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定整数</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Number.parseInt()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">转化为整数</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Number.parseFloat()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">转换为小数</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left">- parseInt参数为字符串，若不是字符串，会先转换为字符串，再进行转换为整数</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- parseInt从左往右看从第一个有效数字开始到第一个非有效数字字符结束，忽略两边的空白字符，直接舍弃小数部分，转换不了返回NaN</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- parseInt可选第二位参数，用于指定参数的进制（2-32），参数与进制不符，会取开端符合进制的部分，舍弃不符部分，取不到则返回NaN</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- parseInt的返回值为十进制</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="3-实例成员"><a href="#3-实例成员" class="headerlink" title="3.实例成员"></a>3.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>num.toFixed()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">保留指定小数位数，返回数字字符串（四舍五入）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>num.toPrecision()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">保留指定精度，返回数字字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（五）Boolean（构造函数）"><a href="#（五）Boolean（构造函数）" class="headerlink" title="（五）Boolean（构造函数）"></a>（五）Boolean（构造函数）</h3><ul>
<li>0、””、false、undefined、null、NaN 判定为假</li>
<li>其它判定为真 Boolean(“false”) ==&gt; true</li>
</ul>
<hr>
<h3 id="（六）String（构造函数）"><a href="#（六）String（构造函数）" class="headerlink" title="（六）String（构造函数）"></a>（六）String（构造函数）</h3><h4 id="1-静态成员-2"><a href="#1-静态成员-2" class="headerlink" title="1.静态成员"></a>1.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>String.fromCharCode()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">用Unicode编码创建字符</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left">- 参数取值范围0-65535</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- infinity返回” “;</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="2-实例成员-3"><a href="#2-实例成员-3" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>str.length</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">字符串长度（字符个数）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.charAt()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">取得指定位置的字符</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.charCodeAt()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">取得指定位置的字符的Unicode码</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.concat()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">字符串拼接</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.includes()</strong></td>
<td align="left">方法</td>
<td align="left">{string, start}</td>
<td align="left">检索字符串中是否包含指定字符串</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>str.startsWith()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中是以指定字符串开始</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>str.endsWith()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中是以指定字符串结尾</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>str.indexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中指定字符串首次出现索引</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.lastIndexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中指定字符串末次出现索引</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.padStart()</strong></td>
<td align="left">方法</td>
<td align="left">{length, string}</td>
<td align="left">填充字符串至指定长度（首部填充）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.padEnd()</strong></td>
<td align="left">方法</td>
<td align="left">{length, string}</td>
<td align="left">填充字符串至指定长度（末部填充）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.repeat()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">重复字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.slice()</strong></td>
<td align="left">方法</td>
<td align="left">{start, end}</td>
<td align="left">复制字符串片段（从某个位置取到某个位置）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.substr()</strong></td>
<td align="left">方法</td>
<td align="left">{start, length}</td>
<td align="left">复制字符串片段（从某个位置开始取指定长度）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.substring()</strong></td>
<td align="left">方法</td>
<td align="left">{start, end}</td>
<td align="left">复制字符串片段（从某个位置取到某个位置）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.toLowerCase()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">字符串转换为小写</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.toUpperCase()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">字符串转换为大写</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.trim()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">忽略字符串两端空格</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.trimStart()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">忽略字符串开端空格</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.trimEnd()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">忽略字符串末端空格</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.split()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">将字符串以分隔符拆分成数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left">- 字符串是==类数组==</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- charAt(index) 和 [index]取得指定索引的字符</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- charAt(index) 中index超出范围返回””;</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 数组中index超出范围返回undefined</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- slice、substr参数可为负数，负数时，倒序计算；参数位置不可换</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- substring参数不可为负数，否则自动转换为0；参数位置可换</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（七）Math（对象）"><a href="#（七）Math（对象）" class="headerlink" title="（七）Math（对象）"></a>（七）Math（对象）</h3><h4 id="1-常量"><a href="#1-常量" class="headerlink" title="1.常量"></a>1.常量</h4><ul>
<li>永远不会变化的数据</li>
<li>命名规约：所有字母大写，多单词下划线连接</li>
</ul>
<h4 id="2-对象成员"><a href="#2-对象成员" class="headerlink" title="2.对象成员"></a>2.对象成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Math.PI</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">圆周率</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.abs()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">绝对值</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.floor()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">向下取整</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.ceil()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">向上取整</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.round()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">四舍五入</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.max()</strong></td>
<td align="left">方法</td>
<td align="left">{number…}</td>
<td align="left">最大值</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.min()</strong></td>
<td align="left">方法</td>
<td align="left">{number…}</td>
<td align="left">最小值</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.random()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">伪随机数</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（八）Date（构造函数）"><a href="#（八）Date（构造函数）" class="headerlink" title="（八）Date（构造函数）"></a>（八）Date（构造函数）</h3><h4 id="1-术语"><a href="#1-术语" class="headerlink" title="1.术语"></a>1.术语</h4><h5 id="（1）时间单位"><a href="#（1）时间单位" class="headerlink" title="（1）时间单位"></a>（1）时间单位</h5><ul>
<li>年：year</li>
<li>月：month</li>
<li>日：date</li>
<li>小时：hour</li>
<li>分钟：minute</li>
<li>秒钟：second</li>
<li>毫秒：millisecond</li>
<li>微妙：microsecond</li>
<li>纳秒：nanosecond</li>
</ul>
<h5 id="（2）UTC和GMT"><a href="#（2）UTC和GMT" class="headerlink" title="（2）UTC和GMT"></a>（2）UTC和GMT</h5><ul>
<li>UTC：世界协调时（原子时，精确到纳秒）</li>
<li>GMT：格林威治世界时（太阳时，精确毫秒）</li>
<li>UTC与GMT时差不超过0.9秒，UTF自动校正</li>
</ul>
<h5 id="（3）时间戳"><a href="#（3）时间戳" class="headerlink" title="（3）时间戳"></a>（3）时间戳</h5><ul>
<li>1970年1月1日0时0分0秒0毫秒起（GMT）</li>
<li>到某个时间所经过的毫秒数</li>
</ul>
<h4 id="2-创建"><a href="#2-创建" class="headerlink" title="2.创建"></a>2.创建</h4><ul>
<li>Date() 直接调用，会忽略参数，返回当前系统时间</li>
<li>new Data()创建日期对象<ul>
<li>一个参数：时间戳</li>
<li>多个参数：年、月、日、时、分、秒、毫秒</li>
</ul>
</li>
</ul>
<h4 id="3-实例成员-1"><a href="#3-实例成员-1" class="headerlink" title="3.实例成员"></a>3.实例成员</h4><h5 id="（1）获取"><a href="#（1）获取" class="headerlink" title="（1）获取"></a>（1）获取</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>d.getTime()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取时间戳</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getFullYear()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取年</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getmonth()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取月（0-11）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getDay()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取周（0-6）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getDate()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取日</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getHours()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取时）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getMinutes()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取分）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getSeconds()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取秒</td>
<td align="left">{number}</td>
</tr>
</tbody></table>
<h5 id="（2）设置"><a href="#（2）设置" class="headerlink" title="（2）设置"></a>（2）设置</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>d.setTime()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置时间戳</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setFullYear()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置年</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setmonth()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置月（0-11）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setDay()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置周（0-6）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setDate()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置日</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setHours()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置时）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setMinutes()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置分）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setSeconds()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置秒</td>
<td align="left">{number}</td>
</tr>
</tbody></table>
<h4 id="4-日期运算"><a href="#4-日期运算" class="headerlink" title="4.日期运算"></a>4.日期运算</h4><ul>
<li>重写了Object中的valueOf方法，返回的是一个数字类型的时间戳</li>
</ul>
<hr>
<h3 id="（九）RegExp（构造函数）"><a href="#（九）RegExp（构造函数）" class="headerlink" title="（九）RegExp（构造函数）"></a>（九）RegExp（构造函数）</h3><h4 id="1-字符"><a href="#1-字符" class="headerlink" title="1.字符"></a>1.字符</h4><h5 id="（1）字面量"><a href="#（1）字面量" class="headerlink" title="（1）字面量"></a>（1）字面量</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">/.../ 匹配直接书写的字符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">/ABC/ 匹配ABC字符</span></pre></td></tr></table></figure>
<h5 id="（2）特殊字符"><a href="#（2）特殊字符" class="headerlink" title="（2）特殊字符"></a>（2）特殊字符</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）   /^<span class="regexp">/ 开始</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">        /</span>$/ 结束</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">（<span class="number">2</span>）   /./ 任意字符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">（<span class="number">3</span>）   /\n/  n是特殊字符（将特殊字符转换为普通字符）</span></pre></td></tr></table></figure>
<h5 id="（3）转义字符"><a href="#（3）转义字符" class="headerlink" title="（3）转义字符"></a>（3）转义字符</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）   /\n/  换行符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">        /\t/  制表符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">（<span class="number">2</span>）   /\s/  空白字符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        /\S/  非空白字符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">（<span class="number">3</span>）   /\b/  单词边界</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        /\B/  非单词边界</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">（<span class="number">4</span>）   /\d/  数字[<span class="number">0</span><span class="number">-9</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">        /\D/  非数字[^<span class="number">0</span><span class="number">-9</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">（<span class="number">5</span>）   /\w/  字母、数字、下划线[A-Za_z0<span class="number">-9</span>_]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        /\W/  非字母、数字、下划线[^A-Za_z0<span class="number">-9</span>_]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">（<span class="number">6</span>）   /\un/ n是四位十六进制的Unicode码</span></pre></td></tr></table></figure>
<h5 id="（4）字符集"><a href="#（4）字符集" class="headerlink" title="（4）字符集"></a>（4）字符集</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">/[ABC]/  匹配ABC中任意一位</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">/[<span class="number">0</span><span class="number">-9</span>]/  匹配任意一位字符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">/^[<span class="number">0</span><span class="number">-9</span>]/  必须以一位数字开始</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">/[^<span class="number">0</span><span class="number">-9</span>]/  非数字</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">/[\u4E00-\u9FA5]/ 匹配任意一位中文（除生僻字）</span></pre></td></tr></table></figure>

<h4 id="2-量词"><a href="#2-量词" class="headerlink" title="2.量词"></a>2.量词</h4><h5 id="（1）特殊字符"><a href="#（1）特殊字符" class="headerlink" title="（1）特殊字符"></a>（1）特殊字符</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）   /[...]*<span class="regexp">/ 0或多个</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">（2）   /</span>[...]+<span class="regexp">/ 1或多个</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">（3）   /</span>[...]?<span class="regexp">/ 0或1个</span></span></pre></td></tr></table></figure>
<h5 id="（2）自定义量词"><a href="#（2）自定义量词" class="headerlink" title="（2）自定义量词"></a>（2）自定义量词</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）   /[...]&#123;n&#125;/ n个</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">（<span class="number">2</span>）   /[...]&#123;n,&#125;/ 至少n个</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">（<span class="number">3</span>）   /[...]&#123;n,m&#125;/ n到m个</span></pre></td></tr></table></figure>

<h4 id="3-符号"><a href="#3-符号" class="headerlink" title="3.符号"></a>3.符号</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）   /|<span class="regexp">/ 或者</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">（2）   /</span>()/ 子集（捕获组）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">（<span class="number">3</span>）   /[]/ 字符集</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">（<span class="number">3</span>）   /&#123;&#125;/ 自定义量词</span></pre></td></tr></table></figure>

<h4 id="4-创建"><a href="#4-创建" class="headerlink" title="4.创建"></a>4.创建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/规则/</span>flag</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(规则, flag)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="built_in">RegExp</span>(规则, flag)</span></pre></td></tr></table></figure>
<blockquote>
<p>reg = /规则/<br>reg1 = new RegExp(reg)<br>reg2 = RegExp(reg)</p>
</blockquote>
<ul>
<li>当用一个正则作为参数创建正则时，用不用new就会有区别<ul>
<li>reg1 === reg ==&gt; false</li>
<li>reg2 === reg ==&gt; true</li>
</ul>
</li>
<li>flag<ul>
<li>g 全局匹配</li>
<li>i 忽略大小写</li>
<li>m 多行匹配</li>
</ul>
</li>
</ul>
<hr>
<h4 id="5-实例成员"><a href="#5-实例成员" class="headerlink" title="5.实例成员"></a>5.实例成员</h4><h5 id="（1）正则"><a href="#（1）正则" class="headerlink" title="（1）正则"></a>（1）正则</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>reg.global</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">是否开启全局</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.ignoreCase</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">是否开启忽略大小写</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.multiline</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">是否开启多行</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.source</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">当前规则</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>reg.lastIndex</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">匹配位置</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>reg.test()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">是否匹配到</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.exec()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">匹配到的结果</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left">- test当开启全局匹配的时候受lastIndex属性控制匹配位置</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- exec当开启全局匹配的时候受lastIndex属性控制匹配位置</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"aaa"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/a+/g</span>;   贪婪模式 ==&gt; <span class="string">"aaa"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/a+?/g</span>;  非贪婪模式 ==&gt; <span class="string">"a"</span></span></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 默认匹配模式为贪婪模式（尽可能的多），在量词后加？更改为非贪婪模式</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h5 id="（2）字符串"><a href="#（2）字符串" class="headerlink" title="（2）字符串"></a>（2）字符串</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>str.search()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp}</td>
<td align="left">第一次匹配到的index</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.match()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp}</td>
<td align="left">匹配到的结果</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left"><strong>str.split()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp}</td>
<td align="left">按正则分隔字符串</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left"><strong>str.replace()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp, string|function}</td>
<td align="left">按正则替换指定字符并返回新字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello world"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newStr = str.replace(<span class="regexp">/\s*\b[a-z]\s*/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> match.toUpperCase().trim();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- replace替换可以使用函数</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">+ match为匹配到的内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">+ return返回值为替换的内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="6-捕获组"><a href="#6-捕获组" class="headerlink" title="6.捕获组"></a>6.捕获组</h4><h5 id="（1）匿名捕获组"><a href="#（1）匿名捕获组" class="headerlink" title="（1）匿名捕获组"></a>（1）匿名捕获组</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(《[\u4e00-\u9fa5]+》)[\u4e00-\u9fa5]+(\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)[\u4e00-\u9fa5]+/gim</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">reg.exec(str) ==&gt; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>: <span class="string">"《中华人民共和国安全生产法》"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>: <span class="string">"2002年11月1日"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">groups: <span class="literal">undefined</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">index: <span class="number">0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">input: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">length: <span class="number">3</span></span></pre></td></tr></table></figure>
<ul>
<li>一个()代表一个捕获组，从左往右一次计算（例子中有2个捕获组）</li>
<li>当()发生嵌套的时候，从左往右，从外层往内层计算</li>
<li>匹配的结果返回的数组中，从index[1]位开始一次对应捕获组匹配的子集<ul>
<li>[0]代表匹配到的结果</li>
<li>[1]代表从左往右第一个()捕获组的内容</li>
<li>[2]代表从左往右第二个()捕获组的内容</li>
</ul>
</li>
</ul>
<h5 id="（2）具名捕获组"><a href="#（2）具名捕获组" class="headerlink" title="（2）具名捕获组"></a>（2）具名捕获组</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;name&gt;《[\u4e00-\u9fa5]+》)[\u4e00-\u9fa5]+(?&lt;time&gt;\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)[\u4e00-\u9fa5]+/gim</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">reg.exec(str) ==&gt; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>: <span class="string">"《中华人民共和国安全生产法》"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>: <span class="string">"2002年11月1日"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">groups: &#123;<span class="attr">name</span>: <span class="string">"《中华人民共和国安全生产法》"</span>, <span class="attr">time</span>: <span class="string">"2002年11月1日"</span>&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">index: <span class="number">0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">input: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">length: <span class="number">3</span></span></pre></td></tr></table></figure>
<ul>
<li>一个()代表一个捕获组，以 ==<strong>（ ？&lt;name&gt;</strong>== 的形式给当前()捕获组命名</li>
<li>具名捕获组会对应到返回结果的数组属性groups对象中<ul>
<li>命名为属性名</li>
<li>捕获组内容为属性值</li>
</ul>
</li>
</ul>
<h5 id="（3）非捕获组"><a href="#（3）非捕获组" class="headerlink" title="（3）非捕获组"></a>（3）非捕获组</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?:《[\u4e00-\u9fa5]+》)[\u4e00-\u9fa5]+(?&lt;time&gt;\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)[\u4e00-\u9fa5]+/gim</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">reg.exec(str) ==&gt; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>: <span class="string">"2002年11月1日"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">groups: &#123;<span class="attr">time</span>: <span class="string">"2002年11月1日"</span>&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">index: <span class="number">0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">input: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">length: <span class="number">3</span></span></pre></td></tr></table></figure>
<ul>
<li>一个()代表一个捕获组，以 ==<strong>（ ？：</strong>== 的形式设定当前()为非捕获组</li>
<li>非捕获组不会再捕获子集，节约性能</li>
</ul>
<h5 id="（4）replace运用捕获组"><a href="#（4）replace运用捕获组" class="headerlink" title="（4）replace运用捕获组"></a>（4）replace运用捕获组</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">str.replace(reg, <span class="function"><span class="keyword">function</span>(<span class="params">match, g1, g2</span>)</span>&#123;&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">str.replace(reg, <span class="string">"$1/$2"</span>)</span></pre></td></tr></table></figure>
<ul>
<li>replace替换可以使用函数,函数第二个参数开始对应捕获组<ul>
<li>match为匹配到的内容</li>
<li>g1为第一个捕获组的内容</li>
<li>g2为第二个捕获组的内容</li>
<li>return返回值为替换的内容</li>
</ul>
</li>
<li>replace替换可以使用字符串,字符串中的特殊字符$1、$2…对应捕获组<ul>
<li>$1为第一个捕获组的内容</li>
<li>$2为第二个捕获组的内容</li>
</ul>
</li>
</ul>
<h5 id="（5）反向引用"><a href="#（5）反向引用" class="headerlink" title="（5）反向引用"></a>（5）反向引用</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/(1&#123;2&#125;)(a&#123;2&#125;)\1/</span>; ==&gt; <span class="number">11</span>aa11</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/(1&#123;2&#125;)(a&#123;2&#125;)\2/</span>; ==&gt; <span class="number">11</span>aaaa</span></pre></td></tr></table></figure>
<ul>
<li>在正则表达式中，匿名捕获组以 ==<strong>\n</strong>== 的形式对()捕获组进行引用，n代表要引用第几个捕获组<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/(?&lt;num1&gt;1&#123;2&#125;)(?&lt;num2&gt;a&#123;2&#125;)\k&lt;num1&gt;/</span>; ==&gt; <span class="number">11</span>aa11</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/(?&lt;num1&gt;1&#123;2&#125;)(?&lt;num2&gt;a&#123;2&#125;)\k&lt;num2&gt;/</span>; ==&gt; <span class="number">11</span>aaaa</span></pre></td></tr></table></figure></li>
<li>在正则表达式中，具名捕获组以 ==<strong>\k&lt;name&gt;</strong>== 的形式对()捕获组进行引用，name代表要引用的捕获组名称</li>
</ul>
<h4 id="7-断言-预查"><a href="#7-断言-预查" class="headerlink" title="7.断言/预查"></a>7.断言/预查</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/[a-z](?=\d+)/g</span>; ==&gt; ab11 ==&gt; b</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/[a-z](?!=\d+)/g</span>; ==&gt; ab11 ==&gt; a</span></pre></td></tr></table></figure>
<ul>
<li>在正则表达式中，以 ==<strong>（ ？=规则）</strong>== 的形式对匹配进行正向预查</li>
<li>在正则表达式中，以 ==<strong>（ ？！=规则）</strong>== 的形式对匹配进行负向预查</li>
<li>此形式的()不会成为捕获组，亦不会成为匹配结果的一部分</li>
<li>reg1匹配一个小写字母，且要满足后面跟随的是数字</li>
<li>reg2匹配一个小写字母，且要满足后面跟随的不是数字<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1234567890"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\B(?=(\d&#123;3&#125;)+$)/g</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = str.replace(reg, <span class="string">","</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(s); ==&gt; <span class="string">"1,234,567,890"</span></span></pre></td></tr></table></figure></li>
<li>钱数表示法<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"aA123.10"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&amp;*()&lt;&gt;+-/.]).&#123;6,8&#125;$/</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> resault = reg.test(str);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(resault);</span></pre></td></tr></table></figure></li>
<li>密码强度检查<ul>
<li>(?=.*[a-z]) 有没有包含一个小写字母</li>
<li>(?=.*[A-Z]) 有没有包含一个大写字母</li>
<li>(?=.*\d) 有没有包含一个数字</li>
<li>(?=.*[!@#$%^&amp;*()&lt;&gt;+-/.]) 有没有包含一个特殊字符</li>
</ul>
</li>
<li>==预查不会消耗字符，预查完后匹配位置依然从0开始==</li>
</ul>
<hr>
<h3 id="（十）Error（构造函数）"><a href="#（十）Error（构造函数）" class="headerlink" title="（十）Error（构造函数）"></a>（十）Error（构造函数）</h3><h4 id="1-错误类型"><a href="#1-错误类型" class="headerlink" title="1.错误类型"></a>1.错误类型</h4><ul>
<li>语法错误：导致当前脚本块不执行</li>
<li>运行错误<ul>
<li>运行报错：导致当前脚本块后续代码不执行</li>
<li>运行结果不符合预期</li>
</ul>
</li>
</ul>
<h4 id="2-调试错误"><a href="#2-调试错误" class="headerlink" title="2.调试错误"></a>2.调试错误</h4><ul>
<li>控制台打印</li>
<li>断点调试（Chrome）</li>
</ul>
<h4 id="3-抛出错误"><a href="#3-抛出错误" class="headerlink" title="3.抛出错误"></a>3.抛出错误</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> e = <span class="keyword">new</span> <span class="built_in">Error</span>(msg);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> e;</span></pre></td></tr></table></figure>

<h4 id="4-错误家族"><a href="#4-错误家族" class="headerlink" title="4.错误家族"></a>4.错误家族</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Error()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>SyntaxError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">语法错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>TypeError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">类型错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>ReferenceError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">引用错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>RangeError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">越界错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>URLError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">路径错误</td>
<td align="left">{Error}</td>
</tr>
</tbody></table>
<h4 id="5-捕获错误"><a href="#5-捕获错误" class="headerlink" title="5.捕获错误"></a>5.捕获错误</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//错误捕获区</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span>(e)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//错误处理区</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">finally</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">//最终执行区</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h2 id="八、DOM核心"><a href="#八、DOM核心" class="headerlink" title="八、DOM核心"></a>八、DOM核心</h2><h3 id="（一）获取"><a href="#（一）获取" class="headerlink" title="（一）获取"></a>（一）获取</h3><h4 id="1-获取DOM节点"><a href="#1-获取DOM节点" class="headerlink" title="1.获取DOM节点"></a>1.获取DOM节点</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>document.documentElement</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">html节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.head</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">head节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.body</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">body节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.links</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">超链接节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.anchors</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">锚链接（name属性）节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.forms</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">form节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementById()</strong></td>
<td align="left">方法</td>
<td align="left">{string/ID属性值}</td>
<td align="left">id属性节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementsByTagName()</strong></td>
<td align="left">方法</td>
<td align="left">{string/元素名}</td>
<td align="left">元素节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementsByName()</strong></td>
<td align="left">方法</td>
<td align="left">{string/name属性值}</td>
<td align="left">name属性节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementsByClassName()</strong></td>
<td align="left">方法</td>
<td align="left">{string/class属性值}</td>
<td align="left">class属性节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>document.querySelector()</strong></td>
<td align="left">方法</td>
<td align="left">{string/css选择器}</td>
<td align="left">class属性节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE8及以上</td>
</tr>
<tr>
<td align="left"><strong>document.querySelectorAll()</strong></td>
<td align="left">方法</td>
<td align="left">{string/css选择器}</td>
<td align="left">class属性节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">IE8及以上</td>
</tr>
<tr>
<td align="left">- querySelectorAll()获取的是静态快照，其它的均是实时更新的</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 定义ID属性的DOM节点会成为window对象的属性，它是一个实时的单对象，会与同名全局变量冲突</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- getElementsByTagName()/getElementsByClassName()/querySelector()/querySelectorAll()在元素节点上均有定义</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="2-节点关系"><a href="#2-节点关系" class="headerlink" title="2.节点关系"></a>2.节点关系</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>node.parentNode</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">父节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.previousSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">前兄弟节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.nextSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">后兄弟节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.childNodes</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">子节点</td>
<td align="left">{Array&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.firstChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.lastChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.attributes</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">属性节点</td>
<td align="left">{Array&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
</tbody></table>
<h4 id="3-元素关系"><a href="#3-元素关系" class="headerlink" title="3.元素关系"></a>3.元素关系</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>ele.parentElement</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">父节点、父元素</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>ele.previousElementSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">前兄弟节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>ele.nextElementSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">后兄弟节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>ele.children</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">子节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>ele.firstElementChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>ele.lastElementChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
</tbody></table>
<h4 id="4-节点属性"><a href="#4-节点属性" class="headerlink" title="4.节点属性"></a>4.节点属性</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>dom.nodeName</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">节点名</td>
<td align="left">{STRING}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>dom.tagName</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">元素名</td>
<td align="left">{STRING}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>dom.nodeValue</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">节点内容</td>
<td align="left">{string}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>dom.nodeType</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">节点类型</td>
<td align="left">{number}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（二）操作"><a href="#（二）操作" class="headerlink" title="（二）操作"></a>（二）操作</h3><h4 id="1-操作DOM属性"><a href="#1-操作DOM属性" class="headerlink" title="1.操作DOM属性"></a>1.操作DOM属性</h4><h5 id="（1）可识别属性（HTML正常属性）"><a href="#（1）可识别属性（HTML正常属性）" class="headerlink" title="（1）可识别属性（HTML正常属性）"></a>（1）可识别属性（HTML正常属性）</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">div.id</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">div.className</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">label.htmlFor</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">input.value = <span class="string">"请输入内容"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">img.src = <span class="string">"./1.jpg"</span>;</span></pre></td></tr></table></figure>
<ul>
<li>正常的属性即使没有赋值也有默认值</li>
<li>布尔属性获取的是Boolean值，并非原始书写值</li>
<li>正常的属性名与关键字/保留字冲突时，修改属性名</li>
<li>有些HTML元素并不存在的属性也可以正常使用</li>
</ul>
<h5 id="（2）自定义属性"><a href="#（2）自定义属性" class="headerlink" title="（2）自定义属性"></a>（2）自定义属性</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">abc</span>=<span class="string">"123"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-abc</span>=<span class="string">"123"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">div.getAttribute(<span class="string">"abc"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">div.setAttribute(<span class="string">"abc"</span>, <span class="string">"123"</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">div.removeAttribute(<span class="string">"abc"</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">div.dataset.abc;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">div.dataset.abc = <span class="string">"123"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> div.dataset.abc;</span></pre></td></tr></table></figure>

<h4 id="2-操作DOM内容"><a href="#2-操作DOM内容" class="headerlink" title="2.操作DOM内容"></a>2.操作DOM内容</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">div.innerHtml</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">div.innerHtml = <span class="string">"&lt;p&gt;段落&lt;/p&gt;"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">p.innerText</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">p.innerText = <span class="string">"段落"</span></span></pre></td></tr></table></figure>
<ul>
<li>innerHtml可识别HTML元素内容</li>
<li>innerText可见并且显示的纯文本内容，有兼容性问题</li>
<li>textContent源代码纯文本内容，有兼容性问题</li>
</ul>
<h4 id="3-操作DOM结构"><a href="#3-操作DOM结构" class="headerlink" title="3.操作DOM结构"></a>3.操作DOM结构</h4><h5 id="（1）操作页面元素对象"><a href="#（1）操作页面元素对象" class="headerlink" title="（1）操作页面元素对象"></a>（1）操作页面元素对象</h5><ul>
<li><strong>A父元素.appendChild(元素1)</strong><ul>
<li>将元素1剪切，追加到A元素的最后一个子元素位置</li>
</ul>
</li>
<li><strong>A父元素.append(元素1、2、3…)</strong><ul>
<li>将元素1、2、3剪切，依次追加到A元素的最后一个子元素位置</li>
</ul>
</li>
<li><strong>A父元素.insertBefore(元素1，子元素a)</strong><ul>
<li>将元素1剪切，插入到A元素的子元素a前面的位置</li>
</ul>
</li>
<li><strong>A父元素.insertBefore(元素1，子元素a.nextElementSibling)</strong><ul>
<li>将元素1剪切，插入到A元素的子元素a后面的位置</li>
</ul>
</li>
<li><strong>A父元素.replaceChild(元素1，子元素a)</strong><ul>
<li>将元素1剪切，替换掉A元素的子元素a的位置</li>
</ul>
</li>
</ul>
<h5 id="（2）创建新元素对象"><a href="#（2）创建新元素对象" class="headerlink" title="（2）创建新元素对象"></a>（2）创建新元素对象</h5><ul>
<li><strong>document.createElement(元素名)</strong> 创建元素</li>
<li><strong>document.createDocumentFragment()</strong> 创建文档片段</li>
</ul>
<h5 id="（3）克隆页面元素对象"><a href="#（3）克隆页面元素对象" class="headerlink" title="（3）克隆页面元素对象"></a>（3）克隆页面元素对象</h5><ul>
<li><strong>dom.cloneNode(是否深度克隆)</strong> 克隆元素</li>
<li>浅克隆：仅仅克隆自身</li>
<li>深克隆：克隆自身包含所有子元素及后代</li>
</ul>
<h5 id="（4）删除页面元素对象"><a href="#（4）删除页面元素对象" class="headerlink" title="（4）删除页面元素对象"></a>（4）删除页面元素对象</h5><ul>
<li><strong>A父元素.removeChild(子元素a)</strong> 谋杀</li>
<li><strong>子元素a.remove()</strong> 自杀</li>
</ul>
<h4 id="4-操作DOM样式"><a href="#4-操作DOM样式" class="headerlink" title="4.操作DOM样式"></a>4.操作DOM样式</h4><h5 id="（1）类样式"><a href="#（1）类样式" class="headerlink" title="（1）类样式"></a>（1）类样式</h5><ul>
<li><strong>dom.className</strong>：预先定义好css类样式，通过className改变类来对应实现类样式（兼容性好）</li>
<li><strong>dom.classList</strong>：预先定义好css类样式，通过classList.add/remove/contains/toggle方法来控制类（兼容性不好）</li>
</ul>
<h5 id="（2）样式属性"><a href="#（2）样式属性" class="headerlink" title="（2）样式属性"></a>（2）样式属性</h5><ul>
<li><strong>dom.style</strong>：行内样式对象</li>
<li>css-书写方式应转换为小驼峰书写方式</li>
<li>只能操作行内书写样式，得到的是声明值</li>
<li>==设置样式：只能设置行内样式==</li>
</ul>
<h5 id="（3）计算样式"><a href="#（3）计算样式" class="headerlink" title="（3）计算样式"></a>（3）计算样式</h5><ul>
<li><strong>window.getComputeStyle(dom, 伪元素)</strong>： 获取计算样式对象</li>
<li>获取的是最终经过计算的绝对值</li>
</ul>
<hr>
<h3 id="（三）事件"><a href="#（三）事件" class="headerlink" title="（三）事件"></a>（三）事件</h3><h4 id="1-术语-1"><a href="#1-术语-1" class="headerlink" title="1.术语"></a>1.术语</h4><ul>
<li>事件：发生一件事</li>
<li>事件类型：事件发生的类型</li>
<li>事件处理程序：事件发生时，运行的函数</li>
<li>事件注册：将事件处理程序挂载到事件上</li>
<li>事件源：事件目标元素</li>
</ul>
<h4 id="2-事件流"><a href="#2-事件流" class="headerlink" title="2.事件流"></a>2.事件流</h4><ul>
<li>概念：某个事件发生时，哪些元素会监听到该事件，这些元素触发该事件的顺序</li>
<li>规则：当一个元素的事件发生时，其所有的祖先元素均发生了该事件（与元素结构有关，与视觉效果无关）</li>
<li>冒泡：事件从最里层事件源开始，依次向祖先元素传递</li>
<li>捕获：事件从最外层祖先元素开始，依次向事件源传递</li>
<li>顺序：事件捕获阶段 –&gt; 事件目标阶段 –&gt; 事件冒泡阶段</li>
<li>标准：默认事件冒泡</li>
</ul>
<h4 id="3-事件注册-注销"><a href="#3-事件注册-注销" class="headerlink" title="3.事件注册/注销"></a>3.事件注册/注销</h4><h5 id="（1）事件属性"><a href="#（1）事件属性" class="headerlink" title="（1）事件属性"></a>（1）事件属性</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;div onclick=<span class="string">"console.log("</span><span class="string">")"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">div.onclick = <span class="literal">null</span>;</span></pre></td></tr></table></figure>
<ul>
<li>事件属性只能给同一事件类型注册一个事件处理程序</li>
</ul>
<h5 id="（2）事件注册方法"><a href="#（2）事件注册方法" class="headerlink" title="（2）事件注册方法"></a>（2）事件注册方法</h5><p><strong>标准</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">div.addEventListener(<span class="string">"click"</span>, <span class="keyword">do</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">do</span>(<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">div.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="literal">false</span>)<span class="comment">//冒泡</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">div.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="literal">true</span>)<span class="comment">//捕获</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">div.removeEventLister(<span class="string">"click"</span>, <span class="keyword">do</span>)</span></pre></td></tr></table></figure>
<ul>
<li>事件方法可以给同一事件类型注册多个事件处理程序，按照注册顺序依次执行</li>
<li>移除事件不能使用匿名函数</li>
<li>==可以用第三个参数==<ul>
<li>boolean 指定事件处理阶段,默认false：冒泡，true：捕获（对事件目标阶段的事件无效）</li>
<li>Object 配置属性capture默认false：冒泡，true：捕获/属性once默认false：执行多次，true：仅仅执行一次</li>
</ul>
</li>
</ul>
<p><strong>兼容</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">div.attachEvent(<span class="string">"click"</span>, <span class="keyword">do</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">div.detachEvent(<span class="string">"click"</span>, <span class="keyword">do</span>)</span></pre></td></tr></table></figure>


<h4 id="4-事件对象"><a href="#4-事件对象" class="headerlink" title="4.事件对象"></a>4.事件对象</h4><h5 id="（1）获取-1"><a href="#（1）获取-1" class="headerlink" title="（1）获取"></a>（1）获取</h5><p><strong>标准</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">div.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;&#125;</span></pre></td></tr></table></figure>
<ul>
<li>事件处理程序的第一个参数</li>
</ul>
<p><strong>兼容</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.event</span></pre></td></tr></table></figure>
<ul>
<li>全局属性event</li>
</ul>
<h5 id="（2）成员"><a href="#（2）成员" class="headerlink" title="（2）成员"></a>（2）成员</h5><ul>
<li><strong>事件源:</strong> <ul>
<li>标准e.target </li>
<li>兼容e.srcElement</li>
<li>事件委托：通过给父元素注册事件，通过事件源来实现子元素的事件处理</li>
</ul>
</li>
<li><strong>当前目标：</strong> e.currentTarget指代绑定事件的元素，与this等效</li>
<li><strong>事件类型：</strong> e.type</li>
<li><strong>阻止浏览器默认行为：</strong><ul>
<li>标准e.preventDefault()方法 </li>
<li>兼容e.returnValue属性默认true，更改为false</li>
<li>事件属性方式返回布尔值false</li>
<li>a元素href=”javascript:void(0)”</li>
</ul>
</li>
<li><strong>阻止冒泡：</strong><ul>
<li>标准e.stopPropagation()方法</li>
<li>兼容e.cancelBubble属性默认false，更改为true</li>
</ul>
</li>
<li><strong>处理阶段：</strong> e.eventPhase<ul>
<li>1 捕获</li>
<li>2 目标</li>
<li>3 冒泡</li>
</ul>
</li>
</ul>
<h5 id="（3）鼠标事件对象MouseEvent"><a href="#（3）鼠标事件对象MouseEvent" class="headerlink" title="（3）鼠标事件对象MouseEvent"></a>（3）鼠标事件对象MouseEvent</h5><ul>
<li><strong>辅助键</strong><ul>
<li>e.altKey:true/false 是否搭配使用了键盘alt辅助键</li>
<li>e.ctrlKey:true/false 是否搭配使用了键盘ctrl辅助键</li>
<li>e.shiftKey:true/false 是否搭配使用了键盘shift辅助键</li>
</ul>
</li>
<li><strong>使用键</strong><ul>
<li>e.button:0/1/2 使用的是左、中、右键（默认值为0）</li>
</ul>
</li>
<li><strong>位置</strong><ul>
<li>e.pageX 相对于页面left的横坐标</li>
<li>e.pageY 相对于页面top的纵坐标</li>
<li>e.clientX/e.x 相对于视口left的横坐标</li>
<li>e.clientY/e.y 相对于视口top的纵坐标</li>
<li>e.offsetX 相对于事件源填充盒left的横坐标</li>
<li>e.offsetY 相对于事件源填充盒top的纵坐标</li>
<li>e.screenX 相对于屏幕left的横坐标</li>
<li>e.screenY 相对于屏幕top的纵坐标</li>
<li>e.movementX 相对于鼠标上一次位置的横向偏移量</li>
<li>e.movementY 相对于鼠标上一次位置的纵向偏移量</li>
</ul>
</li>
</ul>
<h5 id="（4）键盘事件对象KeyboardEvent"><a href="#（4）键盘事件对象KeyboardEvent" class="headerlink" title="（4）键盘事件对象KeyboardEvent"></a>（4）键盘事件对象KeyboardEvent</h5><ul>
<li>e.code 按键字符串，适应键盘布局 KeyD</li>
<li>e.key 按键字符串，不适应键盘布局  d</li>
</ul>
<h5 id="（5）窗口事件对象"><a href="#（5）窗口事件对象" class="headerlink" title="（5）窗口事件对象"></a>（5）窗口事件对象</h5><ul>
<li>document.documentElement.scrollTop/scrollLeft 获取/设置网页滚动距离</li>
<li>dom.scrollTop/scrollLeft scrollTop/scrollLeft 获取/设置当前元素滚动距离</li>
<li>screen.width/height 屏幕尺寸</li>
<li>window.outerWidth/outerHeight 窗口外尺寸</li>
<li>window.innerWidth/innerHeight 窗口内尺寸（包含滚动条）</li>
<li>document.documentElement.clientWidth/clientHeight视口尺寸（不包含滚动条）</li>
<li>dom.clientWidth/clientHeight可视填充盒尺寸（不包含滚动条、边框）</li>
<li>dom.offsetWidth/offsetHeight可视元素尺寸（包含滚动条、边框）</li>
<li>dom.scrollWidth/scrollHeight实际内容尺寸（包含滚动条、边框）</li>
<li>dom.offsetParent 最近的祖先定位元素<ul>
<li>dom.offsetLeft 相对于e.offsetParent的横向偏移量</li>
<li>dom.offsetTop 相对于e.offsetParent的纵向偏移量</li>
</ul>
</li>
<li>dom.getBoundingClientRect()获取对象rect<ul>
<li>rect.left 相对于视口的横向偏移量</li>
<li>rect.top 相对于视口的纵向偏移量</li>
</ul>
</li>
<li>window.scrollTo(x, y) 定位到指定位置</li>
<li>window.scrollBy(x, y) 相对偏移量（递增、递减）</li>
</ul>
<h4 id="5-事件类型"><a href="#5-事件类型" class="headerlink" title="5.事件类型"></a>5.事件类型</h4><h5 id="（1）鼠标事件类型"><a href="#（1）鼠标事件类型" class="headerlink" title="（1）鼠标事件类型"></a>（1）鼠标事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">应用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>click</strong></td>
<td align="center">鼠标点击事件</td>
<td align="center">一般是左键</td>
</tr>
<tr>
<td align="center"><strong>dblclick</strong></td>
<td align="center">鼠标双击事件</td>
<td align="center">一般是左键</td>
</tr>
<tr>
<td align="center"><strong>mousedown</strong></td>
<td align="center">鼠标按下事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>mouseup</strong></td>
<td align="center">鼠标抬起事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>mousemove</strong></td>
<td align="center">鼠标移动事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>mouseover</strong></td>
<td align="center">鼠标进入事件</td>
<td align="center">冒泡</td>
</tr>
<tr>
<td align="center"><strong>mouseout</strong></td>
<td align="center">鼠标离开事件</td>
<td align="center">冒泡</td>
</tr>
<tr>
<td align="center"><strong>mouseenter</strong></td>
<td align="center">鼠标进入事件</td>
<td align="center">不冒泡</td>
</tr>
<tr>
<td align="center"><strong>mouseleave</strong></td>
<td align="center">鼠标离开事件</td>
<td align="center">不冒泡</td>
</tr>
</tbody></table>
<ul>
<li>over/out不包含子元素，从父元素到子元素就算离开了父元素</li>
<li>enter/leave包含子元素，从父元素进入子元素仍然算在父元素中</li>
</ul>
<h5 id="（2）键盘事件类型"><a href="#（2）键盘事件类型" class="headerlink" title="（2）键盘事件类型"></a>（2）键盘事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">应用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>keydown</strong></td>
<td align="center">键盘按下事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>keyup</strong></td>
<td align="center">键盘抬起事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>keypress</strong></td>
<td align="center">键盘字符按下事件</td>
<td align="center">只监听字符键</td>
</tr>
<tr>
<td align="center">- keydown / keypress如果阻止了默认行为则对应输入内容不会显示</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h5 id="3-表单事件类型"><a href="#3-表单事件类型" class="headerlink" title="(3)表单事件类型"></a>(3)表单事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">应用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>focus</strong></td>
<td align="center">聚焦事件</td>
<td align="center">e.bubbles/false不会冒泡</td>
</tr>
<tr>
<td align="center"><strong>blur</strong></td>
<td align="center">失去焦点</td>
<td align="center">e.bubbles/false不会冒泡</td>
</tr>
<tr>
<td align="center"><strong>submit</strong></td>
<td align="center">提交事件</td>
<td align="center">e.bubbles/true会冒泡</td>
</tr>
<tr>
<td align="center"><strong>change</strong></td>
<td align="center">文本改变事件</td>
<td align="center">e.bubbles/true会冒泡</td>
</tr>
<tr>
<td align="center"><strong>input</strong></td>
<td align="center">输入事件</td>
<td align="center">e.bubbles/true会冒泡</td>
</tr>
</tbody></table>
<h5 id="（4）窗口事件类型"><a href="#（4）窗口事件类型" class="headerlink" title="（4）窗口事件类型"></a>（4）窗口事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">宿主</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>load</strong></td>
<td align="center">资源全部加载完毕</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>DOMContentLoaded</strong></td>
<td align="center">DOM树构建完毕</td>
<td align="center">document</td>
</tr>
<tr>
<td align="center"><strong>readystatechange</strong></td>
<td align="center">document.readyState改变</td>
<td align="center">document</td>
</tr>
<tr>
<td align="center"><strong>beforeunload</strong></td>
<td align="center">窗口关闭前</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>unload</strong></td>
<td align="center">窗口关闭</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>scroll</strong></td>
<td align="center">滚动条滚动</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>resize</strong></td>
<td align="center">视口尺寸改变</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>contextmenu</strong></td>
<td align="center">右键菜单</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>paste</strong></td>
<td align="center">粘贴</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>copy</strong></td>
<td align="center">复制</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>cut</strong></td>
<td align="center">剪切</td>
<td align="center">*</td>
</tr>
</tbody></table>
<h4 id="6-浏览器渲染"><a href="#6-浏览器渲染" class="headerlink" title="6.浏览器渲染"></a>6.浏览器渲染</h4><h5 id="（1）渲染顺序"><a href="#（1）渲染顺序" class="headerlink" title="（1）渲染顺序"></a>（1）渲染顺序</h5><ul>
<li>1.网络：获取页面源代码</li>
<li>2.创建：document文档节点</li>
<li>3.预渲染：<ul>
<li>源代码从上到下，依次构建dom树</li>
<li>遇到（link/script）外部资源默认同步加载，外部资源加载完即立即执行</li>
<li>遇到（img/video/audio）外部资源默认异步加载，外部资源加载完即立即执行</li>
</ul>
</li>
<li>4.按照DOM树依次渲染子节点</li>
</ul>
<h5 id="（2）document-readyState状态"><a href="#（2）document-readyState状态" class="headerlink" title="（2）document.readyState状态"></a>（2）document.readyState状态</h5><ul>
<li>loading 资源开始加载</li>
<li>interactive DOM树构建完成 触发DOMContentLoaded</li>
<li>complete 资源加载完毕 触发load</li>
</ul>
<h4 id="7-事件模拟"><a href="#7-事件模拟" class="headerlink" title="7.事件模拟"></a>7.事件模拟</h4><ul>
<li>dom.click() 手动触发click事件</li>
<li>dom.submit() 手动触发submit事件</li>
<li>其它事件模拟<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义事件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="keyword">new</span> MouseEvent(<span class="string">"事件类型"</span>, &#123;配置&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">//分发事件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">dom.dispatchEvent(event)</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="九、BOM核心"><a href="#九、BOM核心" class="headerlink" title="九、BOM核心"></a>九、BOM核心</h2><h3 id="（一）计时器（异步）"><a href="#（一）计时器（异步）" class="headerlink" title="（一）计时器（异步）"></a>（一）计时器（异步）</h3><h4 id="1-Timeout"><a href="#1-Timeout" class="headerlink" title="1.Timeout"></a>1.Timeout</h4><h5 id="（1）setTimeout-fn-time"><a href="#（1）setTimeout-fn-time" class="headerlink" title="（1）setTimeout(fn, time)"></a>（1）setTimeout(fn, time)</h5><ul>
<li>返回计时器编号timer，等待time之后，运行fn</li>
<li>fn内的this指向window<h5 id="（2）clearTimeout-timer"><a href="#（2）clearTimeout-timer" class="headerlink" title="（2）clearTimeout(timer)"></a>（2）clearTimeout(timer)</h5></li>
<li>清除计时器</li>
</ul>
<h4 id="2-Interval"><a href="#2-Interval" class="headerlink" title="2.Interval"></a>2.Interval</h4><h5 id="（1）setInterval-fn-time"><a href="#（1）setInterval-fn-time" class="headerlink" title="（1）setInterval(fn, time)"></a>（1）setInterval(fn, time)</h5><ul>
<li>返回计时器编号timer，没间隔time，运行一次fn</li>
<li>fn内的this指向window<h5 id="（2）clearInterval-timer"><a href="#（2）clearInterval-timer" class="headerlink" title="（2）clearInterval(timer)"></a>（2）clearInterval(timer)</h5></li>
<li>清除计时器</li>
</ul>
<hr>
<h2 id="十、进阶"><a href="#十、进阶" class="headerlink" title="十、进阶"></a>十、进阶</h2><h3 id="（一）原型与原型链"><a href="#（一）原型与原型链" class="headerlink" title="（一）原型与原型链"></a>（一）原型与原型链</h3><h4 id="1-原型prototype"><a href="#1-原型prototype" class="headerlink" title="1.原型prototype"></a>1.原型prototype</h4><ul>
<li>所有的对象都是通过<strong>new 函数</strong>来创建的</li>
<li>所有的函数也都是对象，函数也可以有属性</li>
<li>所有的函数都有一个prototype属性，叫做原型<ul>
<li>默认是一个普通对象{}</li>
<li>有一个默认属性constructor，默认指向该构造函数<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">Test.prototype = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>: Test</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="2-隐式原型proto"><a href="#2-隐式原型proto" class="headerlink" title="2.隐式原型proto"></a>2.隐式原型<strong>proto</strong></h4><ul>
<li>所有的对象都有一个默认属性<strong>proto</strong>，叫隐式原型<ul>
<li>默认指向该对象的构造函数的原型</li>
</ul>
</li>
<li>对象成员访问顺序：<ul>
<li>对象自身中是否有该成员，如果有则直接访问</li>
<li>对象隐式原型<strong>proto</strong>中是否有该成员，如果有则直接访问</li>
<li>在原型链中依次查找<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> Test()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = <span class="keyword">new</span> Test()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">Test.prototype === obj1.__proto__ === obj2.__proto__  ==&gt; <span class="literal">true</span></span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="3-原型链"><a href="#3-原型链" class="headerlink" title="3.原型链"></a>3.原型链</h4><ul>
<li>特殊指向：<ul>
<li>Function的隐式原型<strong>proto</strong>指向自身的原型prototype</li>
<li>Object的原型prototype的隐式原型<strong>proto</strong>指向null</li>
</ul>
</li>
<li>利用原型链访问顺序的特点，即可就近重写继承的成员<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">Test.prototype === Test.__proto__</span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-API"><a href="#4-API" class="headerlink" title="4.API"></a>4.API</h4><ul>
<li><strong>Object.getPrototypeOf(obj)</strong> 获取隐式原型（<strong>proto</strong>系统成员不推荐使用）</li>
<li><strong>Object.create(obj)</strong> 以obj为隐式原型创建一个对象</li>
<li><strong>objPrototype.isPrototypeOf(obj)</strong> 判断objPrototype是否在obj的原型链上</li>
<li><strong>obj instanceOf Fn</strong> 判断obj的原型链上是否有Fn的原型（obj 是不是一个 Fn）</li>
<li><strong>obj.hasOwnProperty(x)</strong> 判断x是否是obj自身的属性（遍历对象默认会遍历原型链上的可枚举属性）</li>
</ul>
<h4 id="5-继承（圣杯模式）"><a href="#5-继承（圣杯模式）" class="headerlink" title="5.继承（圣杯模式）"></a>5.继承（圣杯模式）</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">son, father</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  son.prototype = <span class="built_in">Object</span>.create(father.prototype);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  son.prototype.constructor = son;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  son.prototype.uber = father.prototype;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">son, father</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> Temp = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  Temp.prototype = father.prototype;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  son.prototype = <span class="keyword">new</span> Temp();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  son.prototype.constructor = son;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  son.prototype.uber = father.prototype;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> Temp = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span>   <span class="function"><span class="keyword">function</span>(<span class="params">son, father</span>)</span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    Temp.prototype = father.prototype;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    son.prototype = <span class="keyword">new</span> Temp();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    son.prototype.constructor = son;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">    son.prototype.uber = father.prototype;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">&#125;())</span></pre></td></tr></table></figure>
<hr>
<h3 id="（二）属性描述符"><a href="#（二）属性描述符" class="headerlink" title="（二）属性描述符"></a>（二）属性描述符</h3><h4 id="1-术语-2"><a href="#1-术语-2" class="headerlink" title="1.术语"></a>1.术语</h4><ul>
<li>元数据：描述数据的数据</li>
<li>数据属性：普通（正常）的属性（默认用数据描述符）</li>
<li>存取属性：添加了访问器（get/set）的属性（用存取描述符）</li>
<li>可读 value</li>
<li>可写 writeable</li>
<li>可枚举 enumerable</li>
<li>可配置 configurable</li>
</ul>
<h4 id="2-描述符可同时具有的键值"><a href="#2-描述符可同时具有的键值" class="headerlink" title="2.描述符可同时具有的键值"></a>2.描述符可同时具有的键值</h4><table>
<thead>
<tr>
<th align="left"></th>
<th align="center">数据描述符</th>
<th align="center">存取描述符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="center">√</td>
<td align="center">×</td>
</tr>
<tr>
<td align="left">writeable</td>
<td align="center">√</td>
<td align="center">×</td>
</tr>
<tr>
<td align="left">enumerable</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">configurable</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">get</td>
<td align="center">×</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">set</td>
<td align="center">×</td>
<td align="center">√</td>
</tr>
</tbody></table>
<h4 id="3-API"><a href="#3-API" class="headerlink" title="3.API"></a>3.API</h4><ul>
<li><strong>Object.defineProperty(obj, prop, descriptor)</strong> 配置属性描述</li>
<li><strong>Object.getOwnPropertyDescriptor(obj, prop)</strong> 获取属性描述<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">"x"</span>, &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">get</span>: function () &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">//当获取obj.x值时，会运行此函数，此函数返回值始终为表达式的值（属性值）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="string">"abc"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">set</span>: function (value) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">//当设置obj.x = "abc"值时，会运行此函数，赋的值始终为函数的value参数值（非属性值）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="（三）作用域与作用域链"><a href="#（三）作用域与作用域链" class="headerlink" title="（三）作用域与作用域链"></a>（三）作用域与作用域链</h3><h4 id="1-执行上下文"><a href="#1-执行上下文" class="headerlink" title="1.执行上下文"></a>1.执行上下文</h4><ul>
<li>全局执行上下文：js代码执行前，创建的一块内存空间，存储着代码执行所需的数据，为代码执行提供支持</li>
<li>函数执行上下文：函数运行前，创建的一块内存空间，存储着函数运行所需的数据，为函数运行提供支持</li>
<li>执行上下文栈：call stack所有执行上下文组成的内存空间，js引擎始终执行的是栈顶的上下文</li>
<li>VO：Variable Object 执行上下文对象，记录了该环境中声明的参数、变量、函数</li>
<li>GO：Global Object 全局执行上下文对象，记录了全局环境中声明的变量、函数</li>
<li>AO：Active Object 当前执行上下文对象，记录了当前环境中声明的参数、变量、函数</li>
</ul>
<h4 id="2-执行上下文内容"><a href="#2-执行上下文内容" class="headerlink" title="2.执行上下文内容"></a>2.执行上下文内容</h4><h5 id="（1）this指向"><a href="#（1）this指向" class="headerlink" title="（1）this指向"></a>（1）this指向</h5><ul>
<li>全局环境this指向window对象</li>
<li>函数直接调用this指向window对象</li>
<li>对象方法调用this指向调用对象</li>
<li>new操作符调用this指向创建的新对象</li>
</ul>
<h5 id="（2）预编译"><a href="#（2）预编译" class="headerlink" title="（2）预编译"></a>（2）预编译</h5><ul>
<li>变量声明、函数声明提升，赋默认值：undefined<ul>
<li>若变量声明已存在，则忽略</li>
<li>若函数声明已存在，则覆盖</li>
</ul>
</li>
<li>形参变量赋值为实参值</li>
<li>函数变量赋值为函数对象</li>
</ul>
<h5 id="（3）代码依次执行"><a href="#（3）代码依次执行" class="headerlink" title="（3）代码依次执行"></a>（3）代码依次执行</h5><ul>
<li>遇到赋值语句，对应修改上下文内容</li>
</ul>
<h4 id="3-作用域链"><a href="#3-作用域链" class="headerlink" title="3.作用域链"></a>3.作用域链</h4><ul>
<li>函数自身有一个隐式属性<code>[[scope]]</code>指向该函数定义时的AO</li>
<li>函数执行时，访问一个变量<ul>
<li>在当前执行上下文中查找</li>
<li>若当前VO中不存在，则依次从<code>[[scope]]</code>指向的VO中查找</li>
<li>若最终都没有找到，则会报错</li>
</ul>
</li>
</ul>
<h4 id="4-闭包"><a href="#4-闭包" class="headerlink" title="4.闭包"></a>4.闭包</h4><ul>
<li>每次函数运行都会创建一个新的执行上下文，运行结束即销毁</li>
<li>当函数运行中定义并返回了一个函数，该函数的<code>[[scope]]</code>会保留当前AO</li>
<li>若返回函数的引用存在，导致执行上下文无法销毁，会造成内存泄露</li>
</ul>
<h3 id="（四）事件循环"><a href="#（四）事件循环" class="headerlink" title="（四）事件循环"></a>（四）事件循环</h3><h4 id="1-浏览器线程"><a href="#1-浏览器线程" class="headerlink" title="1.浏览器线程"></a>1.浏览器线程</h4><ul>
<li>JS引擎线程：负责执行js代码</li>
<li>渲染线程：负责渲染页面</li>
<li>计时器线程：负责计时</li>
<li>事件监听线程：负责事件监听</li>
<li>HTTP网络线程：负责网络通信</li>
</ul>
<h4 id="2-事件队列"><a href="#2-事件队列" class="headerlink" title="2.事件队列"></a>2.事件队列</h4><ul>
<li>js是单线程，并不具备处理代码执行以外的事情，只是通过间接的通知其它线程去异步做某些事</li>
<li>当某些条件成熟才运行的函数为异步函数，其它线程并不具备执行函数的功能，只是等条件成熟后将异步函数放入事件队列</li>
<li>js引擎只有当执行栈空闲时，才会去执行事件队列中的第一个异步函数</li>
<li>事件队列是一个堆结构（先进先出）</li>
</ul>
<h4 id="3-事件循环"><a href="#3-事件循环" class="headerlink" title="3.事件循环"></a>3.事件循环</h4><ul>
<li>event loop 是指函数在执行栈、宿主线程、事件队列中的循环移动</li>
</ul>
<hr>
<h3 id="（五）功能与性能"><a href="#（五）功能与性能" class="headerlink" title="（五）功能与性能"></a>（五）功能与性能</h3><h4 id="1-对象混合mixin"><a href="#1-对象混合mixin" class="headerlink" title="1.对象混合mixin"></a>1.对象混合mixin</h4><h4 id="2-对象克隆clone"><a href="#2-对象克隆clone" class="headerlink" title="2.对象克隆clone"></a>2.对象克隆clone</h4><h4 id="3-函数防抖debounce"><a href="#3-函数防抖debounce" class="headerlink" title="3.函数防抖debounce"></a>3.函数防抖debounce</h4><h4 id="4-函数节流throttle"><a href="#4-函数节流throttle" class="headerlink" title="4.函数节流throttle"></a>4.函数节流throttle</h4><h4 id="5-函数科里化curry"><a href="#5-函数科里化curry" class="headerlink" title="5.函数科里化curry"></a>5.函数科里化curry</h4><h4 id="6-函数管道pipe"><a href="#6-函数管道pipe" class="headerlink" title="6.函数管道pipe"></a>6.函数管道pipe</h4>
      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/03/ES5a/" data-id="ck73cha220008w8tg0moqdwoc"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-CSS3a" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2020/01/02/CSS3a/"
    >CSS3 --- 应用篇</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/blog/2020/01/02/CSS3a/" class="article-date">
  <time datetime="2020-01-01T19:00:00.000Z" itemprop="datePublished">2020-01-02</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      
  <div class="justified-gallery" id="gallery">
  
      <div>
        <a class="fancybox" data-fancybox="images" data-caption="img_caption" href="/blog/img_url" rel="gallery_ck73cha1x0002w8tg2npzfuga" title="img_caption">
          <img src="/blog/img_url" itemprop="image" alt="img_caption">
        </a>
      </div>
  
      <div>
        <a class="fancybox" data-fancybox="images" data-caption="img_caption" href="/blog/img_url" rel="gallery_ck73cha1x0002w8tg2npzfuga" title="img_caption">
          <img src="/blog/img_url" itemprop="image" alt="img_caption">
        </a>
      </div>
  
  </div>



      

      
      <h1 id="一、css3’s-compatible-history"><a href="#一、css3’s-compatible-history" class="headerlink" title="一、css3’s compatible history"></a>一、css3’s compatible history</h1><h2 id="（一）前缀与浏览器"><a href="#（一）前缀与浏览器" class="headerlink" title="（一）前缀与浏览器"></a>（一）前缀与浏览器</h2><h3 id="1-前缀与内核"><a href="#1-前缀与内核" class="headerlink" title="1.前缀与内核"></a>1.前缀与内核</h3><table>
<thead>
<tr>
<th align="center">prefix</th>
<th align="center">browser</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-webkit-</td>
<td align="center">chrome/safari</td>
</tr>
<tr>
<td align="center">-moz-</td>
<td align="center">firefox</td>
</tr>
<tr>
<td align="center">-ms-</td>
<td align="center">IE</td>
</tr>
<tr>
<td align="center">-o-</td>
<td align="center">opera</td>
</tr>
</tbody></table>
<h3 id="2-兼容性处理"><a href="#2-兼容性处理" class="headerlink" title="2.兼容性处理"></a>2.兼容性处理</h3><ul>
<li>手册：<a href="http://css.doyoe.com" target="_blank" rel="noopener">http://css.doyoe.com</a></li>
<li>权威：<a href="http://www.caniuse.com" target="_blank" rel="noopener">http://www.caniuse.com</a></li>
<li>插件：autoprefixer 插件自动添加前缀</li>
</ul>
<h2 id="（二）预处理器与后处理器"><a href="#（二）预处理器与后处理器" class="headerlink" title="（二）预处理器与后处理器"></a>（二）预处理器与后处理器</h2><h3 id="1-pre-processor"><a href="#1-pre-processor" class="headerlink" title="1.pre-processor"></a>1.pre-processor</h3><ul>
<li>less</li>
<li>sass</li>
<li>cssNext</li>
</ul>
<h3 id="2-post-processor"><a href="#2-post-processor" class="headerlink" title="2.post-processor"></a>2.post-processor</h3><ul>
<li>autoprefixer</li>
</ul>
<h3 id="3-postCss"><a href="#3-postCss" class="headerlink" title="3.postCss"></a>3.postCss</h3><ul>
<li>用 js 实现的 css 抽象语法树 AST（Abstract Syntax Tree）</li>
<li>剩下的事留给插件去做</li>
</ul>
<hr>
<h1 id="二、selectors-of-css3"><a href="#二、selectors-of-css3" class="headerlink" title="二、selectors of css3"></a>二、selectors of css3</h1><h2 id="（一）relationship-selector"><a href="#（一）relationship-selector" class="headerlink" title="（一）relationship selector"></a>（一）relationship selector</h2><table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">E F</td>
<td align="left">后代所有满足条件的子元素</td>
</tr>
<tr>
<td align="left">E &gt; F</td>
<td align="left">直接子元素</td>
</tr>
<tr>
<td align="left">E + F</td>
<td align="left">下一个满足条件的兄弟元素</td>
</tr>
<tr>
<td align="left">E ~ F</td>
<td align="left">之后所有满足条件的兄弟元素</td>
</tr>
</tbody></table>
<h2 id="（二）attribute-selector"><a href="#（二）attribute-selector" class="headerlink" title="（二）attribute selector"></a>（二）attribute selector</h2><table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">E[attr ~= “a”]</td>
<td align="left">属性值中有单独 a 的元素</td>
</tr>
<tr>
<td align="left">E[attr |= “a”]</td>
<td align="left">属性值中以 a 或 a- 开头的元素</td>
</tr>
<tr>
<td align="left">E[attr ^= “a”]</td>
<td align="left">属性值中以 a 开头的元素</td>
</tr>
<tr>
<td align="left">E[attr $= “a”]</td>
<td align="left">属性值中以 a 结尾的元素</td>
</tr>
<tr>
<td align="left">E[attr *= “a”]</td>
<td align="left">属性值中包含 a 的元素</td>
</tr>
</tbody></table>
<h2 id="（三）pseudo-element-selector"><a href="#（三）pseudo-element-selector" class="headerlink" title="（三）pseudo-element selector"></a>（三）pseudo-element selector</h2><table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">E::placeholder</td>
<td align="left">输入框提示文字，仅仅可以设置 color</td>
</tr>
<tr>
<td align="left">E::selection]</td>
<td align="left">文本选中效果，仅仅可以设置 color、background-color、text-shadow</td>
</tr>
</tbody></table>
<h2 id="（四）pseudo-classes-selector"><a href="#（四）pseudo-classes-selector" class="headerlink" title="（四）pseudo-classes selector"></a>（四）pseudo-classes selector</h2><ul>
<li><p>被选中元素的一种状态</p>
<table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">:root</td>
<td align="left">根节点</td>
</tr>
<tr>
<td align="left">E:not(selector)</td>
<td align="left">排除</td>
</tr>
<tr>
<td align="left">E:target</td>
<td align="left">锚点选中</td>
</tr>
<tr>
<td align="left">E:first-child</td>
<td align="left">第一个子元素</td>
</tr>
<tr>
<td align="left">E:last-child</td>
<td align="left">最后一个子元素</td>
</tr>
<tr>
<td align="left">E:only-child</td>
<td align="left">仅仅一个子元素</td>
</tr>
<tr>
<td align="left">E:nth-child(n)</td>
<td align="left">顺序第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:nth-last-child(n)</td>
<td align="left">逆序第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:nth-child(odd)</td>
<td align="left">奇数个子元素</td>
</tr>
<tr>
<td align="left">E:nth-child(even)</td>
<td align="left">偶数个子元素</td>
</tr>
<tr>
<td align="left">E:first-of-type</td>
<td align="left">同类型第一个子元素</td>
</tr>
<tr>
<td align="left">E:last-of-type</td>
<td align="left">同类型最后一个子元素</td>
</tr>
<tr>
<td align="left">E:only-of-type</td>
<td align="left">同类型仅仅一个子元素</td>
</tr>
<tr>
<td align="left">E:nth-of-type(n)</td>
<td align="left">顺序同类型第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:nth-last-of-type(n)</td>
<td align="left">逆序同类型第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:empty</td>
<td align="left">内容为空的元素</td>
</tr>
<tr>
<td align="left">E:checked</td>
<td align="left">被选中表单元素</td>
</tr>
<tr>
<td align="left">E:enabled</td>
<td align="left">可用表单元素</td>
</tr>
<tr>
<td align="left">E:disabled</td>
<td align="left">被禁用表单元素</td>
</tr>
<tr>
<td align="left">E:read-only</td>
<td align="left">仅仅可读表单元素</td>
</tr>
<tr>
<td align="left">E:read-write</td>
<td align="left">可读可写用表单元素</td>
</tr>
</tbody></table>
</li>
</ul>
<hr>
<h1 id="三、border-of-css3"><a href="#三、border-of-css3" class="headerlink" title="三、border of css3"></a>三、border of css3</h1><h2 id="（一）border-radius"><a href="#（一）border-radius" class="headerlink" title="（一）border-radius"></a>（一）border-radius</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span> / <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><img src="./border-radius.png" alt="图解"></p>
<h2 id="（二）border-image"><a href="#（二）border-image" class="headerlink" title="（二）border-image"></a>（二）border-image</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-width</span>: <span class="number">10px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-style</span>: solid;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-color</span>: red;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-image-source</span>: <span class="built_in">url</span>(); <span class="comment">/*linear-gradient redial-gradient*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-image-slice</span>: <span class="number">10</span> <span class="number">10</span> <span class="number">10</span> <span class="number">10</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-image-repeat</span>: stretch; <span class="comment">/*repeat round space*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-image-width</span>: <span class="number">1</span>; <span class="comment">/*倍数，若默认auto则取slice值加上px*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">border-image-outset</span>: <span class="number">0px</span>; <span class="comment">/*向外偏移*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>border-image-repeat 重复<ul>
<li>stretch 默认拉伸</li>
<li>repeat 对称重复填充</li>
<li>round 适当缩放填充</li>
<li>space 空白填充</li>
</ul>
</li>
</ul>
<p><img src="./border-image.png" alt="图解"></p>
<h2 id="（三）box-shadow"><a href="#（三）box-shadow" class="headerlink" title="（三）box-shadow"></a>（三）box-shadow</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> red, <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> green,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">              <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> blue, <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> pink;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> red;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>内阴影</li>
<li>水平偏移（正右负左）</li>
<li>垂直偏移（正下负上）</li>
<li>模糊半径</li>
<li>缩放（四个方向同时增减设置值）</li>
<li>颜色<br><img src="./box-shadow.png" alt="图解"></li>
<li>文字在阴影之上，背景在阴影之下</li>
</ul>
<h1 id="四、background-of-css3"><a href="#四、background-of-css3" class="headerlink" title="四、background of css3"></a>四、background of css3</h1><h2 id="（一）background-color"><a href="#（一）background-color" class="headerlink" title="（一）background-color"></a>（一）background-color</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: black;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(0, 0, 0);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 1);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（二）background-image"><a href="#（二）background-image" class="headerlink" title="（二）background-image"></a>（二）background-image</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">url</span>(), <span class="built_in">url</span>(); <span class="comment">/*多张图片*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">linear-gradient</span>(); <span class="comment">/*线性渐变*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">radial-gradient</span>(); <span class="comment">/*径向渐变*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（三）background-repeat"><a href="#（三）background-repeat" class="headerlink" title="（三）background-repeat"></a>（三）background-repeat</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: repeat; <span class="comment">/*默认水平、垂直重复平铺*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: repeat-x; <span class="comment">/*水平重复，垂直不重复*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: repeat-y; <span class="comment">/*水平不重复，垂直重复*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: no-repeat; <span class="comment">/*水平、垂直不重复平铺*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: round space; <span class="comment">/*水平适当缩放填充、垂直空白填充*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（四）background-origin"><a href="#（四）background-origin" class="headerlink" title="（四）background-origin"></a>（四）background-origin</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-origin</span>: padding-box; <span class="comment">/*默认从填充盒开始*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-origin</span>: border-box; <span class="comment">/*从边框盒开始*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-origin</span>: content-box; <span class="comment">/*从内容盒开始*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（五）background-clip"><a href="#（五）background-clip" class="headerlink" title="（五）background-clip"></a>（五）background-clip</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: border-box; <span class="comment">/*默认到边框盒结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: padding-box; <span class="comment">/*到填充盒结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: content-box; <span class="comment">/*到内容盒结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: text; <span class="comment">/*反向剪切非文字区域*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">-webkit-text-fill-color</span>: transparent;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（六）background-position"><a href="#（六）background-position" class="headerlink" title="（六）background-position"></a>（六）background-position</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: center; <span class="comment">/*默认水平、垂直居中*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: top left; <span class="comment">/*靠上靠左*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: <span class="number">100px</span>; <span class="comment">/*水平相对于origin偏移100px, 垂直居中*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>; <span class="comment">/*水平相对于origin偏移50%, 垂直偏移50%*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（七）background-size"><a href="#（七）background-size" class="headerlink" title="（七）background-size"></a>（七）background-size</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: auto; <span class="comment">/*默认不改变图片大小和比例*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: cover; <span class="comment">/*按图片比例缩放，图片覆盖整个容器，图片可能会有溢出*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: contain; <span class="comment">/*按图片比例缩放，容器包含整个图片，容器可能会有留白*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: <span class="number">100px</span>; <span class="comment">/*宽度100px, 高度按比例自动缩放*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: <span class="number">100px</span> <span class="number">200px</span>; <span class="comment">/*宽度100px, 高度200px, 图片可能会变形*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>; <span class="comment">/*宽高缩小至原始大小的一半*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（八）background-attachment"><a href="#（八）background-attachment" class="headerlink" title="（八）background-attachment"></a>（八）background-attachment</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-attachment</span>: scroll; <span class="comment">/*默认相对于容器固定*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-attachment</span>: local; <span class="comment">/*相对于内容固定*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-attachment</span>: fixed; <span class="comment">/*相对于视口固定*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（九）渐变生成器"><a href="#（九）渐变生成器" class="headerlink" title="（九）渐变生成器"></a>（九）渐变生成器</h2><h3 id="1-linear-gradient"><a href="#1-linear-gradient" class="headerlink" title="1.linear-gradient()"></a>1.linear-gradient()</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(red, orange); <span class="comment">/*默认重上到下渐变*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(red, 50%, orange); <span class="comment">/*改变中心点*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to bottom, red, orange); <span class="comment">/*设置方向*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to bottom right, red, orange); <span class="comment">/*对角渐变*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(180deg, red, orange); <span class="comment">/*设置角度*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(180deg, red 20%, orange 100%); <span class="comment">/*设置每种颜色渐变起点*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><img src="./angle.jpg" alt="图解angle"></p>
<h3 id="2-radial-gradient"><a href="#2-radial-gradient" class="headerlink" title="2.radial-gradient()"></a>2.radial-gradient()</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(red, orange); <span class="comment">/*默认重上到下渐变*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(at 0% 0%, red, orange); <span class="comment">/*改变中心点*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(at 0% 0%, red 20%, orange 80%); <span class="comment">/*设置每种颜色渐变起点*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(circle at 0% 0%, red 20%, orange 80%); <span class="comment">/*圆形放射*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse at 0% 0%, red 20%, orange 80%); <span class="comment">/*椭圆放射*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse closest-side at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最近的边结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse closest-corner at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最近的角结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse farthest-side at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最远的边结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse farthest-corner at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最远的角结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="3-repeating-linear-gradient"><a href="#3-repeating-linear-gradient" class="headerlink" title="3.repeating-linear-gradient()"></a>3.repeating-linear-gradient()</h3><h3 id="4-repeating-radial-gradient"><a href="#4-repeating-radial-gradient" class="headerlink" title="4.repeating-radial-gradient()"></a>4.repeating-radial-gradient()</h3><hr>
<h1 id="五、text"><a href="#五、text" class="headerlink" title="五、text"></a>五、text</h1><h2 id="（一）text-shadow"><a href="#（一）text-shadow" class="headerlink" title="（一）text-shadow"></a>（一）text-shadow</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> red;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>水平偏移量</li>
<li>垂直偏移量</li>
<li>模糊半径</li>
<li>颜色</li>
</ul>
<h2 id="（二）text-stroke"><a href="#（二）text-stroke" class="headerlink" title="（二）text-stroke"></a>（二）text-stroke</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">-webkit-text-stroke</span>: <span class="number">0px</span> red;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>描边宽度</li>
<li>描边颜色</li>
</ul>
<h2 id="（三）-font-face"><a href="#（三）-font-face" class="headerlink" title="（三）@font-face"></a>（三）@font-face</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">"fontName"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>() <span class="built_in">format</span>();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">"fontName"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（四）column"><a href="#（四）column" class="headerlink" title="（四）column"></a>（四）column</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">column-width</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">column-count</span>: <span class="number">4</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">column-gap</span>: <span class="number">20px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">column-rule</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">column-span</span>: all;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">column-fill</span>: balance;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>最小宽度</li>
<li>最大列数</li>
<li>间隙</li>
<li>分割线</li>
<li>跨列</li>
<li>列高</li>
</ul>
<hr>
<h1 id="六、box"><a href="#六、box" class="headerlink" title="六、box"></a>六、box</h1><h2 id="（一）混杂模式-box"><a href="#（一）混杂模式-box" class="headerlink" title="（一）混杂模式 box"></a>（一）混杂模式 box</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">box-sizing</span>: content-box;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li><p>W3C standards mode:</p>
<ul>
<li>boxWidth = width + padding(2) + border(2)</li>
<li>boxHeight = height + padding(2) + border(2)</li>
</ul>
</li>
<li><p>IE6 quirks mode:</p>
<ul>
<li>boxWidth = width</li>
<li>boxHeight = height</li>
</ul>
</li>
</ul>
<h2 id="（二）overflow"><a href="#（二）overflow" class="headerlink" title="（二）overflow"></a>（二）overflow</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: visible;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: hidden;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: scroll;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: auto;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>默认溢出显示</li>
<li>溢出隐藏</li>
<li>溢出滚动</li>
<li>溢出滚动</li>
<li>当一个方向设置非 visible 值，另一个就默认设置为 auto</li>
<li>resize 调整元素大小需要配合 overflow 属性使用才有效果</li>
</ul>
<hr>
<h2 id="（三）弹性盒子-flex"><a href="#（三）弹性盒子-flex" class="headerlink" title="（三）弹性盒子 flex"></a>（三）弹性盒子 flex</h2><h3 id="1-容器"><a href="#1-容器" class="headerlink" title="1.容器"></a>1.容器</h3><h4 id="（1）声明一个弹性容器"><a href="#（1）声明一个弹性容器" class="headerlink" title="（1）声明一个弹性容器"></a>（1）声明一个弹性容器</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">/*弹性容器*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">display</span>: flex;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">display</span>: inline-flex;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（2）主轴方向"><a href="#（2）主轴方向" class="headerlink" title="（2）主轴方向"></a>（2）主轴方向</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: row; <span class="comment">/*默认横向从左至右*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: row-reverse; <span class="comment">/*主轴横向从右至左*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: column; <span class="comment">/*主轴纵向从上至下*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: column-reverse; <span class="comment">/*主轴纵向从下至上*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（3）换行规则"><a href="#（3）换行规则" class="headerlink" title="（3）换行规则"></a>（3）换行规则</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-wrap</span>: nowrap; <span class="comment">/*默认不换行,若排列不下，则进行压缩*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-wrap</span>: wrap; <span class="comment">/*向下换行，不会压缩，排列不下就进行换行*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-wrap</span>: wrap-reverse; <span class="comment">/*向上换行，不会压缩，排列不下就进行换行*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><font color=red size=5>flex-flow: row nowrap; 复合属性：主轴方向 + 换行规则</font></p>
<h4 id="（4）主轴上项目排列规则"><a href="#（4）主轴上项目排列规则" class="headerlink" title="（4）主轴上项目排列规则"></a>（4）主轴上项目排列规则</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: flex-start; <span class="comment">/*默认头部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: center; <span class="comment">/*中部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: flex-end; <span class="comment">/*尾部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: space-between; <span class="comment">/*两端对齐，间隙均匀*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: space-around; <span class="comment">/*分散对齐，项目margin均匀*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（5）交叉轴上项目排列规则"><a href="#（5）交叉轴上项目排列规则" class="headerlink" title="（5）交叉轴上项目排列规则"></a>（5）交叉轴上项目排列规则</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: stretch; <span class="comment">/*若没有设置高度，默认自适应容器高度*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: flex-start; <span class="comment">/*头部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: center; <span class="comment">/*中部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: flex-end; <span class="comment">/*尾部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: baseline; <span class="comment">/*基线对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（6）主轴在容器中的排列规则（基于多轴操作）"><a href="#（6）主轴在容器中的排列规则（基于多轴操作）" class="headerlink" title="（6）主轴在容器中的排列规则（基于多轴操作）"></a>（6）主轴在容器中的排列规则（基于多轴操作）</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: stretch; <span class="comment">/*默认占满交叉轴,一端对齐交叉轴头部，间隙均匀*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: flex-start; <span class="comment">/*对齐交叉轴头部，无间隙排列*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: center; <span class="comment">/*对齐交叉轴中部，无间隙排列*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: flex-end; <span class="comment">/*对齐交叉轴尾部，无间隙排列*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: space-between; <span class="comment">/*两端对齐，间隙均匀*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: space-around; <span class="comment">/*分散对齐，margin均匀*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h3 id="2-项目"><a href="#2-项目" class="headerlink" title="2.项目"></a>2.项目</h3><h4 id="（1）项目的排列顺序"><a href="#（1）项目的排列顺序" class="headerlink" title="（1）项目的排列顺序"></a>（1）项目的排列顺序</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">order</span>: <span class="number">0</span>; <span class="comment">/*默认按结构顺序顺主轴顺序依次排列*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>order 数值越小在主轴平面上越靠前，在视觉层面上越靠后（类似于依次上升的台阶面）</strong></p>
<h4 id="（2）项目分配剩余空间的规则"><a href="#（2）项目分配剩余空间的规则" class="headerlink" title="（2）项目分配剩余空间的规则"></a>（2）项目分配剩余空间的规则</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">0</span>; <span class="comment">/*默认不延伸*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>兄弟项目按照分配比例占有剩余空间</strong></p>
<h4 id="（3）项目分摊超出空间的规则"><a href="#（3）项目分摊超出空间的规则" class="headerlink" title="（3）项目分摊超出空间的规则"></a>（3）项目分摊超出空间的规则</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-shrink</span>: <span class="number">0</span>; <span class="comment">/*默认不压缩*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>1.兄弟项目按照分摊比例和自身实际内容盒大小退让空间</strong><br><strong>2.被不折行内容撑开的项目不参与分摊</strong><br><strong>3.项目的 margin、border、padding 不参与分摊，即使超出也不会压缩</strong><br><img src="./shrink.png" alt="图解"></p>
<h4 id="（4）项目所占主轴的基础空间"><a href="#（4）项目所占主轴的基础空间" class="headerlink" title="（4）项目所占主轴的基础空间"></a>（4）项目所占主轴的基础空间</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">flex-basis</span>: auto; <span class="comment">/*默认项目的原大小*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>1.basis 基础空间通常是 min-width, width 空间通常是 max-width</strong><br><strong>2.empty 空元素通常以 basis 基础空间占有真实空间</strong><br><strong>3.若 basis 基础空间设置比 width 大，则 width 失去意义</strong><br><strong>4.若 basis 基础空间设置比 width 小，内容不折行把项目撑大，则 width 是可撑大的 max 最大极限</strong><br><font color=red size=5>flex: 0 0 auto; 复合属性：分配规则 + 分摊规则 + 基础空间</font></p>
<h4 id="（5）项目在交叉轴上的个性排列规则"><a href="#（5）项目在交叉轴上的个性排列规则" class="headerlink" title="（5）项目在交叉轴上的个性排列规则"></a>（5）项目在交叉轴上的个性排列规则</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: auto; <span class="comment">/*默认继承，若没有继承则等同于stretch*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: flex-start; <span class="comment">/*头部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: center; <span class="comment">/*中部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: flex-end; <span class="comment">/*尾部对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: baseline; <span class="comment">/*基线对齐*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: stretch; <span class="comment">/*若没有设置高度，自适应高度*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>项目设置的交叉轴个性排列 align-self 优于容器设置的交叉轴排列 align-items</strong><br><strong>项目设置的交叉轴个性排列 align-self 依然受容器设置的主轴排列 align-content 约束</strong></p>
<hr>
<h1 id="七、transition"><a href="#七、transition" class="headerlink" title="七、transition"></a>七、transition</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> ease <span class="number">1s</span>; <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transition-property</span>: all; <span class="comment">/*监听属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">1s</span>; <span class="comment">/*总时长*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transition-timing-function</span>: <span class="built_in">cubic-bezier</span>(t1, s1, t2, s2); <span class="comment">/*运动曲线*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transition-delay</span>: <span class="number">1s</span>; <span class="comment">/*延迟*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h1 id="八、animation"><a href="#八、animation" class="headerlink" title="八、animation"></a>八、animation</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> name &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  0% &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  25% &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  50% &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  75% &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  100% &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation</span>: name <span class="number">1s</span> ease <span class="number">1s</span>; <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-name</span>: name; <span class="comment">/*动画名与keyframes对应*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">1s</span>; <span class="comment">/*总时长*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: <span class="built_in">cubic-bezier</span>(t1, s1, t2, s2); <span class="comment">/*运动曲线*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: ease; <span class="comment">/*运动曲线*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: <span class="built_in">steps</span>(</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    count,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    end</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  ); <span class="comment">/*运动步数, end保留当前帧直到这段动画时间结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: <span class="built_in">steps</span>(</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">    count,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    start</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">  ); <span class="comment">/*运动步数, start保留下一帧直到这段动画时间结束*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">1s</span>; <span class="comment">/*延迟*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-iteration-count</span>: <span class="number">1</span>; <span class="comment">/*循环次数,默认循环一次*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-iteration-count</span>: infinite; <span class="comment">/*无限循环*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: normal; <span class="comment">/*方向，默认正向运行*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: reverse; <span class="comment">/*反向运行*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: alternate; <span class="comment">/*单数次正向，双数次反向*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">48</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: alternate-reverse; <span class="comment">/*双数次正向，当数次反向*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">49</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">50</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-play-state</span>: running; <span class="comment">/*运动状态*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">51</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-play-state</span>: paused; <span class="comment">/*暂停状态*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">52</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">53</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: none; <span class="comment">/*默认不应用*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">54</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: forwards; <span class="comment">/*结束保留最后一帧状态*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">55</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: backwards; <span class="comment">/*开始应用第一帧状态*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">56</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: both; <span class="comment">/*开始、结束都应用*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">57</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>from 可代替 0%，to 代替 100%，也可混合使用</li>
<li>运动曲线会应用在每一段动画上，无法单段控制，也不是控制整个动画</li>
<li>延迟只会用在第一次动画之前，循环多次的看作整体动画，每一次之前并不会延迟</li>
<li>在 steps 中，end 丢失最后一针可以用 forwards 弥补，但 start 丢失的第一帧无法用 backwords 弥补，除非有延迟</li>
<li>steps(1, end) 可简写成 step-end; steps(1, start) 可以简写成 step-start</li>
</ul>
<hr>
<h1 id="九、transform"><a href="#九、transform" class="headerlink" title="九、transform"></a>九、transform</h1><h2 id="（一）rotate-旋转"><a href="#（一）rotate-旋转" class="headerlink" title="（一）rotate 旋转"></a>（一）rotate 旋转</h2><h3 id="1-rotate-angle"><a href="#1-rotate-angle" class="headerlink" title="1.rotate(angle)"></a>1.rotate(angle)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(90deg);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0.25turn);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform-origin</span>: center center;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 旋转</li>
<li>正度数顺时针，负度数逆时针</li>
<li>transform-origin 设置旋转中心（0，0）相当于左上角点</li>
</ul>
<h3 id="2-rotateX-angle-、rotateY-angle-、rotateZ-angle"><a href="#2-rotateX-angle-、rotateY-angle-、rotateZ-angle" class="headerlink" title="2.rotateX(angle)、rotateY(angle)、rotateZ(angle)"></a>2.rotateX(angle)、rotateY(angle)、rotateZ(angle)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateX</span>(45deg);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(45deg);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-45deg);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 旋转</li>
<li>沿着坐标轴旋转</li>
<li>在 3d 旋转中坐标轴会跟随旋转一起变化，旋转顺序不同，即使旋转角度一样，旋转效果也不一样</li>
</ul>
<h3 id="3-rotate3d-x-y-z-angle"><a href="#3-rotate3d-x-y-z-angle" class="headerlink" title="3.rotate3d(x,y,z,angle)"></a>3.rotate3d(x,y,z,angle)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate3d</span>(1, 1, 0, 45deg);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 旋转</li>
<li>x,y,z 的比例定义一条空间矢量射线，这条射线即为旋转轴</li>
</ul>
<hr>
<h2 id="（二）scale-伸缩"><a href="#（二）scale-伸缩" class="headerlink" title="（二）scale 伸缩"></a>（二）scale 伸缩</h2><h3 id="1-scale-x-y"><a href="#1-scale-x-y" class="headerlink" title="1.scale(x, y)"></a>1.scale(x, y)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1, 1);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 伸缩</li>
<li>scale 伸缩的是变化坐标轴的刻度</li>
<li>伸缩轴会随旋转而发生变化</li>
<li>伸缩会保留影响，所以伸缩顺序的不同，效果也不同</li>
<li>书写多个不会覆盖，而是叠加操作，例如 scale(0.5, 0.5), scale(3, 3)相当于 scale(1.5, 1.5)</li>
<li>书写只设置一个值，相当于设置了两个一样的值</li>
</ul>
<h3 id="2-scaleX-num-、scaleY-num-、scaleZ-num-、scale3d-x-y-z"><a href="#2-scaleX-num-、scaleY-num-、scaleZ-num-、scale3d-x-y-z" class="headerlink" title="2.scaleX(num)、scaleY(num)、scaleZ(num)、scale3d(x,y,z)"></a>2.scaleX(num)、scaleY(num)、scaleZ(num)、scale3d(x,y,z)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(2); <span class="comment">/*X轴刻度为原来的2倍*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(3); <span class="comment">/*Y轴刻度为原来的3倍*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleZ</span>(0.5); <span class="comment">/*Z轴刻度为原来的0.5倍*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale3d</span>(2, 3, 0.5); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 伸缩</li>
<li>scale3d 为简写属性</li>
</ul>
<hr>
<h2 id="（三）skew-扭曲"><a href="#（三）skew-扭曲" class="headerlink" title="（三）skew 扭曲"></a>（三）skew 扭曲</h2><h3 id="1-skew-angle-angle-、skewX-angle-、skewY-angle"><a href="#1-skew-angle-angle-、skewX-angle-、skewY-angle" class="headerlink" title="1.skew(angle,angle)、skewX(angle)、skewY(angle)"></a>1.skew(angle,angle)、skewX(angle)、skewY(angle)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skew</span>(45deg, 90deg); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skewX</span>(45deg); <span class="comment">/*y轴顺时针向x轴倾斜45度*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skewY</span>(-45deg); <span class="comment">/*x轴逆时针向y轴倾斜45度*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 扭曲</li>
<li>skew 倾斜的是坐标轴，会保留影响</li>
<li>skew 不仅倾斜坐标轴，而且也会拉伸坐标轴刻度</li>
</ul>
<hr>
<h2 id="（四）translate-平移"><a href="#（四）translate-平移" class="headerlink" title="（四）translate 平移"></a>（四）translate 平移</h2><h3 id="1-translate-x-y-、translateX-num-、translateY-num"><a href="#1-translate-x-y-、translateX-num-、translateY-num" class="headerlink" title="1.translate(x, y)、translateX(num)、translateY(num)"></a>1.translate(x, y)、translateX(num)、translateY(num)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(100px, 100px); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(100px); <span class="comment">/*沿着x轴正方向平移100px*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-100px); <span class="comment">/*沿着y轴负方向平移100px*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 平移</li>
</ul>
<h3 id="2-translate3d-x-y-z-、translateX-num-、translateY-num-、translateZ-num"><a href="#2-translate3d-x-y-z-、translateX-num-、translateY-num-、translateZ-num" class="headerlink" title="2.translate3d(x, y, z)、translateX(num)、translateY(num)、translateZ(num)"></a>2.translate3d(x, y, z)、translateX(num)、translateY(num)、translateZ(num)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(100px, 100px, -100px); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(100px); <span class="comment">/*沿着x轴正方向平移100px*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-100px); <span class="comment">/*沿着y轴负方向平移100px*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(-100px); <span class="comment">/*沿着z轴负方向平移100px*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 平移</li>
</ul>
<hr>
<h2 id="（五）perspective-景深"><a href="#（五）perspective-景深" class="headerlink" title="（五）perspective 景深"></a>（五）perspective 景深</h2><ul>
<li><font color=red size=5>视觉所看到的效果全都是元素的投影</font></li>
</ul>
<h3 id="1-容器上的景深"><a href="#1-容器上的景深" class="headerlink" title="1.容器上的景深"></a>1.容器上的景深</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">perspective</span>: <span class="number">800px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">perspective-origin</span>: center center;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（1）-元素不动，无论景深大小，元素始终不变"><a href="#（1）-元素不动，无论景深大小，元素始终不变" class="headerlink" title="（1）.元素不动，无论景深大小，元素始终不变"></a>（1）.元素不动，无论景深大小，元素始终不变</h4><img src="./perspective (1).png">
<img src="./perspective (2).png">

<h4 id="（2）-景深不变，元素在-Z-轴方向上，越向正方形移动则月大；越向负方向移动则越小"><a href="#（2）-景深不变，元素在-Z-轴方向上，越向正方形移动则月大；越向负方向移动则越小" class="headerlink" title="（2）.景深不变，元素在 Z 轴方向上，越向正方形移动则月大；越向负方向移动则越小"></a>（2）.景深不变，元素在 Z 轴方向上，越向正方形移动则月大；越向负方向移动则越小</h4><img src="./perspective (3).png">
<img src="./perspective (4).png">

<h4 id="（3）-元素在-Z-轴负方上的时候，景深越小，元素越小"><a href="#（3）-元素在-Z-轴负方上的时候，景深越小，元素越小" class="headerlink" title="（3）.元素在 Z 轴负方上的时候，景深越小，元素越小"></a>（3）.元素在 Z 轴负方上的时候，景深越小，元素越小</h4><img src="./perspective (5).png">
<img src="./perspective (6).png">

<h3 id="2-项目上的景深"><a href="#2-项目上的景深" class="headerlink" title="2.项目上的景深"></a>2.项目上的景深</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(800px);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>项目上的景深视角可不设置，默认在元素的 center center；</li>
<li>景深的取值范围 1 到正无穷，默认值 none；</li>
<li>景深的效果可叠加</li>
</ul>
<h3 id="3-容器-3d-堆叠上下文"><a href="#3-容器-3d-堆叠上下文" class="headerlink" title="3.容器 3d 堆叠上下文"></a>3.容器 3d 堆叠上下文</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform-style</span>: flat; <span class="comment">/*默认2d*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d; <span class="comment">/*3d*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="4-项目上的空间变换中心"><a href="#4-项目上的空间变换中心" class="headerlink" title="4.项目上的空间变换中心"></a>4.项目上的空间变换中心</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="5-背面是否可见"><a href="#5-背面是否可见" class="headerlink" title="5.背面是否可见"></a>5.背面是否可见</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">backface-visibility</span>: visible; <span class="comment">/*默认可见*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="attribute">backface-visibility</span>: hidden; <span class="comment">/*不可见*/</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h2 id="（六）matrix-矩阵"><a href="#（六）matrix-矩阵" class="headerlink" title="（六）matrix 矩阵"></a>（六）matrix 矩阵</h2><h3 id="1-2D-matrix-a-b-c-d-e-f"><a href="#1-2D-matrix-a-b-c-d-e-f" class="headerlink" title="1.2D matrix(a,b,c,d,e,f)"></a>1.2D matrix(a,b,c,d,e,f)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">|a|c|e| * |X| &#x3D; |aX + cY + 0|</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">|b|d|f| * |Y| &#x3D; |bX + dY + 0|</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">|0|0|1| * |0| &#x3D; |0|</span></pre></td></tr></table></figure>

<h3 id="2-3D-matrix-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16"><a href="#2-3D-matrix-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16" class="headerlink" title="2.3D matrix(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)"></a>2.3D matrix(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">|1|5|9 |13| * |X| &#x3D; |1X + 5Y + 9Z + 0|</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">|2|6|10|14| * |Y| &#x3D; |2X + 6Y + 10Z + 0|</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">|3|7|11|15| * |Z| &#x3D; |3X + 7Y + 11Z + 0|</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">|4|8|12|16| * |0| &#x3D; |4X + 8Y + 12Z + 0|</span></pre></td></tr></table></figure>
<hr>
<h1 id="十、网页设计"><a href="#十、网页设计" class="headerlink" title="十、网页设计"></a>十、网页设计</h1><h2 id="（一）显示器成像原理"><a href="#（一）显示器成像原理" class="headerlink" title="（一）显示器成像原理"></a>（一）显示器成像原理</h2><h3 id="1-空间混色法"><a href="#1-空间混色法" class="headerlink" title="1.空间混色法"></a>1.空间混色法</h3><h4 id="（1）像点"><a href="#（1）像点" class="headerlink" title="（1）像点"></a>（1）像点</h4><ul>
<li>一个像素由r、g、b三个像点构成</li>
<li>像点材料实际是平铺的<img src="./pin.png">
<img src="./shange.png">

</li>
</ul>
<h4 id="（2）点距"><a href="#（2）点距" class="headerlink" title="（2）点距"></a>（2）点距</h4><ul>
<li>相同像点的间距<img src="./pin-x.png">
<img src="./shange-x.png">

</li>
</ul>
<h4 id="（3）CRT显示屏"><a href="#（3）CRT显示屏" class="headerlink" title="（3）CRT显示屏"></a>（3）CRT显示屏</h4><ul>
<li>电子枪 → 高频电子束 → 荫罩层 → 荧光粉<img src="./CRT.png">

</li>
</ul>
<h4 id="（4）LCD液晶屏"><a href="#（4）LCD液晶屏" class="headerlink" title="（4）LCD液晶屏"></a>（4）LCD液晶屏</h4><ul>
<li>光 → 磁场A → 液晶 → 磁场B → 滤光片<img src="./LCD.png">
</li>
</ul>
<hr>
<h3 id="2-像素"><a href="#2-像素" class="headerlink" title="2.像素"></a>2.像素</h3><h4 id="（1）物理像素"><a href="#（1）物理像素" class="headerlink" title="（1）物理像素"></a>（1）物理像素</h4><ul>
<li>设备出厂时，像素的大小</li>
<li>ppi 一英寸所能容纳的像素点数/点距数（1 in = 2.54 cm）</li>
<li>dpi 一英寸所能打印的墨点数</li>
</ul>
<h4 id="（2）参照像素、css像素、逻辑像素"><a href="#（2）参照像素、css像素、逻辑像素" class="headerlink" title="（2）参照像素、css像素、逻辑像素"></a>（2）参照像素、css像素、逻辑像素</h4><ul>
<li>标杆：96dpi 一臂距离的视角去看，显示出的具体大小</li>
<li>我们也管css编程的逻辑像素方式，叫做逻辑屏</li>
</ul>
<h4 id="（3）设备像素比-dpr"><a href="#（3）设备像素比-dpr" class="headerlink" title="（3）设备像素比 dpr"></a>（3）设备像素比 dpr</h4><ul>
<li>dpr = 物理像素/逻辑像素</li>
<li>在设备上，一个逻辑像素用多少个物理像素去实现</li>
</ul>
<hr>
<h3 id="3-分辨率"><a href="#3-分辨率" class="headerlink" title="3.分辨率"></a>3.分辨率</h3><ul>
<li>固定宽高下，展示的像素点数</li>
</ul>
<hr>
<h2 id="（二）layout"><a href="#（二）layout" class="headerlink" title="（二）layout"></a>（二）layout</h2><h3 id="1-浏览器渲染引擎"><a href="#1-浏览器渲染引擎" class="headerlink" title="1.浏览器渲染引擎"></a>1.浏览器渲染引擎</h3><img src="./render.png">

<h3 id="2-reflow"><a href="#2-reflow" class="headerlink" title="2.reflow"></a>2.reflow</h3><ul>
<li>改变窗口大小</li>
<li>改变文字大小</li>
<li>改变元素大小、位置</li>
<li>内容的改变、输入框输入文字</li>
<li>激活伪类，例如：hover</li>
<li>操作class属性</li>
<li>脚本操作dom</li>
<li>计算offsetWidth、offsetHeight</li>
<li>设置style属性</li>
</ul>
<h3 id="3-repaint"><a href="#3-repaint" class="headerlink" title="3.repaint"></a>3.repaint</h3><ul>
<li>改变元素背景色、文字颜色、边框颜色、不影响周围布局的属性</li>
</ul>
<h3 id="4-css3性能优化"><a href="#4-css3性能优化" class="headerlink" title="4.css3性能优化"></a>4.css3性能优化</h3><ul>
<li>will-change: transform;</li>
</ul>
<hr>
<h2 id="（三）响应式"><a href="#（三）响应式" class="headerlink" title="（三）响应式"></a>（三）响应式</h2><h3 id="1-mate"><a href="#1-mate" class="headerlink" title="1.mate"></a>1.mate</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0， user-scalable=no"</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>width=device-width在iphone、ipad中横竖屏宽度一致</li>
<li>initial-scale=1.0在windows中iphone IE浏览器的横竖屏抗毒一致</li>
<li>user-scalable=no是否允许用户缩放</li>
<li>将页面大小根据不同分辨率进行调节，以示用户的大小感觉上差不多</li>
</ul>
<h3 id="2-媒体查询"><a href="#2-媒体查询" class="headerlink" title="2.媒体查询"></a>2.媒体查询</h3><ul>
<li>在不同的设备上均展示合适的页面</li>
<li>主要断点：设备宽度的临界点</li>
<li>媒体查询并不加强权重</li>
</ul>
<h3 id="3-媒体查询引用"><a href="#3-媒体查询引用" class="headerlink" title="3.媒体查询引用"></a>3.媒体查询引用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"index.css"</span> <span class="attr">media</span>=<span class="string">"screen and (max-width=300px)"</span>/&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen and (max-width=300px)"</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="css">  @<span class="keyword">import</span> <span class="string">"index.css"</span> screen and (max-width=<span class="number">300px</span>);</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"><span class="css">  @<span class="keyword">media</span> screen and (max-width=<span class="number">300px</span>)&#123;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>在link标签的media属性定义</li>
<li>在style标签的media属性定义</li>
<li>在@import引入语句中定义</li>
<li>在样式表内部通过@media规则定义</li>
</ul>
<h3 id="4-单位"><a href="#4-单位" class="headerlink" title="4.单位"></a>4.单位</h3><ul>
<li>px 逻辑像素</li>
<li>em 相对于自身的font-size倍数（font-size会继承）</li>
<li>rem 相对于root的font-size倍数</li>
<li>vw/vh 相对于视口宽高的均分100份</li>
<li>vmax 相对于视口宽高较大的均分100份</li>
<li>vmin 相对于视口宽高较小的均分100份</li>
</ul>
<hr>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huafuhub.github.io/blog/2020/01/02/CSS3a/" data-id="ck73cha1x0002w8tg2npzfuga"
        class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2020
        Huafu Li
      </li>
      <li>
        
          Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <ul class="list-inline">
  <li>PV:<span id="busuanzi_value_page_pv"></span></li>
  <li>UV:<span id="busuanzi_value_site_uv"></span></li>
</ul>
        
      </li>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
    
      <aside class="sidebar">
        
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/blog/"><img src="http://localhost:4000/blog/mouse.svg" alt="“鼠”于Huafu的“2”！"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/archives">目录</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/about">关于</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/pictures">相册</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/blog/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/blog/./images/alipay.png">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/blog/./images/wechat.png">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
      <script src="/blog/js/jquery-2.0.3.min.js"></script>
<script src="/blog/js/jquery.justifiedGallery.min.js"></script>
<script src="/blog/js/lazyload.min.js"></script>
<script src="/blog/js/busuanzi-2.3.pure.min.js"></script>

  <script src="/blog/fancybox/jquery.fancybox.min.js"></script>




<script>
  var ayerConfig = {
    mathjax: false
  }
</script>

<script src="/blog/js/ayer.js"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">



<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>
  
  

  </div>
</body>

</html>