<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>PACKb</title>
    <url>/blog/2020/11/09/PACKb/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>包管理工具</title>
    <url>/blog/2020/11/09/PACKa/</url>
    <content><![CDATA[<h1 id="包管理工具概述"><a href="#包管理工具概述" class="headerlink" title="包管理工具概述"></a>包管理工具概述</h1><blockquote>
<p>本门课程的前置知识：JavaScript、ES6、模块化、git<br>本门课程的所有代码均书写在 nodejs 环境中，不涉及浏览器环境</p>
</blockquote>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>模块（module）</strong></p>
<p>通常以单个文件形式存在的功能片段，入口文件通常称之为<strong>入口模块</strong>或<strong>主模块</strong></p>
<p><strong>库（library，简称lib）</strong></p>
<p>以一个或多个模块组成的完整功能块，为开发中某一方面的问题提供完整的解决方案</p>
<p><strong>包（package）</strong></p>
<p>包含元数据的库，这些元数据包括：名称、描述、git主页、许可证协议、作者、依赖等等</p>
<p><img src="assets/2019-12-13-10-39-18.png" alt=""></p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>CommonJS 的出现，使 node 环境下的 JS 代码可以用模块更加细粒度的划分。一个类、一个函数、一个对象、一个配置等等均可以作为模块，这种细粒度的划分，是开发大型应用的基石。</p>
<p>为了解决在开发过程中遇到的常见问题，比如加密、提供常见的工具方法、模拟数据等等，一时间，在前端社区涌现了大量的第三方库。这些库使用 CommonJS 标准书写而成，非常容易使用。</p>
<p>然而，在下载使用这些第三方库的时候，遇到难以处理的问题：</p>
<ul>
<li><strong>下载过程繁琐</strong><ul>
<li>进入官网或 github 主页</li>
<li>找到并下载相应的版本</li>
<li>拷贝到工程的目录中</li>
<li>如果遇到有同名的库，需要更改名称</li>
</ul>
</li>
<li><strong>如果该库需要依赖其他库，还需要按照要求先下载其他库</strong></li>
<li><strong>开发环境中安装的大量的库如何在生产环境中还原，又如何区分</strong></li>
<li><strong>更新一个库极度麻烦</strong></li>
<li><strong>自己开发的库，如何在下一次开发使用</strong></li>
</ul>
<p><strong>以上问题，就是包管理工具要解决的问题</strong></p>
<h2 id="前端包管理器"><a href="#前端包管理器" class="headerlink" title="前端包管理器"></a>前端包管理器</h2><blockquote>
<p>本门课程讲解的包管理器<br>npm：重点<br>yarn：次重点<br>其他：了解</p>
</blockquote>
<p>几乎可以这样认为，前端所有的包管理器都是基于 npm 的，目前，npm 即是一个包管理器，也是其他包管理的基石</p>
<p>npm 全称为 node package manager，即 node 包管理器，它运行在 node 环境中，让开发者可以用简单的方式完成包的查找、安装、更新、卸载、上传等操作</p>
<blockquote>
<p>npm 之所以要运行在 node 环境，而不是浏览器环境，根本原因是因为浏览器环境无法提供下载、删除、读取本地文件的功能。而 node 属于服务器环境，没有浏览器的种种限制，理论上可以完全掌控运行 node 的计算机。</p>
</blockquote>
<p>npm 的出现，弥补了 node 没有包管理器的缺陷，于是很快，node 在安装文件中内置了 npm，当开发者安装好 node 之后，就自动安装了 npm，不仅如此，node 环境还专门为 npm 提供了良好的支持，使用 npm 下载的包更加方便了。</p>
<p>npm 由三部分组成：</p>
<ul>
<li>registry：入口<ul>
<li>可以把它想象成一个庞大的数据库</li>
<li>第三方库的开发者，将自己的库按照 npm 的规范，打包上传到数据库中</li>
<li>使用者通过统一的地址下载第三方包</li>
</ul>
</li>
<li>官网：<a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a><ul>
<li>查询包</li>
<li>注册、登录、管理个人信息</li>
</ul>
</li>
<li>CLI：command-line interface 命令行接口<ul>
<li>这一部分是本门课讲解的重点</li>
<li>安装好 npm 后，通过 CLI 来使用 npm 的各种功能</li>
</ul>
</li>
</ul>
<blockquote>
<p>node 和 npm 是互相成就的，node 的出现让 npm 火了，npm 的火爆带动了大量的第三方库的发展，很多优秀的第三方库打包上传到了 npm，这些第三方库又为 node 带来了大量的用户</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>ES6模块化标准</title>
    <url>/blog/2020/11/09/MODULEd/</url>
    <content><![CDATA[<h1 id="ES6模块化简介"><a href="#ES6模块化简介" class="headerlink" title="ES6模块化简介"></a>ES6模块化简介</h1><p>ECMA组织参考了众多社区模块化标准，终于在2015年，随着ES6发布了官方的模块化标准，后成为ES6模块化</p>
<p>ES6模块化具有以下的特点</p>
<ol>
<li>使用依赖<strong>预声明</strong>的方式导入模块<ol>
<li>依赖延迟声明<ol>
<li>优点：某些时候可以提高效率</li>
<li>缺点：无法在一开始确定模块依赖关系（比较模糊）</li>
</ol>
</li>
<li>依赖预声明<ol>
<li>优点：在一开始可以确定模块依赖关系</li>
<li>缺点：某些时候效率较低</li>
</ol>
</li>
</ol>
</li>
<li>灵活的多种导入导出方式</li>
<li>规范的路径表示法：所有路径必须以./或../开头</li>
</ol>
<h1 id="基本导入导出"><a href="#基本导入导出" class="headerlink" title="基本导入导出"></a>基本导入导出</h1><h2 id="模块的引入"><a href="#模块的引入" class="headerlink" title="模块的引入"></a>模块的引入</h2><p><strong>注意：这一部分非模块化标准</strong></p>
<p>目前，浏览器使用以下方式引入一个ES6模块文件</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"入口文件"</span> <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span></span></pre></td></tr></table></figure>

<h2 id="模块的基本导出和导入"><a href="#模块的基本导出和导入" class="headerlink" title="模块的基本导出和导入"></a>模块的基本导出和导入</h2><p>ES6中的模块导入导出分为两种：</p>
<ol>
<li>基本导入导出</li>
<li>默认导入导出</li>
</ol>
<p><img src="assets/2019-12-03-17-00-44.png" alt=""></p>
<h3 id="基本导出"><a href="#基本导出" class="headerlink" title="基本导出"></a>基本导出</h3><p>类似于 <code>exports.xxx = xxxx</code></p>
<p>基本导出可以有多个，每个必须有名称</p>
<p>基本导出的语法如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> 声明表达式</span></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;具名符号&#125;</span></pre></td></tr></table></figure>

<p>由于基本导出必须具有名称，所以要求导出内容必须跟上<strong>声明表达式</strong>或<strong>具名符号</strong></p>
<h3 id="基本导入"><a href="#基本导入" class="headerlink" title="基本导入"></a>基本导入</h3><p>由于使用的是<strong>依赖预加载</strong>，因此，导入任何其他模块，导入代码必须放置到所有代码之前</p>
<p>对于基本导出，如果要进行导入，使用下面的代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;导入的符号列表&#125; <span class="keyword">from</span> <span class="string">"模块路径"</span></span></pre></td></tr></table></figure>

<p>注意以下细节：</p>
<ul>
<li>导入时，可以通过关键字<code>as</code>对导入的符号进行重命名</li>
<li>导入时使用的符号是常量，不可修改</li>
<li>可以使用*号导入所有的基本导出，形成一个对象</li>
</ul>
<h1 id="默认导入导出"><a href="#默认导入导出" class="headerlink" title="默认导入导出"></a>默认导入导出</h1><p><img src="assets/2019-12-03-17-00-44.png" alt=""></p>
<h2 id="默认导出"><a href="#默认导出" class="headerlink" title="默认导出"></a>默认导出</h2><p>每个模块，除了允许有多个基本导出之外，还允许有一个默认导出</p>
<p>默认导出类似于CommonJS中的<code>module.exports</code>，由于只有一个，因此无需具名</p>
<p>具体的语法是</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> 默认导出的数据</span></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;默认导出的数据 <span class="keyword">as</span> <span class="keyword">default</span>&#125;</span></pre></td></tr></table></figure>

<p>由于每个模块仅允许有一个默认导出，因此，每个模块不能出现多个默认导出语句</p>
<h2 id="默认导入"><a href="#默认导入" class="headerlink" title="默认导入"></a>默认导入</h2><p>需要想要导入一个模块的默认导出，需要使用下面的语法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> 接收变量名 <span class="keyword">from</span> <span class="string">"模块路径"</span></span></pre></td></tr></table></figure>

<p>类似于CommonJS中的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> 接收变量名 = <span class="built_in">require</span>(<span class="string">"模块路径"</span>)</span></pre></td></tr></table></figure>

<p>由于默认导入时变量名是自行定义的，因此没有别名一说</p>
<p>如果希望同时导入某个模块的默认导出和基本导出，可以使用下面的语法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> 接收默认导出的变量, &#123;接收基本导出的变量&#125; <span class="keyword">from</span> <span class="string">"模块路径"</span></span></pre></td></tr></table></figure>

<p>注：如果使用*号，会将所有基本导出和默认导出聚合到一个对象中，默认导出会作为属性default存在</p>
<h1 id="ES6模块化的其他细节"><a href="#ES6模块化的其他细节" class="headerlink" title="ES6模块化的其他细节"></a>ES6模块化的其他细节</h1><ol>
<li><strong>尽量导出不可变值</strong></li>
</ol>
<p>当导出一个内容时，尽量保证该内容是不可变的（大部分情况都是如此）</p>
<p>因为，虽然导入后，无法更改导入内容，但是在导入的模块内部却有可能发生更改，这将导致一些无法预料的事情发生</p>
<ol start="2">
<li><strong>可以使用无绑定的导入用于执行一些初始化代码</strong></li>
</ol>
<p>如果我们只是想执行模块中的一些代码，而不需要导入它的任何内容，可以使用无绑定的导入：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"模块路径"</span></span></pre></td></tr></table></figure>

<ol start="3">
<li><strong>可以使用绑定再导出，来重新导出来自另一个模块的内容</strong></li>
</ol>
<p>有的时候，我们可能需要用一个模块封装多个模块，然后有选择的将多个模块的内容分别导出，可以使用下面的语法轻松完成</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;绑定的标识符&#125; <span class="keyword">from</span> <span class="string">"模块路径"</span></span></pre></td></tr></table></figure>

<p><img src="assets/2019-12-04-14-33-14.png" alt=""></p>
]]></content>
  </entry>
  <entry>
    <title>AMD与CMD模块化标准</title>
    <url>/blog/2020/11/09/MODULEc/</url>
    <content><![CDATA[<h1 id="浏览器端模块化的难题"><a href="#浏览器端模块化的难题" class="headerlink" title="浏览器端模块化的难题"></a>浏览器端模块化的难题</h1><p><strong>CommonJS的工作原理</strong></p>
<p>当使用<code>require(模块路径)</code>导入一个模块时，node会做以下两件事情（不考虑模块缓存）：</p>
<ol>
<li>通过模块路径找到本机文件，并读取文件内容</li>
<li>将文件中的代码放入到一个函数环境中执行，并将执行后module.exports的值作为require函数的返回结果</li>
</ol>
<p>正是这两个步骤，使得CommonJS在node端可以良好的被支持</p>
<p>可以认为，<strong>CommonJS是同步的</strong>，必须要等到加载完文件并执行完代码后才能继续向后执行</p>
<p><strong>当浏览器遇到CommonJS</strong></p>
<p>当想要把CommonJS放到浏览器端时，就遇到了一些挑战</p>
<ol>
<li>浏览器要加载JS文件，需要远程从服务器读取，而网络传输的效率远远低于node环境中读取本地文件的效率。由于CommonJS是同步的，这会极大的降低运行性能</li>
<li>如果需要读取JS文件内容并把它放入到一个环境中执行，需要浏览器厂商的支持，可是浏览器厂商不愿意提供支持，最大的原因是CommonJS属于社区标准，并非官方标准</li>
</ol>
<p><strong>新的规范</strong></p>
<p>基于以上两点原因，浏览器无法支持模块化</p>
<p>可这并不代表模块化不能在浏览器中实现</p>
<p>要在浏览器中实现模块化，只要能解决上面的两个问题就行了</p>
<p>解决办法其实很简单：</p>
<ol>
<li>远程加载JS浪费了时间？做成异步即可，加载完成后调用一个回调就行了</li>
<li>模块中的代码需要放置到函数中执行？编写模块时，直接放函数中就行了</li>
</ol>
<p>基于这种简单有效的思路，出现了AMD和CMD规范，有效的解决了浏览器模块化的问题。</p>
<h1 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h1><p>全称是Asynchronous Module Definition，即异步模块加载机制</p>
<p>require.js实现了AMD规范</p>
<p>在AMD中，导入和导出模块的代码，都必须放置在define函数中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">define([依赖的模块列表], <span class="function"><span class="keyword">function</span>(<span class="params">模块名称列表</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//模块内部的代码</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> 导出的内容</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>

<h1 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h1><p>全称是Common Module Definition，公共模块定义规范</p>
<p>sea.js实现了CMD规范</p>
<p>在CMD中，导入和导出模块的代码，都必须放置在define函数中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//模块内部的代码</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>CommonJS模块化标准</title>
    <url>/blog/2020/11/09/MODULEb/</url>
    <content><![CDATA[<h1 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h1><p>在nodejs中，由于有且仅有一个入口文件（启动文件），而开发一个应用肯定会涉及到多个文件配合，因此，nodejs对模块化的需求比浏览器端要大的多</p>
<p><img src="assets/2019-12-02-11-15-01.png" alt=""></p>
<p>由于nodejs刚刚发布的时候，前端没有统一的、官方的模块化规范，因此，它选择使用社区提供的CommonJS作为模块化规范</p>
<p>在学习CommonJS之前，首先认识两个重要的概念：<strong>模块的导出</strong>和<strong>模块的导入</strong></p>
<h2 id="模块的导出"><a href="#模块的导出" class="headerlink" title="模块的导出"></a>模块的导出</h2><p>要理解模块的导出，首先要理解模块的含义</p>
<p>什么是模块？</p>
<p>模块就是一个JS文件，它实现了一部分功能，并隐藏自己的内部实现，同时提供了一些接口供其他模块使用</p>
<p>模块有两个核心要素：<strong>隐藏</strong>和<strong>暴露</strong></p>
<p>隐藏的，是自己内部的实现</p>
<p>暴露的，是希望外部使用的接口</p>
<p>任何一个正常的模块化标准，都应该默认隐藏模块中的所有实现，而通过一些语法或api调用来暴露接口</p>
<p><strong>暴露接口的过程即模块的导出</strong></p>
<p><img src="assets/2019-12-02-11-27-12.png" alt=""></p>
<h2 id="模块的导入"><a href="#模块的导入" class="headerlink" title="模块的导入"></a>模块的导入</h2><p>当需要使用一个模块时，使用的是该模块暴露的部分（导出的部分），隐藏的部分是永远无法使用的。</p>
<p><strong>当通过某种语法或api去使用一个模块时，这个过程叫做模块的导入</strong></p>
<h2 id="CommonJS规范"><a href="#CommonJS规范" class="headerlink" title="CommonJS规范"></a>CommonJS规范</h2><p>CommonJS使用<code>exports</code>导出模块，<code>require</code>导入模块</p>
<p>具体规范如下：</p>
<ol>
<li>如果一个JS文件中存在<code>exports</code>或<code>require</code>，该JS文件是一个模块</li>
<li>模块内的所有代码均为隐藏代码，包括全局变量、全局函数，这些全局的内容均不应该对全局变量造成任何污染</li>
<li>如果一个模块需要暴露一些API提供给外部使用，需要通过<code>exports</code>导出，<code>exports</code>是一个空的对象，你可以为该对象添加任何需要导出的内容</li>
<li>如果一个模块需要导入其他模块，通过<code>require</code>实现，<code>require</code>是一个函数，传入模块的路径即可返回该模块导出的整个内容</li>
</ol>
<h2 id="nodejs对CommonJS的实现"><a href="#nodejs对CommonJS的实现" class="headerlink" title="nodejs对CommonJS的实现"></a>nodejs对CommonJS的实现</h2><p>为了实现CommonJS规范，nodejs对模块做出了以下处理</p>
<ol>
<li><p>为了保证高效的执行，仅加载必要的模块。nodejs只有执行到<code>require</code>函数时才会加载并执行模块</p>
</li>
<li><p>为了隐藏模块中的代码，nodejs执行模块时，会将模块中的所有代码放置到一个函数中执行，以保证不污染全局变量。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//模块中的代码</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)()</span></pre></td></tr></table></figure>
</li>
<li><p>为了保证顺利的导出模块内容，nodejs做了以下处理</p>
<ol>
<li>在模块开始执行前，初始化一个值<code>module.exports = {}</code></li>
<li><code>module.exports</code>即模块的导出值</li>
<li>为了方便开发者便捷的导出，nodejs在初始化完<code>module.exports</code>后，又声明了一个变量<code>exports = module.exports</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">module</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">module</span>.exports = &#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> exports = <span class="built_in">module</span>.exports;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//模块中的代码</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">module</span>.exports;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)()</span></pre></td></tr></table></figure></li>
<li><p>为了避免反复加载同一个模块，nodejs默认开启了模块缓存，如果加载的模块已经被加载过了，则会自动使用之前的导出结果</p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>模块化发展史</title>
    <url>/blog/2020/11/09/MODULEa/</url>
    <content><![CDATA[<h1 id="JavaScript-模块化发展史-ignore"><a href="#JavaScript-模块化发展史-ignore" class="headerlink" title="JavaScript 模块化发展史 {ignore}"></a>JavaScript 模块化发展史 {ignore}</h1><h2 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h2><p>在 JavaScript 语言刚刚诞生的时候，它仅仅用于实现页面中的一些小效果</p>
<p>那个时候，一个页面所用到的 JS 可能只有区区几百行的代码</p>
<p>在这种情况下，语言本身所存在的一些缺陷往往被大家有意的忽略，因为程序的规模实在太小，只要开发人员小心谨慎，往往不会造成什么问题</p>
<p>在这个阶段，也不存在专业的前端工程师，由于前端要做的事情实在太少，因此这一部分工作往往由后端工程师顺带完成</p>
<p>第一阶段发生的大事件：</p>
<ul>
<li>1996年，NetScape将JavaScript语言提交给欧洲的一个标准制定阻止ECMA（欧洲计算机制造商协会）</li>
<li>1998年，NetScape在与微软浏览器IE的竞争中失利，宣布破产</li>
</ul>
<h2 id="第二阶段"><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h2><p>ajax的出现，逐渐改变了 JavaScript 在浏览器中扮演的角色。现在，它不仅可以实现小的效果，还可以和服务器之间进行交互，以更好的体验来改变数据</p>
<p>JS代码的数量开始逐渐增长，从最初的几百行，到后来的几万行，前端程序逐渐变得复杂</p>
<p>后端开发者压力逐渐增加，致使一些公司开始招募专业的前端开发者</p>
<p>但此时，前端开发者的待遇远不及后端开发者，因为前端开发者承担的开发任务相对于后端开发来说，还是比较简单的，通过短短一个月的时间集训，就可以成为满足前端开发的需要</p>
<p>究其根本原因，是因为前端开发还有几个大的问题没有解决，这些问题都严重的制约了前端程序的规模进一步扩大：</p>
<ol>
<li><strong>浏览器解释执行JS的速度太慢</strong></li>
<li><strong>用户端的电脑配置不足</strong></li>
<li>更多的代码带来了全局变量污染、依赖关系混乱等问题</li>
</ol>
<p>上面三个问题，就像是阿喀琉斯之踵，成为前端开发挥之不去的阴影和原罪。</p>
<p>在这个阶段，前端开发处在一个非常尴尬的境地，它在传统的开发模式和前后端分离之间无助的徘徊</p>
<p>第二阶段的大事件：</p>
<ol>
<li>IE浏览器制霸市场后，几乎不再更新</li>
<li>ES4.0流产，导致JS语言10年间几乎毫无变化</li>
<li>2008年ES5发布，仅解决了一些 JS API 不足的糟糕局面</li>
</ol>
<h2 id="第三阶段"><a href="#第三阶段" class="headerlink" title="第三阶段"></a>第三阶段</h2><p>时间继续向前推移，到了2008年，谷歌的 V8 引擎发布，将JS的执行速度推上了一个新的台阶，甚至可以和后端语言媲美。</p>
<p>摩尔定律持续发酵，个人电脑的配置开始飞跃</p>
<p>突然间，制约前端发展的两大问题得以解决，此时，只剩下最后一个问题还在负隅顽抗，即<strong>全局变量污染和依赖混乱</strong>的问题，解决了它，前端便可以突破一切障碍，未来无可限量。</p>
<p>于是，全世界的前端开发者在社区中激烈的讨论，想要为这个问题寻求解决之道……</p>
<p>2008年，有一个名叫 Ryan Dahl 小伙子正在为一件事焦头烂额，它需要在服务器端手写一个高性能的web服务，该服务对于性能要求之高，以至于目前市面上已有的web服务产品都满足不了需求。</p>
<p>经过分析，它确定，如果要实现高性能，那么必须要尽可能的减少线程，而要减少线程，避免不了要实用异步的处理方案。</p>
<p>一开始，他打算自己实用C/C++语言来编写，可是这一过程实在太痛苦。</p>
<p>就在他一筹莫展的时候，谷歌 V8 引擎的发布引起了他的注意，他突然发现，JS不就是最好的实现web服务的语言吗？它天生就是单线程，并且是基于异步的！有了V8引擎的支撑，它的执行速度完全可以撑起一个服务器。而且V8是鼎鼎大名的谷歌公司发布的，谷歌一定会不断的优化V8，有这种又省钱又省力的好事，我干嘛还要自己去写呢？</p>
<p>于是，它基于开源的V8引擎，对源代码作了一些修改，便快速的完成了该项目。</p>
<p>2009年，Ryan推出了该web服务项目，命名为nodejs。</p>
<p>从此，JS第一次堂堂正正的入主后端，不再是必须附属于浏览器的“玩具”语言了。</p>
<p>也是从此刻开始，人们认识到，JS（ES）是一门真正的语言，它依附于运行环境（运行时）（宿主程序）而执行</p>
<p><img src="assets/2019-11-28-15-45-47.png" alt=""></p>
<p>nodejs的诞生，便把JS中的最后一个问题放到了台前，即<strong>全局变量污染和依赖混乱</strong>问题</p>
<p>要直到，nodejs是服务器端，如果不解决这个问题，分模块开发就无从实现，而模块化开发是所有后端程序必不可少的内容</p>
<p>经过社区的激烈讨论，最终，形成了一个模块化方案，即鼎鼎大名的CommonJS，该方案，彻底解决了全局变量污染和依赖混乱的问题</p>
<p>该方案一出，立即被nodejs支持，于是，nodejs成为了第一个为JS语言实现模块化的平台，为前端接下来的迅猛发展奠定了实践基础</p>
<p>该阶段发生的大事件：</p>
<ul>
<li>2008年，V8发布</li>
<li>IE的市场逐步被 firefox 和 chrome 蚕食，现已无力回天</li>
<li>2009年，nodejs发布，并附带commonjs模块化标准</li>
</ul>
<h2 id="第四阶段"><a href="#第四阶段" class="headerlink" title="第四阶段"></a>第四阶段</h2><p>CommonJS的出现打开了前端开发者的思路</p>
<p>既然后端可以使用模块化的JS，作为JS语言的老东家浏览器为什么不行呢？</p>
<p>于是，开始有人想办法把CommonJS运用到浏览器中</p>
<p>可是这里面存在诸多的困难（课程中详解）</p>
<p>办法总比困难多，有些开发者就想，既然CommonJS运用到浏览器困难，我们干嘛不自己重新定一个模块化的标准出来，难道就一定要用CommonJS标准吗？</p>
<p>于是很快，AMD规范出炉，它解决的问题和CommonJS一样，但是可以更好的适应浏览器环境</p>
<p>相继的，CMD规范出炉，它对AMD规范进行了改进</p>
<p>这些行为，都受到了ECMA官方的密切关注……</p>
<p>2015年，ES6发布，它提出了官方的模块化解决方案 —— ES6 模块化</p>
<p>从此以后，模块化成为了JS本身特有的性质，这门语言终于有了和其他语言较量的资本，成为了可以编写大型应用的正式语言</p>
<p>于此同时，很多开发者、技术厂商早已预见到JS的无穷潜力，于是有了下面的故事</p>
<ul>
<li>既然JS也能编写大型应用，那么自然也需要像其他语言那样有解决复杂问题的开发框架<ul>
<li>Angular、React、Vue等前端开发框架出现</li>
<li>Express、Koa等后端开发框架出现</li>
<li>各种后端数据库驱动出现</li>
</ul>
</li>
<li>要开发大型应用，自然少不了各种实用的第三方库的支持<ul>
<li>npm包管理器出现，实用第三方库变得极其方便</li>
<li>webpack等构建工具出现，专门用于打包和部署</li>
</ul>
</li>
<li>既然JS可以放到服务器环境，为什么不能放到其他终端环境呢？<ul>
<li>Electron发布，可以使用JS语言开发桌面应用程序</li>
<li>RN和Vuex等技术发布，可以使用JS语言编写移动端应用程序</li>
<li>各种小程序出现，可以使用JS编写依附于其他应用的小程序</li>
<li>目前还有很多厂商致力于将JS应用到各种其他的终端设备，最终形成大前端生态</li>
</ul>
</li>
</ul>
<blockquote>
<p>可以看到，模块化的出现，是JS通向大型应用的基石，学习好模块化，变具备了编写大型应用的基本功。</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>typescript 应用篇</title>
    <url>/blog/2020/11/09/TYPESCRIPTa/</url>
    <content><![CDATA[<h1 id="一、入门"><a href="#一、入门" class="headerlink" title="一、入门"></a>一、入门</h1><h2 id="（一）环境配置"><a href="#（一）环境配置" class="headerlink" title="（一）环境配置"></a>（一）环境配置</h2><ol>
<li>安装 typescript<blockquote>
<p>yarn global add typescript</p>
</blockquote>
</li>
<li>配置 node 环境<blockquote>
<p>yarn add @types/node</p>
</blockquote>
</li>
<li>简化流程<blockquote>
<p>yarn add ts-node<br>yarn add nodemon</p>
</blockquote>
</li>
</ol>
<hr>
<h2 id="（二）基础"><a href="#（二）基础" class="headerlink" title="（二）基础"></a>（二）基础</h2><h3 id="1-基本类型"><a href="#1-基本类型" class="headerlink" title="1.基本类型"></a>1.基本类型</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str: <span class="built_in">string</span> = <span class="string">''</span><span class="comment">//字符串</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> num: <span class="built_in">number</span> = <span class="number">1</span><span class="comment">//数字</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bol: <span class="built_in">boolean</span> = <span class="literal">true</span><span class="comment">//布尔</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj: object = &#123;&#125;<span class="comment">//对象</span></span></pre></td></tr></table></figure>

<h3 id="2-数组约束"><a href="#2-数组约束" class="headerlink" title="2.数组约束"></a>2.数组约束</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1: <span class="built_in">any</span>[] = []<span class="comment">//数组，数组项可以是任意类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr2: <span class="built_in">Array</span>&lt;<span class="built_in">any</span>&gt; = []<span class="comment">//数组，数组项可以是任意类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr3: [] = [<span class="string">''</span>, <span class="number">10</span>]<span class="comment">//数组，数组项可以是字符串或数字</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr4: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">''</span>, <span class="number">10</span>]<span class="comment">//数组，数组项可以是字符串或数字</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr5: (<span class="built_in">string</span>|<span class="built_in">number</span>)[] = [<span class="string">''</span>, <span class="number">10</span>]<span class="comment">//数组，数组项可以是字符串或数字</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr6: readonly <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]<span class="comment">//只读数组</span></span></pre></td></tr></table></figure>

<h3 id="3-函数约束"><a href="#3-函数约束" class="headerlink" title="3.函数约束"></a>3.函数约束</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//无返回值</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>): <span class="title">void</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//永不结束</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">string</span></span>): <span class="title">never</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>)&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//函数重载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">a:<span class="built_in">number</span>, b:<span class="built_in">number</span></span>):<span class="title">number</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">a:<span class="built_in">string</span>, b:<span class="built_in">string</span></span>):<span class="title">string</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="function"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">a: <span class="built_in">number</span> | <span class="built_in">string</span>, b: <span class="built_in">number</span> | <span class="built_in">string</span></span>):<span class="title">number</span> | <span class="title">string</span> </span>&#123;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="function">  <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> a === "<span class="built_in">number</span>" &amp;&amp; <span class="keyword">typeof</span> b === "<span class="built_in">number</span>"</span>) </span>&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function">    <span class="title">return</span> <span class="title">a</span> * <span class="title">b</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function">  &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function">  <span class="title">else</span> <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> a === "<span class="built_in">string</span>" &amp;&amp; <span class="keyword">typeof</span> a === "<span class="built_in">string</span>"</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> a + b</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"a 和 b 类型必须相同！"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//                              可选参数     默认参数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a: <span class="built_in">number</span> | <span class="built_in">string</span>, b?: <span class="built_in">string</span>, c: <span class="built_in">string</span> = "c"</span>): <span class="title">void</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">"number"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//类型保护</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(a)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(b, c)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="4-类型别名"><a href="#4-类型别名" class="headerlink" title="4.类型别名"></a>4.类型别名</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//类型别名</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Type1 = <span class="string">'1'</span> | <span class="string">'2'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Type2 = <span class="function">(<span class="params">a: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Type3 = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  (a: <span class="built_in">string</span>): <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Type4 = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  T1?: <span class="string">'1'</span> | <span class="string">'2'</span><span class="comment">//成员可选</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  readonly T2: readonly <span class="built_in">number</span>[]<span class="comment">//只读成员</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  T3(a: <span class="built_in">number</span>): <span class="built_in">number</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  T4: <span class="function">(<span class="params">a: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//组合</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> A = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  a: <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> B = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  b: <span class="built_in">number</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> C = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  c: <span class="built_in">boolean</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125; &amp; A &amp; B</span></pre></td></tr></table></figure>

<h3 id="5-枚举"><a href="#5-枚举" class="headerlink" title="5.枚举"></a>5.枚举</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> Enum &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  prop1 = <span class="string">"abc"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  prop2 = <span class="number">123</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> data: Enum;</span></pre></td></tr><tr><td class="code"><pre><span class="line">data = Enum.prop1 <span class="comment">// "abc"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">data = Enum.prop2 <span class="comment">// 123</span></span></pre></td></tr></table></figure>

<h3 id="6-接口"><a href="#6-接口" class="headerlink" title="6.接口"></a>6.接口</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//接口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Type1 &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  (a: <span class="built_in">string</span>): <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Type2 &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  T1?: <span class="string">'1'</span> | <span class="string">'2'</span><span class="comment">//成员可选</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  readonly T2: readonly <span class="built_in">number</span>[]<span class="comment">//只读成员</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  T3(a: <span class="built_in">number</span>): <span class="built_in">number</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  T4: <span class="function">(<span class="params">a: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//继承</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  a: <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> B &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  b: <span class="built_in">number</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> C <span class="keyword">extends</span> A, B&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  c: <span class="built_in">boolean</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="7-类"><a href="#7-类" class="headerlink" title="7.类"></a>7.类</h3><ul>
<li>属性列表描述</li>
<li>属性描述符</li>
<li>权限描述符</li>
<li>严格属性初始化</li>
<li>访问器属性<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> User&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//属性列表描述</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//权限描述符</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">protected</span> sex: <span class="string">"male"</span> | <span class="string">"female"</span> = <span class="string">"male"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">private</span> _age: <span class="built_in">number</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//属性描述符</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//语法糖，自动描述和赋值</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(<span class="params">readonly area: <span class="built_in">string</span>, like?:<span class="built_in">string</span></span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    </span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//访问器属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">set</span> age(newValue) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>._age = newValue</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">get</span> age() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._age</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="8-泛型"><a href="#8-泛型" class="headerlink" title="8.泛型"></a>8.泛型</h3><ul>
<li>函数泛型</li>
<li>类泛型</li>
<li>接口泛型</li>
<li>类型别名泛型</li>
<li>泛型约束（继承）</li>
<li>多泛型</li>
</ul>
<h3 id="9-类型兼容性"><a href="#9-类型兼容性" class="headerlink" title="9.类型兼容性"></a>9.类型兼容性</h3><ul>
<li>断言：<ul>
<li><type>data 断言</li>
<li>data as type 断言</li>
<li>data! 非空断言</li>
</ul>
</li>
<li>函数：<ul>
<li>参数：只能少，不能多</li>
<li>返回值：要求返回必须返回，不要求则随意</li>
</ul>
</li>
<li>对象：<ul>
<li>赋值：鸭子辨型法，成员只能多，不能少</li>
<li>字面量：严格完全匹配</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（三）模块化"><a href="#（三）模块化" class="headerlink" title="（三）模块化"></a>（三）模块化</h2><h3 id="1-ES6-模块化标准"><a href="#1-ES6-模块化标准" class="headerlink" title="1.ES6 模块化标准"></a>1.ES6 模块化标准</h3><ul>
<li>export 声明</li>
<li>export default 默认导出</li>
<li>import 变量 from ‘path’</li>
</ul>
<h3 id="2-commonJS-模块化标准"><a href="#2-commonJS-模块化标准" class="headerlink" title="2.commonJS 模块化标准"></a>2.commonJS 模块化标准</h3><ul>
<li>exports.属性</li>
<li>module.export = {}</li>
<li>const 变量 require(‘path’)</li>
</ul>
<hr>
<h1 id="二、进阶"><a href="#二、进阶" class="headerlink" title="二、进阶"></a>二、进阶</h1><h2 id="（一）面向对象"><a href="#（一）面向对象" class="headerlink" title="（一）面向对象"></a>（一）面向对象</h2><h3 id="1-类的继承"><a href="#1-类的继承" class="headerlink" title="1.类的继承"></a>1.类的继承</h3><ul>
<li>A extends B<ul>
<li>A继承自B</li>
<li>A是子类、B是父类</li>
<li>子类拥有父类的所有成员</li>
<li>子类可以重写父类成员</li>
<li>this指向是动态的</li>
<li>super指向父类</li>
</ul>
</li>
<li>A instanceof B <ul>
<li>A是不是一个B</li>
<li>子类对象始终可以赋值给父类对象，当只能使用父类定义的成员，应使用类型保护</li>
<li>单根性：每个类只有一个父类（避免多继承）</li>
<li>传递性：隔代也是父子</li>
</ul>
</li>
<li>修饰符<ul>
<li>public 均可以访问</li>
<li>protected 自身及子类可以访问</li>
<li>private 自身可访问</li>
</ul>
</li>
</ul>
<h3 id="2-抽象类"><a href="#2-抽象类" class="headerlink" title="2.抽象类"></a>2.抽象类</h3><ul>
<li>abstract<ul>
<li>某个类只表示一个抽象的概念，只用于提取子类共有的成员，而不能直接创建对象</li>
<li>抽象成员，父类只知道类型，不知道具体的实现，且子类必须要将其实现</li>
</ul>
</li>
<li>模板模式<ul>
<li>所有子类实现某个方法流程一致，只有某一步骤不一致<ul>
<li>可能出现大量重复代码</li>
<li>重复代码提取后，可能出现调用顺序紊乱</li>
</ul>
</li>
<li>将该方法提取到父类实现</li>
<li>将不一致的地方提取到父类为抽象方法，让子类去具体实现</li>
<li>在父类方法中使用抽象方法</li>
</ul>
</li>
</ul>
<h3 id="3-静态成员"><a href="#3-静态成员" class="headerlink" title="3.静态成员"></a>3.静态成员</h3><ul>
<li>static<ul>
<li>某个成员属于类本身，而不是具体的对象</li>
<li>静态方法中this指向当前类</li>
</ul>
</li>
<li>单例模式<ul>
<li>某些类的实例对象，在系统中最多只能有一个（避免随意创建）</li>
<li>将构造函数私有 private</li>
<li>定义一个私有的静态属性，用于存储实例对象</li>
<li>定义一个公有的静态方法，用于得到实例对象<ul>
<li>判断静态属性是否已经有值，有值则直接返回该实例</li>
<li>没有则创建一个实例并赋值给静态属性，然后返回该实例</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-接口"><a href="#4-接口" class="headerlink" title="4.接口"></a>4.接口</h3><ul>
<li>implements<ul>
<li>表达某个类是否拥有某种能力（是否实现某个接口）</li>
</ul>
</li>
<li>类型保护函数<ul>
<li>参数：param</li>
<li>返回值：param is interface</li>
</ul>
</li>
<li>接口可继承类<ul>
<li>interface C extends A, B {}</li>
<li>用A、B类的所有成员实现一个类型</li>
</ul>
</li>
</ul>
<h3 id="5-索引器"><a href="#5-索引器" class="headerlink" title="5.索引器"></a>5.索引器</h3><ul>
<li>[prop: string]: any</li>
<li>[prop: number]: any<ul>
<li>索引器需书写于类的最顶端（所有成员之前）</li>
<li>可拓展对象</li>
<li>除了类定义的成员外，可通过索引器进行成员拓展</li>
<li>默认情况下，索引器可越过类型检查，需配置noImplicitAny</li>
<li>在js中所有的成员名，包括数组索引都是字符串类型，成员名在使用数字类型时，会进行隐式类型转换</li>
<li>在ts中成员名类型需要与索引器匹配</li>
</ul>
</li>
</ul>
<h3 id="6-this指向约束"><a href="#6-this指向约束" class="headerlink" title="6.this指向约束"></a>6.this指向约束</h3><ul>
<li>全局直接调用<ul>
<li>严格模式：this指向undefined</li>
<li>非严格模式：this指向全局对象</li>
</ul>
</li>
<li>对象方法调用<ul>
<li>this指向对象本身</li>
</ul>
</li>
<li>事件处理函数调用<ul>
<li>this指向事件处理对象</li>
</ul>
</li>
<li>箭头函数<ul>
<li>this指向声明位置的this指向</li>
</ul>
</li>
<li>bind、apply、call手动绑定this<ul>
<li>this指向绑定值</li>
</ul>
</li>
<li>在ts中默认与js一致，严格this指向约束，需配置noImplicitThis</li>
<li>在函数声明时，用第一个参数位置约定this指向</li>
</ul>
<h3 id="7-装饰器"><a href="#7-装饰器" class="headerlink" title="7.装饰器"></a>7.装饰器</h3><ul>
<li><strong>约束类</strong><ul>
<li>new () =&gt; object</li>
<li>()内约束构造函数参数</li>
</ul>
</li>
<li><strong>装饰类</strong><ul>
<li>本质是一个函数</li>
<li>参数：类本身</li>
<li>返回值：<ul>
<li>void：仅运行函数</li>
<li>class：替换原来的类</li>
</ul>
</li>
<li>运行时间<ul>
<li>定义类之后立即运行</li>
<li>多个装饰器，按栈的结构顺序运行（新进后出）</li>
</ul>
</li>
</ul>
</li>
<li><strong>装饰成员</strong><ul>
<li>本质是一个函数</li>
<li>参数：<ul>
<li>参数1：<ul>
<li>静态成员：类本身</li>
<li>实例成员：类原型</li>
</ul>
</li>
<li>参数2：成员名</li>
<li>参数3：Object.defineProperty</li>
</ul>
</li>
<li>返回值：<ul>
<li>void：仅运行函数</li>
<li>any：替换原来的成员</li>
</ul>
</li>
</ul>
</li>
<li><strong>reflect-metadata</strong><ul>
<li>第三方库</li>
<li>用于保存元数据</li>
</ul>
</li>
<li><strong>class-validator</strong><ul>
<li>第三方库</li>
<li>用于验证</li>
</ul>
</li>
<li><strong>class-transformer</strong><ul>
<li>第三方库</li>
<li>用于将平面对象转换为类对象</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）类型演算"><a href="#（二）类型演算" class="headerlink" title="（二）类型演算"></a>（二）类型演算</h2><h3 id="1-关键字"><a href="#1-关键字" class="headerlink" title="1.关键字"></a>1.关键字</h3><ul>
<li>typeof</li>
<li>keyof</li>
<li>in</li>
</ul>
<h3 id="2-预设"><a href="#2-预设" class="headerlink" title="2.预设"></a>2.预设</h3><ul>
<li>Partial<T> 所有成员可选</li>
<li>Require<T> 所有成员必填</li>
<li>Readonly<T> 所有成员只读</li>
<li>Exclude&lt;T, U&gt; 剔除可以赋予给U的类型</li>
<li>Extract&lt;T, U&gt; 保留可以赋予给U的类型</li>
<li>NonNullable<T> 剔除null、undefined</li>
<li>ReturnType<typrof fn> 得到某个函数的返回类型 </li>
<li>InstanceType<typrof cl> 得到某个类的实例类型 </li>
</ul>
<hr>
<h2 id="（三）声明文件"><a href="#（三）声明文件" class="headerlink" title="（三）声明文件"></a>（三）声明文件</h2>]]></content>
  </entry>
  <entry>
    <title>react 应用篇</title>
    <url>/blog/2020/11/09/REACTa/</url>
    <content><![CDATA[<h1 id="一、开发环境"><a href="#一、开发环境" class="headerlink" title="一、开发环境"></a>一、开发环境</h1><h2 id="（一）浏览器"><a href="#（一）浏览器" class="headerlink" title="（一）浏览器"></a>（一）浏览器</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- react --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/react@16/umd/react.development.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- react-dom --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/react-dom@16/umd/react-dom.development.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- babel --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/babel-standalone@6.15.0/babel.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript"><span class="comment">// 使用jsx语法</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h2 id="（二）脚手架"><a href="#（二）脚手架" class="headerlink" title="（二）脚手架"></a>（二）脚手架</h2><ul>
<li><p>使用npm安装并使用</p>
<blockquote>
<p>cnpm install -g create-react-app<br>create-react-app my-app<br>cd my-app/<br>npm start</p>
</blockquote>
</li>
<li><p>使用yarn安装并使用</p>
<blockquote>
<p>yarn create react-app projectName</p>
</blockquote>
</li>
</ul>
<h2 id="（三）辅助功能"><a href="#（三）辅助功能" class="headerlink" title="（三）辅助功能"></a>（三）辅助功能</h2><ul>
<li>使用vscode编辑器<ul>
<li>配置emmet.includeLanguages支持jsx语法</li>
</ul>
</li>
<li>使用vscode插件<ul>
<li>ESLint代码风格实时检查</li>
<li>ES7 React/Redux/GraphQL/React-Native snippets代码模板快速生成</li>
</ul>
</li>
<li>使用Chrome浏览器<ul>
<li>React Developer Tools调试工具</li>
<li>Redux DevTools调试工具</li>
</ul>
</li>
</ul>
<hr>
<h1 id="二、React-核心"><a href="#二、React-核心" class="headerlink" title="二、React 核心"></a>二、React 核心</h1><p><a href="https://zh-hans.reactjs.org/docs/react-api.html" target="_blank" rel="noopener">React</a></p>
<p><a href="https://zh-hans.reactjs.org/docs/react-dom.html" target="_blank" rel="noopener">React Dom</a></p>
<h2 id="（一）JSX语法"><a href="#（一）JSX语法" class="headerlink" title="（一）JSX语法"></a>（一）JSX语法</h2><h3 id="1-书写规范"><a href="#1-书写规范" class="headerlink" title="1.书写规范"></a>1.书写规范</h3><ul>
<li>JSX语法本质是React.createElement()语法糖，在使用jsx语法的地方必须引用React模块</li>
<li>jsx表达式建议放在（）内</li>
<li>jsx表达式有且只有一个根节点，期望使用多个根节点时可使用React.Fragment元素包裹（使用语法糖&lt;&gt;&lt;/&gt;）</li>
<li>jsx表达式中每个元素必须结束（遵循XML规范）</li>
</ul>
<h3 id="2-嵌入js表达式"><a href="#2-嵌入js表达式" class="headerlink" title="2.嵌入js表达式"></a>2.嵌入js表达式</h3><h4 id="（1）插入元素内容"><a href="#（1）插入元素内容" class="headerlink" title="（1）插入元素内容"></a>（1）插入元素内容</h4><ul>
<li>使用{}进行表达式插入，{}内支持js表达式<ul>
<li>支持React元素对象，不支持普通对象，普通对象不能作为子元素</li>
<li>支持数组，进行遍历数组，数组项会被作为子元素，如果数组项是元素需要绑定key属性，key属性不会反应到真实DOM</li>
</ul>
</li>
<li>{}内结果如果是null、undefined、false不会作为子元素</li>
<li>jsx注释{/*…*/}</li>
</ul>
<h4 id="（2）插入元素属性"><a href="#（2）插入元素属性" class="headerlink" title="（2）插入元素属性"></a>（2）插入元素属性</h4><ul>
<li>属性使用小驼峰命名</li>
<li>元素属性值可以使用{}插入js表达式</li>
<li>className属性并不支持一个数组</li>
<li>style属性支持一个普通对象，对应css样式</li>
<li>dangerouslySetInnerHTML属性需要一个对象，对象带有一个__html属性，属性值使用innerHtml设置<ul>
<li>jsx默认使用innerText设置内容</li>
<li>自动编码，防止注入攻击</li>
</ul>
</li>
</ul>
<h3 id="3-元素不可变"><a href="#3-元素不可变" class="headerlink" title="3.元素不可变"></a>3.元素不可变</h3><ul>
<li>本质是Object.freeze()冻结了对象</li>
<li>子元素及属性均只可读，不可写</li>
</ul>
<hr>
<h2 id="（二）组件"><a href="#（二）组件" class="headerlink" title="（二）组件"></a>（二）组件</h2><h3 id="1-内置组件"><a href="#1-内置组件" class="headerlink" title="1.内置组件"></a>1.内置组件</h3><ul>
<li>html元素</li>
<li>React.Fragment组件</li>
<li>React.createContext().Provider组件</li>
<li>React.createContext().Consumer组件</li>
<li>React.StrictMode组件（严格模式）<ul>
<li>不会参与UI渲染</li>
<li>识别不安全的生命周期</li>
<li>检测意外的副作用</li>
<li>检测过时API</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-函数组件"><a href="#2-函数组件" class="headerlink" title="2.函数组件"></a>2.函数组件</h3><h4 id="（1）参数"><a href="#（1）参数" class="headerlink" title="（1）参数"></a>（1）参数</h4><ul>
<li>组件属性对象props</li>
</ul>
<h4 id="（2）返回值"><a href="#（2）返回值" class="headerlink" title="（2）返回值"></a>（2）返回值</h4><ul>
<li>React元素</li>
</ul>
<h4 id="（3）HOOK"><a href="#（3）HOOK" class="headerlink" title="（3）HOOK"></a>（3）HOOK</h4><ul>
<li>React &gt;= 16.8.0版本新增</li>
</ul>
<hr>
<h3 id="3-类组件"><a href="#3-类组件" class="headerlink" title="3.类组件"></a>3.类组件</h3><h4 id="（1）继承"><a href="#（1）继承" class="headerlink" title="（1）继承"></a>（1）继承</h4><ul>
<li>React.Component</li>
</ul>
<h4 id="（2）render-方法"><a href="#（2）render-方法" class="headerlink" title="（2）render()方法"></a>（2）render()方法</h4><ul>
<li>返回React元素</li>
</ul>
<h4 id="（3）属性"><a href="#（3）属性" class="headerlink" title="（3）属性"></a>（3）属性</h4><ul>
<li>constructor(props)构造函数方法拿到属性对象</li>
<li>super(props)将属性对象传递给父类</li>
<li>组件内通过this.props即可使用属性对象</li>
</ul>
<h4 id="（4）状态"><a href="#（4）状态" class="headerlink" title="（4）状态"></a>（4）状态</h4><ul>
<li>组件自己维护的数据，本质是类组件的一个属性（一个对象）</li>
<li>状态初始化：<ul>
<li>constructor构造函数内初始化</li>
<li>class字段初始化</li>
</ul>
</li>
<li>状态的改变：<ul>
<li>状态不能直接改变，必须使用this.setState()</li>
<li>状态的改变可能是异步的，若处于html事件中，则是异步的，否则是同步的<ul>
<li>this.setState(obj)，接受一个对象，与this.state进行混合并重新渲染（Object.assign(this.state, obj)）</li>
<li>this.setState(func)，接受一个函数，该函数有一个参数prev代表上一次的状态对象，返回一个对象与之前的状态进行混合（该函数会异步执行）</li>
<li>this.setState(obj | func, callback)接受第二个参数是一个回调函数，该回调在所有状态改变完成，重新渲染之后运行，在回调中获取的是最新状态</li>
</ul>
</li>
<li>React会对异步的this.setState()进行优化，将多次状态进行合并，所有状态改变完成后统一对this.state进行改变，然后进行重新渲染</li>
</ul>
</li>
</ul>
<h4 id="（5）声生命周期"><a href="#（5）声生命周期" class="headerlink" title="（5）声生命周期"></a>（5）声生命周期</h4><ul>
<li><p><strong>React &lt; 16.0.0版本</strong></p>
</li>
<li><p>constrouctor()</p>
<ul>
<li>组件初始化</li>
<li>同一个组件对象只会创建一次</li>
<li>禁止使用setState()</li>
</ul>
</li>
<li><p>render()</p>
<ul>
<li>构建虚拟DOM树并渲染真实DOM节点</li>
<li>禁止使用setState()</li>
</ul>
</li>
<li><p>componentDidMount()</p>
<ul>
<li>组件挂在完成</li>
<li>可以使用setState()</li>
<li>常用于副作用处理（网络请求、启动计时器）</li>
</ul>
</li>
<li><p>shouldComponentUpdate()</p>
<ul>
<li>参数1：新属性</li>
<li>参数2：新状态</li>
<li>返回值：boolean，是否重新渲染</li>
<li>用于性能优化</li>
</ul>
</li>
<li><p>componentWillUnMount()</p>
<ul>
<li>组件卸载</li>
<li>用于销毁组件依赖资源（取消计时器）<img src='./old.png' />
</li>
</ul>
</li>
<li><p><strong>React &gt;= 16.0.0版本</strong></p>
</li>
<li><p>取消一些钩子函数：</p>
<ul>
<li>componentWillMount() 可能会有BUG</li>
<li>componentWillReceiveProps() 反模式问题</li>
<li>componentWillUpdate() 没有实际意义</li>
</ul>
</li>
<li><p>增加一些钩子函数：</p>
<ul>
<li>static getDerivedStateFromProps()<ul>
<li>静态函数，无法使用setState()</li>
<li>运行在初始化、属性变化、状态变化之后</li>
<li>参数1：新属性</li>
<li>参数2：新状态</li>
<li>返回值：Object，与状态进行混合</li>
</ul>
</li>
<li>getSnapshotBeforeUpdate()<ul>
<li>运行在DOM树构建完毕，页面即将渲染之前</li>
<li>参数1：旧属性</li>
<li>参数2：旧状态</li>
<li>返回值：componentDidUpdate()的第三个参数<img src='./new.png' />
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-表单"><a href="#4-表单" class="headerlink" title="4. 表单"></a>4. 表单</h3><ul>
<li>默认情况下表单是非受控组件<ul>
<li>可以使用 defaultValue、 defaultChecked属性指定默认值</li>
<li>使用ref来操作真实DOM间接获得组件内容</li>
</ul>
</li>
<li>通过指定内容和事件使得表单成为受控组件<ul>
<li>使用value指定组件内容（来源于状态）</li>
<li>使用onChange()事件改编组件内容（改编状态）</li>
</ul>
</li>
</ul>
<hr>
<h3 id="5-HOC高阶组件"><a href="#5-HOC高阶组件" class="headerlink" title="5.HOC高阶组件"></a>5.HOC高阶组件</h3><ul>
<li>高阶组件是函数组件（通常以with前缀命名）<ul>
<li>参数：接受一个组件</li>
<li>返回值：返回一个组件</li>
</ul>
</li>
<li>利用高阶组件实现横切关注点<ul>
<li>抽离共同的功能</li>
<li>添加额外功能</li>
</ul>
</li>
<li>注意：<ul>
<li>不要在render()中使用高阶组件，会导致组件对象被重复销毁和创建</li>
<li>不要在高阶组件内修改传入的组件</li>
</ul>
</li>
</ul>
<hr>
<h3 id="6-纯组件"><a href="#6-纯组件" class="headerlink" title="6.纯组件"></a>6.纯组件</h3><h4 id="（1）PureComponent类组件"><a href="#（1）PureComponent类组件" class="headerlink" title="（1）PureComponent类组件"></a>（1）PureComponent类组件</h4><ul>
<li>作用于类组件</li>
<li>一个组件，如果某个组件继承自它，该组件会被优化</li>
<li>状态和属性会进行浅比较，如果没有变化，则不会重新渲染</li>
<li>本质就是优化了shouldComponentUpdate()</li>
</ul>
<h4 id="（2）React-memo-高阶组件"><a href="#（2）React-memo-高阶组件" class="headerlink" title="（2）React.memo()高阶组件"></a>（2）React.memo()高阶组件</h4><ul>
<li>作用于函数组件</li>
<li>本质就是给函数组件包裹了一层类组件，类组件继承PureComponent</li>
</ul>
<hr>
<h3 id="7-Portals插槽"><a href="#7-Portals插槽" class="headerlink" title="7.Portals插槽"></a>7.Portals插槽</h3><ul>
<li>不改变虚拟DOM树结构的情况下，将React元素渲染到指定的真实DOM容器中</li>
<li>使用ReactDOM.createPortals(React元素，真实DOM)<ul>
<li>参数1：需要渲染的React元素</li>
<li>参数2：真实DOM容器</li>
<li>返回值：一个ReactPortals组件</li>
</ul>
</li>
<li>注意事件冒泡<ul>
<li>React中的事件是被包装过的</li>
<li>React中的事件冒泡是根据虚拟DOM树结构冒泡的，与真实DOM层次结构无关</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（三）属性"><a href="#（三）属性" class="headerlink" title="（三）属性"></a>（三）属性</h2><h3 id="1-数据传递"><a href="#1-数据传递" class="headerlink" title="1.数据传递"></a>1.数据传递</h3><ul>
<li>组件内部数据来源于状态state</li>
<li>组件内部数据来源于属性props</li>
<li>组件内部数据来源于上下文Context</li>
<li>组件使用者通过属性向组件内部传递数据<ul>
<li>传递普通数据</li>
<li>传递自定义事件处理程序</li>
<li>传递子元素（props.children）语法糖可以直接向html一样书写子元素</li>
</ul>
</li>
<li>组件内通过自定义事件参数向外部使用者传递数据</li>
</ul>
<h3 id="2-事件"><a href="#2-事件" class="headerlink" title="2.事件"></a>2.事件</h3><h4 id="（1）定义"><a href="#（1）定义" class="headerlink" title="（1）定义"></a>（1）定义</h4><ul>
<li>React事件本质就是一个属性，属性值是一个函数，遵循小驼峰命名</li>
<li>内置组件的事件与html事件保持一致</li>
<li>自定义组件的事件就是一个属性，在组件内部合适的时候调用该方法</li>
<li>在事件处理程序中，如果没有特殊处理，this指向undefined<ul>
<li>使用bind绑定this</li>
<li>使用箭头函数（字段初始化）</li>
</ul>
</li>
</ul>
<h4 id="（2）React事件"><a href="#（2）React事件" class="headerlink" title="（2）React事件"></a>（2）React事件</h4><ul>
<li>研究对象：内置html组件的事件</li>
<li>事件委托：本质只给document注册事件，几乎所有元素的事件处理，均在document事件中进行<ul>
<li>对于不会冒泡的事件或某些元素独有的事件则是在DOM元素自身上进行监听的</li>
<li>当在document中监听到某个事件的时候，查看虚拟DOM树中哪些元素注册了此事件，按照虚拟DOM树冒泡的顺序依次执行</li>
<li>当给真实DOM和虚拟DOM注册事件的时候，无论DOM层次结构如何，真实DOM永远先运行，因为虚拟DOM事件要等冒泡到document时才会运行</li>
<li>如果给真实DOM注册事件并阻止了冒泡，会导致虚拟DOM中的事件无法运行</li>
<li>如果给虚拟DOM注册事件并阻止了冒泡，本质上阻止的是document的冒泡并标记该虚拟DOM，在循环运行事件的时候会忽略被标记的事件<ul>
<li>所以阻止不了真实DOM事件</li>
<li>阻止的是虚拟DOM树的冒泡</li>
</ul>
</li>
</ul>
</li>
<li>事件对象：React中的事件对象是合成事件对象<ul>
<li>如果要是用真实事件对象，通过e.nativeEvent获得</li>
<li>如果是用e.nativeEvent中的方法，已经发生在冒泡到document事件中，可能不会符合预期</li>
<li>React中事件对象会被重用<ul>
<li>在事件处理程序中不要异步使用事件对象，事件处理程序结束时该对象会被重置，准备给下一个事件处理程序使用</li>
<li>通过e.persist()方法对事件对象持久化</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-属性默认值"><a href="#3-属性默认值" class="headerlink" title="3.属性默认值"></a>3.属性默认值</h3><ul>
<li>通过静态属性 defaultProps指定属性默认值</li>
<li>函数组件：funcName.defaultProps = {}</li>
<li>类组件：static defaultProps = {}</li>
</ul>
<h3 id="4-属性类型检查"><a href="#4-属性类型检查" class="headerlink" title="4.属性类型检查"></a>4.属性类型检查</h3><ul>
<li>使用prop-types库和静态属性propTypes 定义检查规则<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.any：<span class="comment">//任意类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.array：<span class="comment">//数组类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.bool：<span class="comment">//布尔类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.func：<span class="comment">//函数类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.number：<span class="comment">//数字类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.object：<span class="comment">//对象类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.string：<span class="comment">//字符串类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.symbol：<span class="comment">//符号类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.node：<span class="comment">//任何可以被渲染的内容，字符串、数字、React元素</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.element：<span class="comment">//react元素</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.elementType：<span class="comment">//react元素类型</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.instanceOf(构造函数)：<span class="comment">//必须是指定构造函数的实例</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.oneOf([xxx, xxx])：<span class="comment">//枚举</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.oneOfType([xxx, xxx]);  <span class="comment">//属性类型必须是数组中的其中一个</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.arrayOf(PropTypes.XXX)：<span class="comment">//必须是某一类型组成的数组</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.objectOf(PropTypes.XXX)：<span class="comment">//对象由某一类型的值组成</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.shape(对象): <span class="comment">//属性必须是对象，并且满足指定的对象要求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PropTypes.exact(&#123;...&#125;)：<span class="comment">//对象必须精确匹配传递的数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//自定义属性检查，如果有错误，返回错误对象即可</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">属性: <span class="function"><span class="keyword">function</span>(<span class="params">props, propName, componentName</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   <span class="comment">//...</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="5-Ref"><a href="#5-Ref" class="headerlink" title="5.Ref"></a>5.Ref</h3><h4 id="（1）定义-1"><a href="#（1）定义-1" class="headerlink" title="（1）定义"></a>（1）定义</h4><ul>
<li>作用位置：<ul>
<li>作用于内置html元素：得到的是真实DOM元素</li>
<li>作用于类组件：得到的是组件实例对象</li>
<li>不能作用于函数组件</li>
</ul>
</li>
<li>作用形式：<ul>
<li>字符串：<ul>
<li>给组件定义一个ref属性，属性值为字符串str，代表该组件ref存储位置的变量名str</li>
<li>通过this.refs对象的str属性获取ref</li>
<li>不建议使用</li>
</ul>
</li>
<li>对象：<ul>
<li>通过React.createRef()创建一个对象obj，该对象本质就是一个普通对象，拥有一个current属性，属性值为null，给组件定义一个ref属性，属性值为该对象obj</li>
<li>通过传递的对象obj.current获得ref</li>
</ul>
</li>
<li>函数：<ul>
<li>给组件定义一个ref属性，属性值为一个函数func<ul>
<li>该函数会在componentDidMount()调用一次</li>
<li>如果给ref属性重新赋值一个新函数，则旧函数和新函数会在componentWillUpdate()之前分别调用一次</li>
<li>该函数会在componentWillUnMount()调用一次</li>
</ul>
</li>
<li>通过传递的函数func的第一个参数获得ref</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（2）转发"><a href="#（2）转发" class="headerlink" title="（2）转发"></a>（2）转发</h4><ul>
<li>需求：不期望获得组件本身，而是获得组件内部的子元素</li>
<li>实现：使用高阶组件React.forwardRef()进行ref转发<ul>
<li>参数：接受一个函数组件funcComp</li>
<li>返回值：一个新函数组件newFuncComp<ul>
<li>给新组件newFuncComp定义ref</li>
<li>该ref会被高阶组件React.forwardRef()传递给被包装的组件funcComp的第二个参数</li>
<li>在组件funcComp内通过第二个参数获得ref，并自定义ref指向（或赋值或指向子元素ref）</li>
<li>若ref被指向子元素ref，高阶组件使用者就可以获得函数组件内部的子元素真实DOM或组件实例对象</li>
</ul>
</li>
</ul>
</li>
<li>拓展：<ul>
<li>不使用高阶组件React.forwardRef()也可以使用一个普通属性实现（只是不能定义为ref属性）</li>
<li>高阶组件React.forwardRef()不接受类组件，使用一个函数将其包装一下即可</li>
<li>对自定义高阶组件实现ref转发</li>
</ul>
</li>
</ul>
<hr>
<h3 id="6-render-Props"><a href="#6-render-Props" class="headerlink" title="6.render Props"></a>6.render Props</h3><ul>
<li>组件功能及其处理逻辑一致，只是显示有差异，则可以通过以下方法解决：<ul>
<li>HOC高阶组件提取功能</li>
<li>render props渲染属性<ul>
<li>给render属性传递一个函数，组件内部调用此函数<ul>
<li>函数参数为数据对象</li>
<li>函数返回值为渲染的内容</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（四）上下文"><a href="#（四）上下文" class="headerlink" title="（四）上下文"></a>（四）上下文</h2><h3 id="1-特点"><a href="#1-特点" class="headerlink" title="1.特点"></a>1.特点</h3><ul>
<li>某个组件创建了上下文，上下文中的数据会被所有后代组件共享</li>
<li>某个组件依赖了上下文，该组件则不再纯粹（复用性变低，数据管理变复杂）</li>
<li>通常情况下，上下文用于第三方组件（通用组件）</li>
</ul>
<h3 id="2-React-lt-16-0-0版本"><a href="#2-React-lt-16-0-0版本" class="headerlink" title="2.React &lt; 16.0.0版本"></a>2.React &lt; 16.0.0版本</h3><h4 id="（1）创建"><a href="#（1）创建" class="headerlink" title="（1）创建"></a>（1）创建</h4><ul>
<li>只有类组件可以创建上下文</li>
<li>给类组件定义静态属性 static childContextTypes = {} 约束上下文中的数据类型</li>
<li>给类组件定义实例方法 getChildContext()<ul>
<li>该方法会在render()后被自动调用</li>
<li>方法返回值 Object, 定义上下文中的数据，必须满足类型约束</li>
</ul>
</li>
</ul>
<h4 id="（2）获取"><a href="#（2）获取" class="headerlink" title="（2）获取"></a>（2）获取</h4><ul>
<li>给组件定义静态属性 contextTypes = {} 声明并约束需要使用的数据和类型（通常提取类型约定childContextTypes和contextTypes必须保持一致）</li>
<li>在类组件构造函数constructor(props, context)中第二个参数即可获得上下文对象（该对象只包含声明过的数据，并非全部）<ul>
<li>将context交给super(props, context)</li>
<li>在组建内即可使用this.context获得上下文对象</li>
</ul>
</li>
<li>在函数组件中直接从第二个参数获得上下文对象</li>
</ul>
<h4 id="（3）改变"><a href="#（3）改变" class="headerlink" title="（3）改变"></a>（3）改变</h4><ul>
<li>上下文的改变不可以直接改变，源于状态和属性的改变而改变（状态和属性的改变则会重新渲染，渲染后getChildContext()会被自动调用，保持最新上下文）</li>
<li>若子组件使用者想实现改变上下文，通过上下文提供方法，子组件通过调用方法，让父组件创建者自己去改变数据</li>
</ul>
<h4 id="（4）多个上下文"><a href="#（4）多个上下文" class="headerlink" title="（4）多个上下文"></a>（4）多个上下文</h4><ul>
<li>组件不会从自身创建的上下文中去获取数据</li>
<li>组件获取是就近原则，从最近的上下文中优先获取</li>
</ul>
<h3 id="3-React-gt-16-0-0版本"><a href="#3-React-gt-16-0-0版本" class="headerlink" title="3.React &gt;= 16.0.0版本"></a>3.React &gt;= 16.0.0版本</h3><h4 id="（1）上下文是一个独立的对象，使用React-createContext-创建"><a href="#（1）上下文是一个独立的对象，使用React-createContext-创建" class="headerlink" title="（1）上下文是一个独立的对象，使用React.createContext()创建"></a>（1）上下文是一个独立的对象，使用React.createContext()创建</h4><ul>
<li>参数：Object, 默认值</li>
<li>返回值：Object, 上下文对象<ul>
<li><strong>Provider属性：生产者</strong><ul>
<li>一个组件，包裹上下文区域（包裹子元素）</li>
<li>创建上下文，该组件value属性给上下文赋予数据</li>
</ul>
</li>
<li><strong>Consumer属性：消费者</strong><ul>
<li>一个组件，当做子元素使用</li>
<li>该组件children属性值接受一个函数<ul>
<li>函数第一个参数即获得上下文对象</li>
<li>函数返回值会被渲染</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（2）多个上下文对应多个上下文对象"><a href="#（2）多个上下文对应多个上下文对象" class="headerlink" title="（2）多个上下文对应多个上下文对象"></a>（2）多个上下文对应多个上下文对象</h4><ul>
<li>Provider禁止复用，应重新React.createContext()创建</li>
<li>创建者和使用者应对应同一个上下文对象<ul>
<li>contextType == React.createContext()</li>
<li>context.Provider &lt;==&gt; context.Consumer</li>
</ul>
</li>
</ul>
<h4 id="（3）context-Provider的value属性发生变化会强制更新"><a href="#（3）context-Provider的value属性发生变化会强制更新" class="headerlink" title="（3）context.Provider的value属性发生变化会强制更新"></a>（3）context.Provider的value属性发生变化会强制更新</h4><ul>
<li>其包裹区域所有元素会被强制重新渲染，无论子元素是否使用上下文</li>
<li>无视性能优化，shouldComponentUpdate()不会被执行</li>
<li>value变化比较的是地址（Object.is()）</li>
<li>通过保持value属性值的引用不变而避免强制更新（优化性能）</li>
<li>在类组件中如果想实现手动强制刷新，调用this.forceUpdate()函数即可</li>
</ul>
<hr>
<h2 id="（五）错误与渲染"><a href="#（五）错误与渲染" class="headerlink" title="（五）错误与渲染"></a>（五）错误与渲染</h2><h3 id="1-错误边界（React-gt-16-0-0）"><a href="#1-错误边界（React-gt-16-0-0）" class="headerlink" title="1.错误边界（React &gt;= 16.0.0）"></a>1.错误边界（React &gt;= 16.0.0）</h3><ul>
<li>在React中，如果某个元素在渲染期间出现了错误，则整个组件树会被卸载</li>
<li>利用错误边界处理错误，自定义一个高阶组件，有能力捕获子元素在渲染期间发生的错误并阻止其继续传播<ul>
<li>方法1：编写静态生命周期函数 static getDerivedStateFromError()<ul>
<li>参数：错误对象</li>
<li>返回值：一个对象Object，该对象会与状态进行混合</li>
<li>触发条件：只有子组件在渲染期间发生错误，才会运行该函数</li>
<li>触发时间：在渲染子组件过程中，发生错误后，更新页面之前运行</li>
<li>处理错误：有机会预先通过状态来处理错误</li>
</ul>
</li>
<li>方法2：编写生命周期函数 componentDidCatch()<ul>
<li>参数1：错误对象</li>
<li>参数2：错误摘要</li>
<li>触发条件：只有子组件在渲染期间发生错误，才会运行该函数</li>
<li>触发时间：在渲染子组件过程中，发生错误后，更新页面之后运行（运行时间点靠后，如果改变状态，性能低下）</li>
<li>处理错误：在生命周期函数内改变状态，有机会预先通过状态来处理错误（通常只用于记录错误信息）</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-节点创建与挂载"><a href="#2-节点创建与挂载" class="headerlink" title="2.节点创建与挂载"></a>2.节点创建与挂载</h3><ul>
<li>react元素：通过React.createElement()创建的对象</li>
<li>react节点：根据react元素创建用于渲染UI页面的对象</li>
<li>通过节点对象生成虚拟DOM树<ul>
<li>根据不同的节点类型做不同的事情</li>
<li>对于文本节点，关联React节点与真实文本节点</li>
<li>对于DOM节点，关联React节点与真实DOM节点，设置真实DOM的各种属性</li>
<li>对于类组件节点，关联React节点与实例对象，运行生命周期方法<ul>
<li>对render()返回的节点内容进行操作</li>
<li>将componentDidMount()加入执行队列</li>
</ul>
</li>
</ul>
</li>
<li>将生成的虚拟DOM树保存起来，供后续使用</li>
<li>将真实的DOM节点添加到容器中，然后运行执行队列（子组件的componentDidMount()会先运行）</li>
</ul>
<table>
<thead>
<tr>
<th align="left">react元素类型</th>
<th align="left">非react元素类型</th>
<th align="left">react节点类型</th>
<th align="left">react节点创建</th>
<th align="left">后续操作</th>
</tr>
</thead>
<tbody><tr>
<td align="left">string（内置组件）</td>
<td align="left">/</td>
<td align="left">DOM节点</td>
<td align="left">document.createElement()</td>
<td align="left">操作子元素</td>
</tr>
<tr>
<td align="left">function（函数组件）</td>
<td align="left">/</td>
<td align="left">组件节点</td>
<td align="left">调用函数得到节点内容</td>
<td align="left">操作节点内容</td>
</tr>
<tr>
<td align="left">class（类组件）</td>
<td align="left">/</td>
<td align="left">组件节点</td>
<td align="left">创建该类的实例对象</td>
<td align="left">运行生命周期</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">string（字符串）</td>
<td align="left">文本节点</td>
<td align="left">docuemnt.createTextNode()</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">number（数字）</td>
<td align="left">文本节点</td>
<td align="left">docuemnt.createTextNode()</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">boolean（布尔值）</td>
<td align="left">空节点</td>
<td align="left">占位</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">null（空）</td>
<td align="left">空节点</td>
<td align="left">占位</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">undefined（未定义）</td>
<td align="left">空节点</td>
<td align="left">占位</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">array（数组）</td>
<td align="left">数组节点</td>
<td align="left">docuemnt.createDocumentFragment()</td>
<td align="left">操作数组项</td>
</tr>
</tbody></table>
<hr>
<h3 id="3-节点更新与卸载"><a href="#3-节点更新与卸载" class="headerlink" title="3.节点更新与卸载"></a>3.节点更新与卸载</h3><h4 id="（1）更新场景与流程："><a href="#（1）更新场景与流程：" class="headerlink" title="（1）更新场景与流程："></a>（1）更新场景与流程：</h4><ul>
<li>ReactDOM.render()根节点开始更新<ul>
<li>进入根节点的 <strong><font color=red>对比更新（diff）</font></strong></li>
</ul>
</li>
<li>setState()以该实例对象所在的组件节点为根节点的分支开始更新<ul>
<li>运行生命周期：static getDerivedStateFromProps()</li>
<li>运行生命周期：shouldComponentUpdate()<ul>
<li>返回值：false ==&gt; 结束</li>
<li>返回值：true ==&gt; 继续更新</li>
</ul>
</li>
<li>运行生命周期：render()<ul>
<li>得到一个新节点，进入新节点的 <strong><font color=red>对比更新（diff）</font></strong></li>
</ul>
</li>
<li>将生命周期加入队列：getSnapshotBeforeUpdate()</li>
<li>将生命周期加入队列：componentDidUpdate()</li>
</ul>
</li>
<li>更新虚拟DOM树</li>
<li>更新真实DOM</li>
<li>执行队列中的生命周期：componentDidMount()()</li>
<li>执行队列中的生命周期：getSnapshotBeforeUpdate()</li>
<li>执行队列中的生命周期：componentDidUpdate()</li>
<li>运行生命周期：componentWillUnMount()</li>
</ul>
<h4 id="（2）对比更新"><a href="#（2）对比更新" class="headerlink" title="（2）对比更新"></a>（2）对比更新</h4><ul>
<li>本质：将产生的新节点与之前虚拟DOM树中的节点进行对比，发现差异，完成更新</li>
<li>问题：与之前虚拟DOM树中的哪个节点对比？</li>
<li>假设：<ul>
<li>节点不会出现层次移动，利用树的深度直接定位层级</li>
<li>同一层级不同节点类型会生成不同的结构</li>
<li>同一层级相同节点类型的多个兄弟节点使用Key进行标识<ul>
<li>同一层级没有key，节点按照顺序对比</li>
<li>同一层级若有key，节点按key确定对比目标（key不同直接走没有对比目标）</li>
</ul>
</li>
</ul>
</li>
<li>结果：<ul>
<li>找到了对比目标，判断节点类型<ul>
<li>类型相同：针对类型做 <strong><font color=green>对应更新</font></strong></li>
<li>类型不同：<strong><font color=blue>卸载旧节点</font></strong>，创建新节点</li>
</ul>
</li>
<li>没有找到对比目标，判断节点的增减<ul>
<li>创建增加的节点，走创建流程</li>
<li>卸载多余的节点，走卸载流程</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（3）对应更新"><a href="#（3）对应更新" class="headerlink" title="（3）对应更新"></a>（3）对应更新</h4><ul>
<li>若之前虚拟DOM树中React节点有关联真实DOM，则重用关联的真实DOM，记录变化的属性</li>
<li>若之前虚拟DOM树中React节点有关联实例对象，则重用关联的实例对象，运行生命周期方法</li>
<li>函数组件节点：直接调用函数，递归对比更新</li>
<li>空节点：不做任何事</li>
<li>数组节点：遍历数组，逐一递归对比更新</li>
</ul>
<h4 id="（4）卸载节点"><a href="#（4）卸载节点" class="headerlink" title="（4）卸载节点"></a>（4）卸载节点</h4><ul>
<li>先创建新节点，再卸载旧节点，然后挂载新节点</li>
<li>非类组件节点：直接放弃该节点，如果有子节点，递归卸载子节点</li>
<li>类组件节点：<ul>
<li>直接放弃该节点，如果有子节点，递归卸载子节点</li>
<li>运行声明周期：componentWillUnMount()</li>
<li>在卸载过程中componentWillUnMount()不会加入队列而是直接执行</li>
<li>先卸载当前节点再递归卸载子节点，当前节点componentWillUnMount()会先运行</li>
</ul>
</li>
<li>不同类型的节点会假设生成不同的结构<ul>
<li>父节点不同，整个分支会被卸载重建</li>
<li>子节点没有机会进行对比更新</li>
<li>应尽量不要去改变节点类型</li>
</ul>
</li>
<li>在虚拟DOM树中是按位置进行对比的<ul>
<li>节点在树中的位置变化直接影响对比对象会发生变化</li>
<li>应尽量利用样式控制节点的显示隐藏</li>
<li>应充分利用空节点保持结构的稳定</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-Profiler调试工具"><a href="#4-Profiler调试工具" class="headerlink" title="4.Profiler调试工具"></a>4.Profiler调试工具</h3><ul>
<li>可用于性能分析 </li>
</ul>
<hr>
<h2 id="（六）HOOK"><a href="#（六）HOOK" class="headerlink" title="（六）HOOK"></a>（六）HOOK</h2><h3 id="1-State-Hook"><a href="#1-State-Hook" class="headerlink" title="1.State Hook"></a>1.State Hook</h3><h4 id="（1）注册"><a href="#（1）注册" class="headerlink" title="（1）注册"></a>（1）注册</h4><ul>
<li>API：React.useState()</li>
<li>功能：为函数组件添加状态，只能在函数内部使用</li>
<li>参数：Any，状态默认值（默认undefined）</li>
<li>返回值：Array，一个长度为2的数组<ul>
<li>数组第一项：状态数据</li>
<li>数组第一项：状态改变方法</li>
</ul>
</li>
</ul>
<h4 id="（2）原理"><a href="#（2）原理" class="headerlink" title="（2）原理"></a>（2）原理</h4><ul>
<li>第一次创建节点的时候给组件节点创建一个状态表格</li>
<li>在第n次调用useState()，检查状态表格是否存在下标n<ul>
<li>不存在：使用默认值创建一个状态，加入状态表格，下标为n</li>
<li>若存在：忽略默认值，直接返回下标为n的状态</li>
</ul>
</li>
<li>每个组件的状态表格是独立的，互不影响</li>
<li>一个组件可有多个状态，状态应定义在函数体顶部，便于阅读</li>
<li>严禁在代码块（判断、循环）内定义，会导致状态对应紊乱</li>
<li>状态对应的改变方法的引用是固定的，节约内存空间</li>
<li>调用状态改变方法改变状态，状态数据不会混合，而是直接覆盖替换，建议对多个数据使用多个状态，分别管理</li>
<li>某些状态之间没有必然联系，应分化为不同的状态，而不要合在一起</li>
<li>状态发生改变，组件会被重现渲染，但是调用状态改变方法，若数据没有变化（Object.is(old, new)）不会导致重现渲染</li>
<li>如果要实现强制刷新，可使用默认值为空对象的状态改变方法 const [, forceUpdate] = useState({})</li>
<li>状态的改变可能是异步的，对状态改变方法传递一个函数，函数参数是上一次的状态且是可信任的</li>
</ul>
<hr>
<h3 id="2-Effect-Hook"><a href="#2-Effect-Hook" class="headerlink" title="2.Effect Hook"></a>2.Effect Hook</h3><h4 id="（1）注册-1"><a href="#（1）注册-1" class="headerlink" title="（1）注册"></a>（1）注册</h4><ul>
<li>API：<ul>
<li>React.useEffect()</li>
<li>React.useLayoutEffect()</li>
</ul>
</li>
<li>功能：为函数组件注册副作用处理函数，只能在函数内部使用</li>
<li>参数1：function，副作用处理函数<ul>
<li>参数：undefined，没有参数</li>
<li>返回值：function，清理函数</li>
</ul>
</li>
<li>参数2：Array，依赖项<ul>
<li>使用一个空数组作为依赖项，则副作用处理函数仅会在首次渲染时运行一次，清理函数仅会在组件销毁时运行一次</li>
</ul>
</li>
<li>返回值：undefined，没有返回值</li>
</ul>
<h4 id="（2）副作用处理函数"><a href="#（2）副作用处理函数" class="headerlink" title="（2）副作用处理函数"></a>（2）副作用处理函数</h4><ul>
<li>运行时间点：<ul>
<li>React.useEffect()：<ul>
<li>副作用处理函数在修改真实DOM之后，界面UI完成渲染之后异步运行</li>
<li>推荐使用React.useEffect()，不会导致页面渲染阻塞</li>
</ul>
</li>
<li>React.useLayoutEffect()：<ul>
<li>类组件生命周期方法在修改真实DOM之后，界面UI尚未渲染之前同步运行</li>
<li>与类组件中componentDidMount()、componentDidUpdate()一致</li>
</ul>
</li>
<li>如果注册了依赖项，只有依赖数据发生变化才会运行</li>
</ul>
</li>
<li>注册副作用处理函数与State类似<ul>
<li>严禁在代码块（判断、循环）内注册</li>
<li>一个组件可以注册多个副作用处理函数</li>
<li>多个副作用函数按照注册顺序依次执行</li>
</ul>
</li>
<li><font color=red>在副作用函数内使用了函数上下文中的数据，由于闭包影响，数据更新可能会非实时</font><ul>
<li>副作用处理函数是异步函数，函数内使用外部上下文中的数据状态会指向定义时的状态，而非调用时的状态</li>
<li>如果在定义到调用期间使用的数据状态发生了改变，则调用时的结果可能会不如预期</li>
</ul>
</li>
<li>副作用函数的重复注册执行的是覆盖，应保持副作用函数和清理函数的稳定</li>
</ul>
<h4 id="（3）清理函数"><a href="#（3）清理函数" class="headerlink" title="（3）清理函数"></a>（3）清理函数</h4><ul>
<li>副作用处理函数可以有返回值，返回一个函数，叫做清理函数</li>
<li>清理函数会在合适的时候被自动调用：<ul>
<li>组件首次渲染时不会运行</li>
<li>组件销毁时会运行</li>
<li>在每次副作用处理函数运行之前运行</li>
<li>如果注册了依赖项，只有在组件销毁时才会运行</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-自定义-Hook"><a href="#3-自定义-Hook" class="headerlink" title="3.自定义 Hook"></a>3.自定义 Hook</h3><ul>
<li>API：React.useHookName()</li>
<li>功能：使用一个函数提取封装通用Hook功能</li>
<li>语法：使用use前缀命名</li>
<li>优势：对比高阶组件和render Props<ul>
<li>用函数封装功能，使用和理解更容易</li>
<li>不会改变组件结构，没有复杂的嵌套结构</li>
<li>Hook可以进行自定义分化，将复杂的数据和功能拆分，横切关注点</li>
</ul>
</li>
</ul>
<h3 id="4-Context-Hook"><a href="#4-Context-Hook" class="headerlink" title="4.Context Hook"></a>4.Context Hook</h3><ul>
<li>API：React.useContext()</li>
<li>功能：用于获取上下文中的数据</li>
<li>目的：减少组件嵌套层次（替代Consumer）</li>
<li>参数：Object，上下文对象（React.createContext()的返回值）</li>
<li>返回值：Object，上下文中的数据（由上层最近的Provider的value决定）</li>
</ul>
<h3 id="5-Callback-Hook"><a href="#5-Callback-Hook" class="headerlink" title="5.Callback Hook"></a>5.Callback Hook</h3><ul>
<li>API：React.useCallback()</li>
<li>功能：用于固定函数引用（通常用于固定回调函数）</li>
<li>目的：用于优化组件事件（组件事件是一个属性，如若传递的函数引用不固定会导致组件重新渲染而浪费效率）</li>
<li>参数1：function，需要固定的函数</li>
<li>参数2：Array，依赖项</li>
<li>返回值：function，固定引用的函数<ul>
<li>只要依赖项没有变化，函数引用就不会改变</li>
<li>依赖项没有变化， useCallback()就会忽略参数，继续返回上一次的返回值 </li>
</ul>
</li>
</ul>
<h3 id="6-Memo-Hook"><a href="#6-Memo-Hook" class="headerlink" title="6.Memo Hook"></a>6.Memo Hook</h3><ul>
<li>API：React.useMemo()</li>
<li>功能：用于稳定处理函数的结果（通常用于稳定复杂计算的结果）</li>
<li>目的：用于优化性能</li>
<li>参数1：function，处理函数</li>
<li>参数2：Array，依赖项</li>
<li>返回值：Any，处理函数的返回值<ul>
<li>只要依赖项没有变化，处理函数就不会再次调用</li>
<li>依赖项没有变化， 处理函数的返回值作为useMemo()的返回值固定不变</li>
</ul>
</li>
<li>特点：比useCallback()更加强大：<ul>
<li>useCallback()只能固定函数</li>
<li>useMemo()可以固定任意类型的数据</li>
</ul>
</li>
</ul>
<h3 id="6-Ref-Hook"><a href="#6-Ref-Hook" class="headerlink" title="6.Ref Hook"></a>6.Ref Hook</h3><ul>
<li>API：React.useRef()</li>
<li>功能：用于创建一个不可变的ref对象（通常用于固定ref引用）</li>
<li>目的：在函数组件内代替React.cteateRef()</li>
<li>参数：Any，默认值对应ref对象中current属性的值</li>
<li>返回值：Object，ref对象{current: null}</li>
<li>特点：ref对象引用不可变，但是current属性值是可变的，可用于保存任何可变值</li>
</ul>
<hr>
<h3 id="7-Reducer-Hook"><a href="#7-Reducer-Hook" class="headerlink" title="7.Reducer Hook"></a>7.Reducer Hook</h3><h4 id="1-注册"><a href="#1-注册" class="headerlink" title="1.注册"></a>1.注册</h4><ul>
<li>API：React.useReducer()</li>
<li>功能：封装Flux数据流处理模式</li>
<li>目的：在组件内只分发action声明如何处理数据，而不关注数据处理逻辑和过程</li>
<li>参数1：function，数据处理函数reducer</li>
<li>参数2：Any，数据State默认值（如果注册了第三个参数，则该默认值会作为参数而非数据默认值）</li>
<li>参数3：function，数据State默认值处理函数<ul>
<li>参数：Any，注册的第二个参数</li>
<li>返回值：Any，数据State默认值</li>
</ul>
</li>
<li>返回值：Array，数据和action分发函数[state, dispatch]</li>
</ul>
<h4 id="2-原理"><a href="#2-原理" class="headerlink" title="2.原理"></a>2.原理</h4><ul>
<li>模式：遵从Flux数据流处理模式</li>
<li>数据：仓库数据或状态state</li>
<li>action: Object，数据处理描述对象<ul>
<li>type属性：声明数据处理方式（与reducer约定对应）</li>
<li>payload属性：附加数据</li>
</ul>
</li>
<li>reducer：function，数据处理逻辑<ul>
<li>参数1：Any，数据State</li>
<li>参数2：Object，action数据处理描述对象</li>
<li>返回值：处理后的数据</li>
</ul>
</li>
<li>dispatch：function，任务分发器<ul>
<li>参数：Object，action数据处理描述对象</li>
<li>函数体：<ul>
<li>调用reducer处理函数，将数据Stae和action传入</li>
<li>得到reducer处理结果，将结果作为数据改变就数据Stae状态</li>
</ul>
</li>
</ul>
</li>
<li>useReducer：function，封装函数<ul>
<li>创建一个状态State作为数据仓库，得到一个对应的状态修改方法setState()</li>
<li>状态默认值来源于参数传入</li>
<li>定义dispatch函数，在dispatch函数内实现数据状态的改变<ul>
<li>数据处理逻辑reducer()来源于参数传入</li>
<li>数据改变方法setState()来源于创建状态时对应的改变方法</li>
<li>新数据来源于数据处理函数reducer()的调用结果</li>
<li>给数据处理函数reducer()传递的数据仓库来源于创建的状态State</li>
<li>给数据处理函数reducer()传递的action来源于外部使用dispatch时分发的action</li>
</ul>
</li>
<li>返回一个数组：<ul>
<li>第一项：数据状态State</li>
<li>第二项：dispatch函数</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h1 id="三、React-Transition-Group-动画"><a href="#三、React-Transition-Group-动画" class="headerlink" title="三、React Transition Group 动画"></a>三、React Transition Group 动画</h1><p><a href="https://reactcommunity.org/react-transition-group/" target="_blank" rel="noopener">React Transition Group文档 </a></p>
<blockquote>
<p>yarn add react-transition-group</p>
</blockquote>
<h2 id="（一）Transition"><a href="#（一）Transition" class="headerlink" title="（一）Transition"></a>（一）Transition</h2><h3 id="1-原理"><a href="#1-原理" class="headerlink" title="1.原理"></a>1.原理</h3><ul>
<li>默认情况下，Transition组件不会更改其渲染的组件的行为，它仅跟踪组件的“进入”和“退出”状态。</li>
<li>由您来赋予这些状态以意义和效果。</li>
<li>可以在组件进入或退出时为其添加样式。</li>
<li>初始状态：<ul>
<li>当in属性为false时，初始状态为exited</li>
<li>当in属性为true时，初始状态为entered</li>
</ul>
</li>
<li>进入状态：<ul>
<li>当in属性从false变化到true</li>
<li>立即执行默认状态exited</li>
<li>立即执行正在进入entering</li>
<li>延时timeout时间后，执行已完成进入entered</li>
</ul>
</li>
<li>退出状态：<ul>
<li>当in属性从true变化到false</li>
<li>立即执行默认状态entered</li>
<li>立即执行正在退出exiting</li>
<li>延时timeout时间后，执行已完成退出exited</li>
</ul>
</li>
</ul>
<h3 id="2-属性"><a href="#2-属性" class="headerlink" title="2.属性"></a>2.属性</h3><ul>
<li>in：boolean，用于决定状态</li>
<li>timeout：number，用于决定状态变化时长</li>
<li>mountOnEnter：boolean，是否延迟挂载子组件<ul>
<li>false：默认与父组件Transition同时挂载</li>
<li>true：当in指定为true时才会挂载</li>
</ul>
</li>
<li>unmountOnExit：boolean，是否在退出后卸载载子组件<ul>
<li>false：默认当状态为exited时，子组件依然挂载</li>
<li>true：当状态为exited时，子组件会被卸载</li>
</ul>
</li>
<li>appear：boolean，首次挂载是否应用过渡状态<ul>
<li>false：默认首次挂载组件没有应用过渡状态</li>
<li>true：在组件挂在后，会立即应用过渡状态</li>
</ul>
</li>
<li>其它属性</li>
<li>其它事件</li>
</ul>
<h3 id="3-状态"><a href="#3-状态" class="headerlink" title="3.状态"></a>3.状态</h3><ul>
<li>通过Transition组件的children使用一个函数，函数参数state获得实时状态<ul>
<li>‘entering’ 正在进入</li>
<li>‘entered’ 已完成进入</li>
<li>‘exiting’ 正在退出</li>
<li>‘exited’ 已完成退出</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）CSSTransition"><a href="#（二）CSSTransition" class="headerlink" title="（二）CSSTransition"></a>（二）CSSTransition</h2><h3 id="1-原理-1"><a href="#1-原理-1" class="headerlink" title="1.原理"></a>1.原理</h3><ul>
<li>建立在Transition组件的基础上，完全继承了Transition组件的特性</li>
<li>将Transition组件过渡状态变化对应为CSSTransition根子元素设置className类</li>
<li>通过className类定义对应的类样式</li>
</ul>
<h3 id="2-属性-1"><a href="#2-属性-1" class="headerlink" title="2.属性"></a>2.属性</h3><ul>
<li>属性对应Transition组件</li>
<li>事件对应Transition组件</li>
</ul>
<h3 id="3-className类"><a href="#3-className类" class="headerlink" title="3.className类"></a>3.className类</h3><table>
<thead>
<tr>
<th align="left">Transition组件过渡状态</th>
<th align="left">CSSTransition根子元素类样式</th>
</tr>
</thead>
<tbody><tr>
<td align="left">‘entering’ 正在进入</td>
<td align="left">‘enter enter-active’</td>
</tr>
<tr>
<td align="left">‘entered’ 已完成进入</td>
<td align="left">‘enter-done’</td>
</tr>
<tr>
<td align="left">‘exiting’ 正在退出</td>
<td align="left">‘exit exit-active’</td>
</tr>
<tr>
<td align="left">‘exited’ 已完成退出</td>
<td align="left">‘exit-done’</td>
</tr>
<tr>
<td align="left">‘appear’ 首次挂载</td>
<td align="left">‘appear’</td>
</tr>
<tr>
<td align="left">‘appearing’ 首次挂载中</td>
<td align="left">‘appear appear-active’</td>
</tr>
<tr>
<td align="left">‘appeared’ 首次挂载完成</td>
<td align="left">‘appear-done enter-done’</td>
</tr>
</tbody></table>
<ul>
<li>当in属性从false变化为true时：<ul>
<li>立即添加类样式：enter（强制回流）</li>
<li>立即添加类样式：enter-active</li>
<li>延时timeout时间后，移除类样式enter、enter-active，添加类样式enter-done</li>
</ul>
</li>
<li>当in属性从true变化为false时：<ul>
<li>立即添加类样式：exit（强制回流）</li>
<li>立即添加类样式：exit-active</li>
<li>延时timeout时间后，移除类样式exit、exit-active，添加类样式exit-done</li>
</ul>
</li>
<li>使用classNames属性修改对应类样式名称<ul>
<li>字符串：添加前缀</li>
<li>对象：具体修改类样式名称</li>
</ul>
</li>
<li><a href="https://animate.style/" target="_blank" rel="noopener">与css动画库animate.css联用</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">classNames=&#123;&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   appear: <span class="string">'my-appear'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   appearActive: <span class="string">'my-active-appear'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   appearDone: <span class="string">'my-done-appear'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   enter: <span class="string">'my-enter'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   enterActive: <span class="string">'my-active-enter'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   enterDone: <span class="string">'my-done-enter'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   exit: <span class="string">'my-exit'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   exitActive: <span class="string">'my-active-exit'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">   exitDone: <span class="string">'my-done-exit'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;&#125;</span></pre></td></tr></table></figure>
<hr>
<h2 id="（三）SwitchTransition"><a href="#（三）SwitchTransition" class="headerlink" title="（三）SwitchTransition"></a>（三）SwitchTransition</h2><ul>
<li>children属性接受一个Transition或CSSTransition组件，主要实现有次序的切换<ul>
<li>Transition或CSSTransition组件不再使用in属性</li>
<li>Transition或CSSTransition组件使用key属性</li>
<li>控制Transition或CSSTransition组件根子元素的样式</li>
<li>当key值发生变化的时候，重现渲染Transition或CSSTransition组件根子元素（DOM元素）</li>
</ul>
</li>
<li>model属性控制切换模式<ul>
<li>out-in<ul>
<li>当key值发生变化的时候</li>
<li>为DOM元素添加退出样式exit、exit-active</li>
<li>退出完成后，将DOM元素移除</li>
<li>重现渲染DOM元素</li>
<li>为新DOM元素素添加进入样式enter、enter-active、enter-done</li>
</ul>
</li>
<li>in-out<ul>
<li>当key值发生变化的时候</li>
<li>重现渲染DOM元素（保留原DOM元素）</li>
<li>为DOM元素添加进入样式enter、enter-active、enter-done</li>
<li>为原DOM元素添加退出样式exit、exit-active</li>
<li>退出完成后，将原DOM元素移除</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（四）TransitionGroup"><a href="#（四）TransitionGroup" class="headerlink" title="（四）TransitionGroup"></a>（四）TransitionGroup</h2><ul>
<li>children属性接受多个Transition或CSSTransition组件，主要实现一组（列表）动画</li>
<li><a href="https://www.npmjs.com/package/uuid" target="_blank" rel="noopener">使用uuid定义唯一的key值</a></li>
<li>当一个DOM元素移除时会应用退出类样式</li>
<li>当一个DOM元素添加时会应用进入类样式</li>
<li>appear属性：可统一控制整个列表首次挂载应用进入样式</li>
<li>component属性：控制TransitionGroup在组件树中生成的结构<ul>
<li>默认生成一个div</li>
<li>字符串：指定生成的元素，例如“ul”</li>
<li>null：不生成任何元素</li>
</ul>
</li>
</ul>
<hr>
<h1 id="四、React-Router-路由"><a href="#四、React-Router-路由" class="headerlink" title="四、React Router 路由"></a>四、React Router 路由</h1><p><a href="http://react-guide.github.io/react-router-cn/index.html" target="_blank" rel="noopener">React Router</a></p>
<p><a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router-dom#installation" target="_blank" rel="noopener">React Router Dom</a></p>
<blockquote>
<p>yarn add react-router-dom</p>
</blockquote>
<h2 id="（一）概述"><a href="#（一）概述" class="headerlink" title="（一）概述"></a>（一）概述</h2><h3 id="1-单页面应用"><a href="#1-单页面应用" class="headerlink" title="1.单页面应用"></a>1.单页面应用</h3><ul>
<li>通常只是站点的一部分（某一个功能块）</li>
<li>路由：<ul>
<li>根据不同的页面地址，展示不同的组件</li>
<li>实现无刷新地址切换</li>
</ul>
</li>
</ul>
<h3 id="2-url地址"><a href="#2-url地址" class="headerlink" title="2.url地址"></a>2.url地址</h3><ul>
<li>协议名（schema）</li>
<li>主机名（host）<ul>
<li>IP地址</li>
<li>预设值：localhost</li>
<li>域名</li>
<li>局域网电脑名称</li>
</ul>
</li>
<li>端口号（port）<ul>
<li>http：默认80</li>
<li>https：默认443</li>
</ul>
</li>
<li>路径（path）</li>
<li>地址参数（search、query）</li>
<li>哈希、锚点（hash）</li>
</ul>
<h3 id="3-路由模式"><a href="#3-路由模式" class="headerlink" title="3.路由模式"></a>3.路由模式</h3><ul>
<li>Hash Router 哈希路由<ul>
<li>url地址中hash值的改变不会导致页面的属性</li>
<li>根据hash值来确定渲染的组件</li>
<li>使用location对象的hash属性获得hash值</li>
</ul>
</li>
<li>Browser History Router 浏览器历史记录路由<ul>
<li>history历史记录使用栈stack存储</li>
<li>html5新增history API使浏览器可以改变url地址而不刷新页面<ul>
<li>history.pushState(data, title, url)向历史记录栈中添加一条url记录</li>
<li>history.replaceState(data, title, url)将当前指向的url记录替换为指定的url记录</li>
</ul>
</li>
<li>根据页面路径来确定渲染的组件</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）路由组件"><a href="#（二）路由组件" class="headerlink" title="（二）路由组件"></a>（二）路由组件</h2><h3 id="1-Router-模式组件"><a href="#1-Router-模式组件" class="headerlink" title="1.Router 模式组件"></a>1.Router 模式组件</h3><ul>
<li>HashRouter组件，哈希路由模式</li>
<li>BrowserRouter组件，浏览器历史记录路由模式<ul>
<li>Router组件<ul>
<li>Router.Provider组件，提供上下文支持<ul>
<li>value包含三个数据对象（仅组件内部使用，且是包装过的）<ul>
<li>history</li>
<li>location</li>
<li>match</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>getUserConfirmation属性：function，阻塞器函数</li>
</ul>
</li>
</ul>
<h3 id="2-Route-规则组件"><a href="#2-Route-规则组件" class="headerlink" title="2.Route 规则组件"></a>2.Route 规则组件</h3><ul>
<li>Route组件，路由配置<ul>
<li>Router.Consumer组件，获得路由上下文<ul>
<li>Router.Provider组件，提供局部上下文</li>
</ul>
</li>
<li>path属性：<ul>
<li>string，匹配路径</li>
<li>string-pattern，匹配规则</li>
<li>array，一组匹配路径（匹配其一即可）</li>
<li>不配置path属性，任意匹配</li>
</ul>
</li>
<li>sensitive属性：boolean，是否区分大小写</li>
<li>exact属性：boolean，是否精确匹配</li>
<li>strict属性：boolean，是够严格匹配最后一个斜杠/</li>
<li>component属性：element，定义匹配后渲染的组件</li>
<li>render属性：function，定义匹配后运行的函数，渲染返回值</li>
<li>children属性<ul>
<li>React元素：只要当前Route进行了匹配，无论是否匹配成功，子元素都会渲染，并且会忽略component属性</li>
<li>function函数：<ul>
<li>参数：路由上下文</li>
<li>返回值：只要当前Route进行了匹配，无论是否匹配成功，返回值都会渲染，并且会忽略component属性</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-功能组件"><a href="#3-功能组件" class="headerlink" title="3.功能组件"></a>3.功能组件</h3><ul>
<li><strong>Switch组件</strong>，控制一组Route组件，只要匹配到一个即停止匹配</li>
<li><strong>withRouter高阶组件</strong>，向非路由组件中注入路由信息</li>
<li><strong>Link组件</strong>，生成一个无刷新跳转的a元素<ul>
<li>to属性：<ul>
<li>string：路径</li>
<li>object：自定义location对象，会自动解析到地址栏</li>
</ul>
</li>
<li>replace属性：boolean，是否使用replace方式跳转</li>
<li>innerRef属性：DOM，对应内部真实a元素</li>
</ul>
</li>
<li><strong>NavLink组件</strong>，强化的Link组件，添加匹配时类样式<ul>
<li>activeClassName属性：string，自定义匹配时类样式（默认active）</li>
<li>activeStyle属性：object，匹配时行间样式</li>
</ul>
</li>
<li><strong>Redirect组件</strong>，强化的Link组件，重定向（当该组件运行时直接跳转至to属性定义的地址）<ul>
<li>to属性：路径</li>
<li>push属性：是否使用push方式跳转</li>
<li>from属性：跳转条件（当匹配到from属性时才进行跳转）</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（三）路由信息"><a href="#（三）路由信息" class="headerlink" title="（三）路由信息"></a>（三）路由信息</h2><h3 id="1-创建"><a href="#1-创建" class="headerlink" title="1.创建"></a>1.创建</h3><ul>
<li>Router组件会创建上下文，并注入信息</li>
<li>Route组件也会创建上下文，并注入信息</li>
</ul>
<h3 id="2-获取"><a href="#2-获取" class="headerlink" title="2.获取"></a>2.获取</h3><ul>
<li>上下文对于开发者是不可用的</li>
<li>Route组件在匹配成功后，将上下文中的信息作为属性传递给对应的组件</li>
<li>通过组件属性获得对应的路由信息<ul>
<li>props.history</li>
<li>props.location</li>
<li>props.match</li>
</ul>
</li>
</ul>
<h3 id="3-history对象"><a href="#3-history对象" class="headerlink" title="3.history对象"></a>3.history对象</h3><ul>
<li><strong>实现无刷新地址跳转</strong></li>
<li>该对象是包装过的，不是原生的window.history对象<ul>
<li>如果直接使用原生history对象，则无法支持哈希路由模式</li>
<li>原生history对象方法使用时不会有任何通知，React无法知晓地址变化，不会重现渲染组件</li>
</ul>
</li>
<li>push方法：将新的地址入栈<ul>
<li>参数1：新路径</li>
<li>参数2：附加state数据<ul>
<li>通过history.location.state获取</li>
<li>此数据依赖跳转时手动附加，如果直接访问某个地址则无法拥有状态数据，所以数据通常附带在url地址中，而不是使用此处的附加state</li>
</ul>
</li>
</ul>
</li>
<li>replace方法：将新地址替换当前地址<ul>
<li>参数1：新路径</li>
<li>参数2：附加state数据</li>
</ul>
</li>
<li>go方法</li>
<li>forward方法</li>
<li>back方法</li>
<li>listen方法：监听器<ul>
<li>参数：function，当地址变化时调用该函数（即将跳转到新页面之前）<ul>
<li>参数1：location对象，当前地址信息</li>
<li>参数2：action字符串，进入地址方式<ul>
<li>“POP” ：浏览器前进后退、history.go()、history.goBack()、history.goForward()</li>
<li>“PUSH” ：history.push()</li>
<li>“REPLACE” ：history.replace()</li>
</ul>
</li>
</ul>
</li>
<li>返回值：function，调用此函数取消监听</li>
</ul>
</li>
<li>block()方法：阻塞器<ul>
<li>参数：阻塞提示信息<ul>
<li>string</li>
<li>function<ul>
<li>参数1：location对象</li>
<li>参数2：action类型</li>
<li>返回值：string</li>
</ul>
</li>
</ul>
</li>
<li>调用getUserConfirmation()<ul>
<li>参数1：string，阻塞提示信息</li>
<li>参数2：function，是否放行<ul>
<li>放行：调用并传递true</li>
<li>阻塞：调用并传递false</li>
</ul>
</li>
</ul>
</li>
<li>返回值：function，调用此函数取消阻塞</li>
</ul>
</li>
</ul>
<h3 id="4-location"><a href="#4-location" class="headerlink" title="4.location"></a>4.location</h3><ul>
<li><strong>地址栏信息</strong></li>
<li>与history.location是同一个对象</li>
<li>hash属性：哈希值</li>
<li>pathname属性：路径</li>
<li>search属性：search数据</li>
<li>state属性：附加状态数据</li>
<li><a href="https://github.com/sindresorhus/query-string#readme" target="_blank" rel="noopener">使用query-string库解析字符串</a></li>
</ul>
<h3 id="5-match"><a href="#5-match" class="headerlink" title="5.match"></a>5.match</h3><ul>
<li><strong>路由匹配信息</strong></li>
<li>path属性：匹配规则</li>
<li>url属性：真实url地址中匹配到的部分</li>
<li>isExact属性：是否是精确匹配（指的是匹配结果是否精确，而非匹配方式是否精确，与Route组件定义exact属性无关）</li>
<li>params属性：对应string-pattern匹配规则中的数据</li>
<li><a href="https://github.com/pillarjs/path-to-regexp#readme" target="_blank" rel="noopener">path-to-regexp库实现string-pattern匹配规则</a></li>
</ul>
<hr>
<h2 id="（四）路由应用"><a href="#（四）路由应用" class="headerlink" title="（四）路由应用"></a>（四）路由应用</h2><h3 id="1-嵌套路由"><a href="#1-嵌套路由" class="headerlink" title="1.嵌套路由"></a>1.嵌套路由</h3><ul>
<li>通过父组件传递的属性location.url简化内层路由path</li>
<li>使用配置对象简化路由path</li>
</ul>
<h3 id="2-权限保护"><a href="#2-权限保护" class="headerlink" title="2.权限保护"></a>2.权限保护</h3><ul>
<li>封装一个自定义路由ProtectedRoute，使用方法与Route一样</li>
<li>返回一个Route组件</li>
<li>将component、render、children除外的属性传递给Route</li>
<li>Route组件使用render函数</li>
<li>在函数内部进行授权处理<ul>
<li>有权，则render直接返回component进行渲染</li>
<li>无权，则使用Redirect组件进行重定向</li>
</ul>
</li>
<li>在Redirect组件进行重定向进行重定向的时候，附带当前地址</li>
<li>在完成登录后，获取附带数据中的地址进行跳回</li>
<li>如果附带数据中没有跳转地址，则直接跳转至某个页面（通常是首页）</li>
</ul>
<h3 id="3-导航守卫"><a href="#3-导航守卫" class="headerlink" title="3.导航守卫"></a>3.导航守卫</h3><ul>
<li>离开一个页面，进入另一个页面时，触发的事件</li>
<li>使用history.listen方法添加一个监听器<ul>
<li>参数：function，监听器函数<ul>
<li>监听器的参数可以获得新location信息和action类型</li>
<li>监听器外部history.location获得旧的location信息</li>
</ul>
</li>
<li>返回值：function，卸载一个监听器</li>
</ul>
</li>
<li>使用history.block()方法添加一个阻塞器<ul>
<li>传递阻塞提示信息</li>
<li>调用阻塞器函数，并传递msg阻塞消息和callback放行函数</li>
<li>调用放行函数，传递true放行，传递false阻塞</li>
</ul>
</li>
</ul>
<h3 id="4-路由动画"><a href="#4-路由动画" class="headerlink" title="4.路由动画"></a>4.路由动画</h3><h3 id="5-滚动条复位"><a href="#5-滚动条复位" class="headerlink" title="5.滚动条复位"></a>5.滚动条复位</h3><h3 id="6-阻止跳转"><a href="#6-阻止跳转" class="headerlink" title="6.阻止跳转"></a>6.阻止跳转</h3><hr>
<h1 id="五、Redux-数据管理"><a href="#五、Redux-数据管理" class="headerlink" title="五、Redux 数据管理"></a>五、Redux 数据管理</h1><p><a href="https://redux.js.org/api/api-reference" target="_blank" rel="noopener">redux官方文档</a></p>
<blockquote>
<p>yard add redux</p>
</blockquote>
<h2 id="（一）Redux-核心"><a href="#（一）Redux-核心" class="headerlink" title="（一）Redux 核心"></a>（一）Redux 核心</h2><h3 id="1-MVC解决方案"><a href="#1-MVC解决方案" class="headerlink" title="1.MVC解决方案"></a>1.MVC解决方案</h3><ul>
<li>它是一个UI的解决方案，用于降低UI复杂度，以及UI关联的数据复杂度</li>
<li><strong>传统的服务端MVC</strong><ul>
<li>服务端响应一个完整的HTML页面</li>
<li>该HTML中包含页面所需要的数据</li>
<li>浏览器仅仅承担渲染的作用<img src="./MVC.png"></li>
</ul>
</li>
<li>Controller 处理请求，组装这次请求所需要的数据</li>
<li>Model 处理数据用于UI渲染的数据模型</li>
<li>View 试图，将数据模型组装到页面中</li>
<li><font color=red>不适用于前端（用户场景太多，控制太复杂）</font></li>
</ul>
<h3 id="2-FLUX解决方案"><a href="#2-FLUX解决方案" class="headerlink" title="2.FLUX解决方案"></a>2.FLUX解决方案</h3><ul>
<li>facebook提出的数据解决方案，他的最大历史意义在于它引入了action概念</li>
<li>action是一个普通的对象，用于描述干什么，action.type必须是一个String类型</li>
<li>store数据仓库，用于存储数据</li>
</ul>
<h3 id="3-Redux解决方案"><a href="#3-Redux解决方案" class="headerlink" title="3.Redux解决方案"></a>3.Redux解决方案</h3><ul>
<li>在flux基础上引入reducer<img src="./redux.png"></li>
<li>自定义reducer数据处理程序<ul>
<li>类型：function</li>
<li>参数1：旧state</li>
<li>参数2：action</li>
<li>返回值：新state</li>
</ul>
</li>
<li>自定义action数据处理描述<ul>
<li>类型：object</li>
<li>type属性：描述</li>
<li>payload属性：附带数据</li>
</ul>
</li>
<li>创建数据仓库store<ul>
<li>从redux引入createStore  </li>
<li>store = createStore(reducer, state)创建数据仓库</li>
</ul>
</li>
<li>分发action：store.dispatch(action)</li>
<li>获取数据：store.getState()</li>
</ul>
<h3 id="4-action"><a href="#4-action" class="headerlink" title="4.action"></a>4.action</h3><ul>
<li>action必须是一个plain-object(平面对象，它的<strong>proto</strong>指向Object.prototype)</li>
<li>action必须有一个type属性（any类型）<ul>
<li>大中型项目中避免硬编码, 可以使用type文件形式的样板代码</li>
</ul>
</li>
<li>action可以有一个payload属性（附加数据）</li>
<li>为了方便传递action，通常会使用action创建函数来创建action<ul>
<li>创建函数应该是一个无副作用的纯函数，该函数返回一个action对象</li>
</ul>
</li>
<li>为了方便利用action创建函数来分发，可以使用 bindActionCreators<ul>
<li>bindActionCreators用于增强action的功能，不仅可以创建action，并且在创建action后自动完成分发</li>
<li>bindActionCreators第一个参数接受一个对象，对象的属性对应action创建函数</li>
<li>bindActionCreators第二个参数接受一个dispatch，用于指定是哪一个用dispatch来完成分发</li>
<li>bindActionCreators返回一个对象，对象方法与接受的第一个参数对象相同，调用该对象的方法即完成使用对应的action进行分发</li>
</ul>
</li>
</ul>
<h3 id="5-reducer"><a href="#5-reducer" class="headerlink" title="5.reducer"></a>5.reducer</h3><ul>
<li>reducer必须为一个纯函数，用于处理对应的action触发时如何处理数据</li>
<li>reducer调用：<ul>
<li>store.dispatch分发的时候</li>
<li>createStore初始化仓库的时候</li>
<li>初始化仓库时可以不使用默认state，而是在reducer中给一个默认值</li>
</ul>
</li>
<li>reducer内部通常使用switch来判断action.type</li>
<li>通常一个工程只有一个store, 一个store只有一个reduce<ul>
<li>为了方便管理，通常将reducer放到单独的文件中</li>
<li>在大中型项目中，操作和结构都比较复杂，需要对reducer进行细分，每一个状态对应一个处理函数reducer</li>
<li>最用将细分的reducer进行合并，使用创建对象的形式执行处理函数，并单独传递对应的数据</li>
<li>combineReducers就是将多个细分的reducer进行合并成一个reducer，用于创建store<ul>
<li>combineReducers参数接受一个对象，对象属性对应细分的reducer</li>
<li>combineReducers返回一个最终的reducer</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="6-store"><a href="#6-store" class="headerlink" title="6.store"></a>6.store</h3><ul>
<li>通过createStore创建，用于保存数据</li>
<li>dispathch方法：分发action</li>
<li>getState方法：获取仓库数据</li>
<li>replaceReducer方法：替换数据处理程序reducer</li>
<li>subscribe方法：数据变化监听器（返回一个函数用于取消监听）</li>
</ul>
<h3 id="7-redux-actions"><a href="#7-redux-actions" class="headerlink" title="7.redux-actions"></a>7.redux-actions</h3><p><a href="https://redux-actions.js.org/" target="_blank" rel="noopener">redux-actions 官方文档</a></p>
<blockquote>
<p>yarn add redux-actions</p>
</blockquote>
<ul>
<li><p><strong>createAction方法</strong>：创建一个action创建函数</p>
<ul>
<li>参数1：action.type</li>
<li>参数2：payload处理函数<ul>
<li>参数：action创建函数传递的参数</li>
<li>返回值：payload的值</li>
</ul>
</li>
<li>返回值：一个对应的action创建函数</li>
</ul>
</li>
<li><p><strong>createActions方法</strong>：创建一组action创建函数</p>
<ul>
<li>参数：object，action描述对象<ul>
<li>属性名：action.type（遵循大写、下划线分割）</li>
<li>属性值：payload处理函数（不需要payload则设置为null）</li>
</ul>
</li>
<li>返回值：object，对应的action创建函数<ul>
<li>属性名：对应action创建函数名（转换为小驼峰命名）</li>
<li>属性值：对应action创建函数</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>handleAction方法</strong>：创建处理单个action类型的reducer函数</p>
<ul>
<li>参数1：action.type（支持action创建函数名，重写了toString）</li>
<li>参数2：针对action.type匹配处理函数</li>
<li>参数3：state默认值</li>
</ul>
</li>
<li><p><strong>handleAction方法</strong>：创建处理多个action类型的reducer函数</p>
<ul>
<li>参数：object，映射规则<ul>
<li>属性名：action.type（遵循大写、下划线分割）</li>
<li>属性值：针对action.type匹配处理函数</li>
</ul>
</li>
<li>返回值：function，reducer处理函数</li>
</ul>
</li>
<li><p><strong>combineActions方法</strong>：用于配合createActions和handleActions，将多个action创建函数合并成一个，对应一个处理函数reducer</p>
<ul>
<li>参数：需要匹配的action创建函数</li>
<li>返回值：一个合并的函数</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getActions = createActions(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  INCREASE: <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">1</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  DECREASE: <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">-1</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ADD: <span class="function"><span class="params">n</span> =&gt;</span> n,</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;increase, decrease add&#125; = getActions</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> handleActions(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  [combineActions(increse, decrease, add)]: <span class="function">(<span class="params">state, &#123;type, payload&#125;</span>) =&gt;</span> state + payload</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>
<hr>
<h2 id="（二）Middleware-中间件"><a href="#（二）Middleware-中间件" class="headerlink" title="（二）Middleware 中间件"></a>（二）Middleware 中间件</h2><h3 id="1-自定义中间件"><a href="#1-自定义中间件" class="headerlink" title="1.自定义中间件"></a>1.自定义中间件</h3><h4 id="（1）原理"><a href="#（1）原理" class="headerlink" title="（1）原理"></a>（1）原理</h4><ul>
<li>更改dispatch函数<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = createStore(reducer)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> dispatch = store.dispatch</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//添加一个中间件1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">store.dispatch = <span class="function">(<span class="params">action</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  store.getState()<span class="comment">//旧数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  action<span class="comment">//action</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  dispatch()<span class="comment">//运行原有功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  store.getState()<span class="comment">//新数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//添加一个中间件2</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">dispatch = store.dispatch</span></pre></td></tr><tr><td class="code"><pre><span class="line">store.dispatch = <span class="function">(<span class="params">action</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//中间件功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  dispatch()<span class="comment">//运行中间件1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//中间件功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h4 id="（2）中间件函数"><a href="#（2）中间件函数" class="headerlink" title="（2）中间件函数"></a>（2）中间件函数</h4></li>
<li>中间件是一个函数<ul>
<li>参数：store仓库</li>
<li>返回值：dispatch创建函数<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = createStore(reducer)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//中间件1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">middleware</span>(<span class="params">store</span>)</span>&#123;<span class="comment">//得到仓库</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">nextDispatch</span>) =&gt;</span> &#123;<span class="comment">//得到下一个中间件的dispatch</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">action</span>) =&gt;</span> &#123;<span class="comment">//得到action</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//中间件功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      nextDispatch(action)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//中间件功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> middleware = <span class="function"><span class="params">store</span> =&gt;</span> <span class="function"><span class="params">nextDispatch</span> =&gt;</span> <span class="function"><span class="params">action</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//中间件功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  nextDispatch(action)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//中间件功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="（3）applyMiddleWare-应用中间件函数"><a href="#（3）applyMiddleWare-应用中间件函数" class="headerlink" title="（3）applyMiddleWare() 应用中间件函数"></a>（3）applyMiddleWare() 应用中间件函数</h4><ul>
<li>参数：中间件函数</li>
<li>返回值：用作createStore(reducer, applyMiddleWare(中间件))的第二或第三个参数</li>
<li>应用的中间件会在创建store后运行<img src="./Middleware.png">
</li>
</ul>
<hr>
<h3 id="2-redux-logger-日志记录"><a href="#2-redux-logger-日志记录" class="headerlink" title="2.redux-logger 日志记录"></a>2.redux-logger 日志记录</h3><p><a href="https://github.com/LogRocket/redux-logger#readme" target="_blank" rel="noopener">redux-logger 日志记录</a></p>
<blockquote>
<p>yard add redux-logger</p>
</blockquote>
<ul>
<li>打印日志记录</li>
<li>createLogger支持自定义日志记录打印<ul>
<li>collapsed: 日志是否折叠</li>
<li>duration：是否打印时间</li>
<li>predicate: 自定义处理函数</li>
</ul>
</li>
<li>logger中间件应放置于最后</li>
</ul>
<h3 id="3-redux-thunk-副作用处理"><a href="#3-redux-thunk-副作用处理" class="headerlink" title="3.redux-thunk 副作用处理"></a>3.redux-thunk 副作用处理</h3><p><a href="https://github.com/reduxjs/redux-thunk/redux-logger#readme" target="_blank" rel="noopener">redux-thunk 副作用处理</a></p>
<blockquote>
<p>yard add redux-thunk</p>
</blockquote>
<ul>
<li>允许action是一个带有副作用的函数</li>
<li>当action是一个函数被分发时，thunk会阻止action继续向后提交<ul>
<li>thunk会向函数中传递三个参数<ul>
<li>dispatch：来自于store.dispatch</li>
<li>getState: 来自于store.getState</li>
<li>extra: 来自于注册thunk时传递的额外参数（withExtraArgument）</li>
</ul>
</li>
</ul>
</li>
<li>logger中间件应放置于最前</li>
</ul>
<h3 id="4-redux-promise-副作用处理"><a href="#4-redux-promise-副作用处理" class="headerlink" title="4.redux-promise 副作用处理"></a>4.redux-promise 副作用处理</h3><p><a href="https://github.com/redux-utilities/redux-promise" target="_blank" rel="noopener">redux-promise 副作用处理</a></p>
<blockquote>
<p>yard add redux-promise</p>
</blockquote>
<ul>
<li>允许action或action.payload是一个promise对象</li>
<li>当action是一个promise对象时，会等待promise完成，将promise结果作为action进行触发</li>
<li>当action.payload是一个promise对象时，会等待promise完成，将promise结果作为payload进行触发</li>
<li>promise中使用resolve来触发action</li>
</ul>
<h3 id="5-redux-saga-副作用处理"><a href="#5-redux-saga-副作用处理" class="headerlink" title="5.redux-saga 副作用处理"></a>5.redux-saga 副作用处理</h3><p><a href="https://redux-saga-in-chinese.js.org/" target="_blank" rel="noopener">redux-saga 副作用处理</a></p>
<blockquote>
<p>yard add redux-saga</p>
</blockquote>
<img src="./saga.png">

<table>
<thead>
<tr>
<th align="left">saga指令</th>
<th align="left">指令功能</th>
<th align="left">指令参数</th>
<th align="left">yield结果</th>
<th align="left">是否阻塞</th>
<th align="left">特点</th>
</tr>
</thead>
<tbody><tr>
<td align="left">all()</td>
<td align="left">合并多个任务</td>
<td align="left">array：生成器集合</td>
<td align="left">/</td>
<td align="left">阻塞</td>
<td align="left">等待运行所有生成器运行结束</td>
</tr>
<tr>
<td align="left">race()</td>
<td align="left">多个任务竞赛</td>
<td align="left">array：生成器集合</td>
<td align="left">/</td>
<td align="left">阻塞</td>
<td align="left">等待第一个结束的生成器运行结束</td>
</tr>
<tr>
<td align="left">take()</td>
<td align="left">监听action触发</td>
<td align="left">action.type</td>
<td align="left">action对象</td>
<td align="left">阻塞</td>
<td align="left">只监听1次</td>
</tr>
<tr>
<td align="left">takeEvery()</td>
<td align="left">监听action触发</td>
<td align="left">action.type、callback处理程序</td>
<td align="left">/</td>
<td align="left">无阻塞</td>
<td align="left">持续监听，不断开启新任务</td>
</tr>
<tr>
<td align="left">takeLastest()</td>
<td align="left">监听action触发</td>
<td align="left">action.type、callback处理程序</td>
<td align="left">/</td>
<td align="left">无阻塞</td>
<td align="left">持续监听，自动取消之前的任务</td>
</tr>
<tr>
<td align="left">delay()</td>
<td align="left">延时</td>
<td align="left">number：timeout</td>
<td align="left">/</td>
<td align="left">阻塞</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">put()</td>
<td align="left">触发action</td>
<td align="left">object：action对象</td>
<td align="left">/</td>
<td align="left">无阻塞</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">select</td>
<td align="left">获取仓库数据state</td>
<td align="left">function：数据筛选函数</td>
<td align="left">仓库数据state</td>
<td align="left">无阻塞</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">call()</td>
<td align="left">调用异步函数</td>
<td align="left">异步函数、依赖参数</td>
<td align="left">函数调用结果</td>
<td align="left">可能阻塞</td>
<td align="left">如果是promise会阻塞</td>
</tr>
<tr>
<td align="left">apply()</td>
<td align="left">调用异步函数</td>
<td align="left">this指向、异步函数、依赖参数</td>
<td align="left">函数调用结果</td>
<td align="left">可能阻塞</td>
<td align="left">如果是promise会阻塞</td>
</tr>
<tr>
<td align="left">cps()</td>
<td align="left">调用异步函数</td>
<td align="left">异步函数、依赖参数</td>
<td align="left">函数调用结果</td>
<td align="left">可能阻塞</td>
<td align="left">针对回调模式的异步</td>
</tr>
<tr>
<td align="left">promise对象</td>
<td align="left">等待promise完成</td>
<td align="left">/</td>
<td align="left">promise结果</td>
<td align="left">阻塞</td>
<td align="left">不推荐，应统一使用指令</td>
</tr>
<tr>
<td align="left">fork()</td>
<td align="left">任务分支</td>
<td align="left">生成器函数</td>
<td align="left">Task对象</td>
<td align="left">无阻塞</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">cancel()</td>
<td align="left">取消一个或多个任务</td>
<td align="left">Task对象</td>
<td align="left">Task对象</td>
<td align="left">无阻塞</td>
<td align="left">/</td>
</tr>
<tr>
<td align="left">cancelled()</td>
<td align="left">当前任务是否被取消</td>
<td align="left">/</td>
<td align="left">boolean</td>
<td align="left">无阻塞</td>
<td align="left">/</td>
</tr>
</tbody></table>
<hr>
<h2 id="（三）React-Redux-连接redux和react"><a href="#（三）React-Redux-连接redux和react" class="headerlink" title="（三）React-Redux 连接redux和react"></a>（三）React-Redux 连接redux和react</h2><p><a href="https://www.redux.org.cn/docs/react-redux/" target="_blank" rel="noopener">连接redux和react</a></p>
<blockquote>
<p>yarn add react-redux</p>
</blockquote>
<h3 id="1-Provider组件"><a href="#1-Provider组件" class="headerlink" title="1.Provider组件"></a>1.Provider组件</h3><ul>
<li>将redux的store仓库放到一个上下文中</li>
<li>通过store属性提供store仓库</li>
</ul>
<h3 id="2-connect函数"><a href="#2-connect函数" class="headerlink" title="2.connect函数"></a>2.connect函数</h3><ul>
<li>参数1：属性映射函数 mapStateToProps<ul>
<li>参数：传入整个仓库数据state</li>
<li>返回值：映射的数据对象</li>
</ul>
</li>
<li>参数2：事件映射函数 mapDispatchToProps<ul>
<li>参数：会传入dispatch</li>
<li>返回值：映射的事件处理程序对象</li>
</ul>
</li>
<li>返回值：高阶组件<ul>
<li>参数：需要连接的展示组件</li>
<li>返回值：提供数据的容器组件</li>
</ul>
</li>
<li><strong>细节：</strong><ul>
<li>connect的前两个参数是可选的，不要相应映射的时候传递null</li>
<li>connect的第二个参数可以是一个对象，每个属性是一个action创建函数</li>
<li>connect的第二个参数默认不传递，那么链接的组件默认会得到一个dispatch属性，有能力去自己触发action</li>
<li>connnect的后两个参数是可选的，mergeProps用于将要传递的属性进一步处理，options用于配置自定义处理</li>
</ul>
</li>
</ul>
<h3 id="3-connectAdvanced"><a href="#3-connectAdvanced" class="headerlink" title="3.connectAdvanced"></a>3.connectAdvanced</h3><ul>
<li>用于统一处理需要传递的属性</li>
<li>参数：function<ul>
<li>参数：dispatch</li>
<li>返回值：function<ul>
<li>参数：state, props</li>
<li>返回值：object此对象的属性用于传递</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-createProvider"><a href="#4-createProvider" class="headerlink" title="4.createProvider"></a>4.createProvider</h3><ul>
<li>通过唯一的key创建一个上下文</li>
<li>通过connect中options的storeKey来确定要使用的上下文</li>
</ul>
<hr>
<h2 id="（四）Connected-React-Router-连接redux和react-router"><a href="#（四）Connected-React-Router-连接redux和react-router" class="headerlink" title="（四）Connected-React-Router 连接redux和react-router"></a>（四）Connected-React-Router 连接redux和react-router</h2><p><a href="https://github.com/supasate/connected-react-router#readme" target="_blank" rel="noopener">连接redux和react-router</a></p>
<blockquote>
<p>yarn add connected-react-router<br>yarn add history</p>
</blockquote>
<h3 id="1-connectRouter方法"><a href="#1-connectRouter方法" class="headerlink" title="1.connectRouter方法"></a>1.connectRouter方法</h3><ul>
<li>用于创建一个reducer</li>
<li>参数：需要一个history对象</li>
<li>返回值：一个reducer</li>
<li>在combineReducers中使用router对应connectRouter创建的reducer</li>
</ul>
<h3 id="2-routerMiddleware方法"><a href="#2-routerMiddleware方法" class="headerlink" title="2.routerMiddleware方法"></a>2.routerMiddleware方法</h3><ul>
<li>用于创建一个中间件</li>
<li>参数：需要一个history对象</li>
<li>返回值：一个Middleware</li>
<li>在applyMiddleware中使用率先使用此中间件（位于第一个）</li>
</ul>
<h3 id="3-ConectedRouter组件"><a href="#3-ConectedRouter组件" class="headerlink" title="3.ConectedRouter组件"></a>3.ConectedRouter组件</h3><ul>
<li>用于创建一个路由上下文</li>
<li>替代BrowserRouter和HashRouter</li>
<li>上下文中使用react-router路由跳转的时候会自动触发action</li>
<li>若使用Connected-React-Router中的跳转，则默认得到的是action创建函数<ul>
<li>push()：创建一个action</li>
<li>repalce()：创建一个action</li>
</ul>
</li>
<li>使用react-redux中connect进行链接<ul>
<li>通过事件映射dispatch触发action进行跳转</li>
</ul>
</li>
</ul>
<hr>
<h1 id="六、Dva-js"><a href="#六、Dva-js" class="headerlink" title="六、Dva-js"></a>六、Dva-js</h1><img src="./dva.png">

<p><a href="https://dvajs.com/" target="_blank" rel="noopener">dva官方文档</a></p>
<blockquote>
<p>yarn add dva</p>
</blockquote>
<ul>
<li>整合：<ul>
<li>react</li>
<li>react-dom</li>
<li>redux</li>
<li>redux-saga</li>
<li>react-redux</li>
<li>connected-react-router</li>
</ul>
</li>
</ul>
<h3 id="1-配置部分-dvaObj"><a href="#1-配置部分-dvaObj" class="headerlink" title="1.配置部分 dvaObj"></a>1.配置部分 dvaObj</h3><ul>
<li>dva()创建一个dva对象<ul>
<li>参数：object<ul>
<li>history：配置history对象</li>
<li>initialState: 配置创建仓库时默认数据</li>
<li>onError: 全局错误捕捉函数，传递错误信息error和dispatch函数</li>
<li>onAction：配置中间件（中间件对象或数组）</li>
<li>onStateChange: 仓库数据状态变化监听函数，传递最新状态</li>
<li>onReducer: 传递一个reducer，返回一个reducer函数，在每个reducer即将运行前触发</li>
<li>onEffect: 默认effect包装函数替换方案</li>
<li>extraReducers：额外附加的reducer，一个对象，每个方法是一个reducer</li>
<li>extraEnhancers: 默认createStore方法的增强方案，一个数组，每一项是一个函数</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-组件部分-react"><a href="#2-组件部分-react" class="headerlink" title="2.组件部分 react"></a>2.组件部分 react</h3><ul>
<li>dvaObj.router()定义渲染内容<ul>
<li>参数：function<ul>
<li>参数1：dvaObj</li>
<li>参数2：history</li>
</ul>
</li>
<li>返回值：渲染内容</li>
</ul>
</li>
<li>dvaObj.start()定义项目启动<ul>
<li>参数：css选择器（document.querySelector）</li>
</ul>
</li>
</ul>
<h3 id="3-数据部分-redux"><a href="#3-数据部分-redux" class="headerlink" title="3.数据部分 redux"></a>3.数据部分 redux</h3><ul>
<li>dvaObj.model()定义渲染内容<ul>
<li>参数：object<ul>
<li>namespace</li>
<li>state</li>
<li>reducers</li>
<li>effects</li>
<li>subscriptions</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-路由部分-router"><a href="#4-路由部分-router" class="headerlink" title="4.路由部分 router"></a>4.路由部分 router</h3><ul>
<li>相关的导出路径 ‘dva/router’</li>
<li>默认完成connectRouter：传入history, 配置reducer</li>
<li>默认完成routerMiddleware：传入history, 配置redux中间件</li>
<li>自行处理ConnectedRouter：传入history, 配置router上下文<ul>
<li>在创建dva对象时配置history</li>
<li>在调用router时候，dva默认会给routerConfig函数传递dva对象和history对象</li>
<li>在使用routerRedux的ConnectedRouter组件替代BrowserRouter或HashRouter并传递一个history属性</li>
</ul>
</li>
</ul>
<h3 id="5-插件部分-use"><a href="#5-插件部分-use" class="headerlink" title="5.插件部分 use"></a>5.插件部分 use</h3><ul>
<li>dvaObj.use()使用插件</li>
</ul>
<hr>
<h1 id="七、Umi-js"><a href="#七、Umi-js" class="headerlink" title="七、Umi-js"></a>七、Umi-js</h1><p><a href="https://umijs.org/zh-CN" target="_blank" rel="noopener">umi.js官方文档</a></p>
<blockquote>
<p>yarn global add umi</p>
</blockquote>
<h2 id="（一）路由"><a href="#（一）路由" class="headerlink" title="（一）路由"></a>（一）路由</h2><h3 id="1-约定式路由"><a href="#1-约定式路由" class="headerlink" title="1.约定式路由"></a>1.约定式路由</h3><h4 id="（1）匹配"><a href="#（1）匹配" class="headerlink" title="（1）匹配"></a>（1）匹配</h4><ul>
<li>umi约定，使用文件名及文件路径匹配对应的路由</li>
<li>pages目录用于存放页面<ul>
<li>root/pages</li>
<li>root/src/pages</li>
</ul>
</li>
<li>嵌套路由：使用属性中的children来定义内容位置<ul>
<li>全局嵌套<ul>
<li>root/layouts/index.js</li>
<li>root/src/layout/index.js</li>
</ul>
</li>
<li>局部嵌套<ul>
<li>root/pages/_layout.js</li>
<li>root/src/pages/_layout.js</li>
</ul>
</li>
</ul>
</li>
<li>404路由：只有在生产模式启用<ul>
<li>root/pages/404.js</li>
<li>root/src/pages/404.js </li>
</ul>
</li>
<li>动态路由：使用$ + name对应string-pattern规则<ul>
<li>root/pages/$id.js</li>
<li>root/src/pages/$name/$id.js</li>
</ul>
</li>
</ul>
<h4 id="（2）跳转"><a href="#（2）跳转" class="headerlink" title="（2）跳转"></a>（2）跳转</h4><ul>
<li>链接跳转<blockquote>
<p>import Link from ‘umi/link’<br>import NavLink from ‘umi/navlink’</p>
</blockquote>
<ul>
<li>使用Link组件：相当于react-router-dom中Link</li>
<li>使用NavLink组件：相当于react-router-dom中NavLink</li>
</ul>
</li>
<li>代码跳转<blockquote>
<p>import router from ‘umi/router’ </p>
</blockquote>
<ul>
<li>使用router对象<ul>
<li>go方法</li>
<li>goBack方法</li>
<li>goForward方法</li>
<li>push方法</li>
<li>replace方法</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（3）路由信息"><a href="#（3）路由信息" class="headerlink" title="（3）路由信息"></a>（3）路由信息</h4><ul>
<li>pages、layout目录下的组件：<ul>
<li>使用属性props来获得：<ul>
<li>match<ul>
<li>params属性对应string-pattern规则参数</li>
</ul>
</li>
<li>history</li>
<li>location<ul>
<li>query属性已经使用query-string封装成对象</li>
</ul>
</li>
<li>route</li>
</ul>
</li>
</ul>
</li>
<li>非pages、layout目录下的组件：<ul>
<li>使用withRouter高阶组件<blockquote>
<p>import withRouter from ‘umi/withRouter’</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="（4）额外属性配置"><a href="#（4）额外属性配置" class="headerlink" title="（4）额外属性配置"></a>（4）额外属性配置</h4><ul>
<li>使用文档注释：遵循YAML格式，且必须配置于最顶部</li>
<li>键值对格式：不使用引号，且冒号后严格使用空格</li>
<li>数组项使用-并缩进：不使用中括号，且严格使用空格缩进，不支持tab缩进</li>
</ul>
<h3 id="2-配置式路由"><a href="#2-配置式路由" class="headerlink" title="2.配置式路由"></a>2.配置式路由</h3><ul>
<li>优先级高于约定式（一旦配置，约定式全部失效）</li>
<li>配置根目录文件：（其中之一）<ul>
<li>root/.umirc.js</li>
<li>root/config/config.js</li>
</ul>
</li>
<li>配置文件默认导出一个对象，配置route属性，类型是一个数组<ul>
<li>每一项就是一条匹配规则，类型是一个对象<ul>
<li>path：匹配路径</li>
<li>exact：是否精确匹配，默认true</li>
<li>component：渲染组件路径，相对于pages</li>
<li>routes：路由嵌套，一个数组，配置子路由</li>
<li>Routes：预处理<ul>
<li>一个数组，数组项为预处理的高阶组件路径，相对于根目录</li>
<li>渲染第一项，如果使用了children属性：<ul>
<li>将component配置组件作为children属性，传递给数组最后一项</li>
<li>每一项倒序作为children属性依次向前传递，最终渲染第一项</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）数据"><a href="#（二）数据" class="headerlink" title="（二）数据"></a>（二）数据</h2><h3 id="1-dva管理redux数据"><a href="#1-dva管理redux数据" class="headerlink" title="1.dva管理redux数据"></a>1.dva管理redux数据</h3><blockquote>
<p>import {connect} from ‘umi’</p>
</blockquote>
<ul>
<li>全局定义：<ul>
<li>root/models/namespace.js</li>
<li>root/src/models/namespace.js</li>
</ul>
</li>
<li>局部定义<ul>
<li>root/pages/models/namespace.js</li>
<li>root/src/pages/models/namespace.js</li>
<li>root/src/pages/model.js</li>
</ul>
</li>
<li>文件名即为namespace</li>
</ul>
<h3 id="2-代理服务器解决开发中的跨域"><a href="#2-代理服务器解决开发中的跨域" class="headerlink" title="2.代理服务器解决开发中的跨域"></a>2.代理服务器解决开发中的跨域</h3><ul>
<li>配置.umirc.js文件中proxy对象<ul>
<li>属性名：访问的地址</li>
<li>属性值：object<ul>
<li>target：转发的地址</li>
<li>changeOrgin：是否修改源</li>
</ul>
</li>
</ul>
</li>
<li>让跨域发生在代理服务器与服务器中</li>
</ul>
<h3 id="3-协同开发中数据模拟"><a href="#3-协同开发中数据模拟" class="headerlink" title="3.协同开发中数据模拟"></a>3.协同开发中数据模拟</h3><ul>
<li>使用mock模块<ul>
<li>root/mock/data.js</li>
<li>root/src/pages/_mock.js</li>
</ul>
</li>
<li>默认导出一个对象<ul>
<li>属性名：string, method + url</li>
<li>属性值：any, 模拟数据</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（三）样式"><a href="#（三）样式" class="headerlink" title="（三）样式"></a>（三）样式</h2><h3 id="1-组件私有样式"><a href="#1-组件私有样式" class="headerlink" title="1.组件私有样式"></a>1.组件私有样式</h3><ul>
<li>与组件同目录</li>
<li>导入css时，会通过css-mudle处理为一个对象，从对象属性获得类样式</li>
</ul>
<h3 id="2-局部样式"><a href="#2-局部样式" class="headerlink" title="2.局部样式"></a>2.局部样式</h3><ul>
<li>root/src/assets/css/style.css</li>
<li>导入css时，会通过css-mudle处理为一个对象，从对象属性获得类样式</li>
</ul>
<h3 id="3-全局样式"><a href="#3-全局样式" class="headerlink" title="3.全局样式"></a>3.全局样式</h3><ul>
<li>root/src/global.css</li>
<li>导入css时，不会会通过css-mudle处理，直接使用样式</li>
</ul>
<hr>
<h2 id="（四）配置"><a href="#（四）配置" class="headerlink" title="（四）配置"></a>（四）配置</h2><h2 id="（五）脚手架"><a href="#（五）脚手架" class="headerlink" title="（五）脚手架"></a>（五）脚手架</h2><blockquote>
<p>yarn create umi</p>
</blockquote>
<hr>
<h1 id="八、antDesign"><a href="#八、antDesign" class="headerlink" title="八、antDesign"></a>八、antDesign</h1><p><a href="https://ant.design/index-cn" target="_blank" rel="noopener">antDesign官方文档</a></p>
]]></content>
  </entry>
  <entry>
    <title>JWT原理详解</title>
    <url>/blog/2020/11/09/JWTa/</url>
    <content><![CDATA[<p>随着前后端分离的发展，以及数据中心的建立，越来越多的公司会创建一个中心服务器，服务于各种产品线。</p>
<p>而这些产品线上的产品，它们可能有着各种终端设备，包括但不仅限于浏览器、桌面应用、移动端应用、平板应用、甚至智能家居</p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200422163727151.png" alt="image-20200422163727151"></p>
<blockquote>
<p>实际上，不同的产品线通常有自己的服务器，产品内部的数据一般和自己的服务器交互。</p>
<p>但中心服务器仍然有必要存在，因为同一家公司的产品总是会存在共享的数据，比如用户数据</p>
</blockquote>
<p>这些设备与中心服务器之间会进行http通信</p>
<p>一般来说，中心服务器至少承担着认证和授权的功能，例如登录：各种设备发送消息到中心服务器，然后中心服务器响应一个身份令牌（参见<a href="http://www.yuanjin.tech/article/98" target="_blank" rel="noopener">cookie原理详解</a>）</p>
<p>当这种结构出现后，就出现一个问题：它们之间还能使用传统的cookie方式传递令牌信息吗？</p>
<p>其实，也是可以的🐶，因为cookie在传输中无非是一个消息头而已，只不过浏览器对这个消息头有特殊处理罢了。</p>
<p>但浏览器之外的设备肯定不喜欢cookie，因为浏览器有着对cookie完善的管理机制，但是在其他设备上，就需要开发者自己手动处理了</p>
<p>jwt的出现就是为了解决这个问题</p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>jwt全称<code>Json Web Token</code>，强行翻译过来就是<code>json格式的互联网令牌</code>（算了，还是不要强行翻译了🐷）</p>
<p>它要解决的问题，就是为多种终端设备，提供<strong>统一的、安全的</strong>令牌格式</p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200422165350268.png" alt="image-20200422165350268"></p>
<p>因此，jwt只是一个令牌格式而已，你可以把它存储到cookie，也可以存储到localstorage，没有任何限制！</p>
<p>同样的，对于传输，你可以使用任何传输方式来传输jwt，一般来说，我们会使用消息头来传输它</p>
<p>比如，当登录成功后，服务器可以给客户端响应一个jwt：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">set-cookie:token&#x3D;jwt令牌</span></pre></td></tr><tr><td class="code"><pre><span class="line">authorization:jwt令牌</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;..., token:jwt令牌&#125;</span></pre></td></tr></table></figure>

<p>可以看到，jwt令牌可以出现在响应的任何一个地方，客户端和服务器自行约定即可。</p>
<blockquote>
<p>当然，它也可以出现在响应的多个地方，比如为了充分利用浏览器的cookie，同时为了照顾其他设备，也可以让jwt出现在<code>set-cookie</code>和<code>authorization或body</code>中，尽管这会增加额外的传输量。</p>
</blockquote>
<p>当客户端拿到令牌后，它要做的只有一件事：存储它。</p>
<p>你可以存储到任何位置，比如手机文件、PC文件、localstorage、cookie</p>
<p>当后续请求发生时，你只需要将它作为请求的一部分发送到服务器即可。</p>
<p>虽然jwt没有明确要求应该如何附带到请求中，但通常我们会使用如下的格式：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET &#x2F;api&#x2F;resources HTTP&#x2F;1.1</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">authorization: bearer jwt令牌</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr></table></figure>

<blockquote>
<p>这种格式是OAuth2附带token的一种规范格式</p>
<p>至于什么是OAuth2，那是另一个话题了</p>
</blockquote>
<p>这样一来，服务器就能够收到这个令牌了，通过对令牌的验证，即可知道该令牌是否有效。</p>
<p>它们的完整交互流程是非常简单清晰的</p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200422172837190.png" alt="image-20200422172837190"></p>
<h1 id="令牌的组成"><a href="#令牌的组成" class="headerlink" title="令牌的组成"></a>令牌的组成</h1><p>为了保证令牌的安全性，jwt令牌由三个部分组成，分别是：</p>
<ol>
<li>header：令牌头部，记录了整个令牌的类型和签名算法</li>
<li>payload：令牌负荷，记录了保存的主体信息，比如你要保存的用户信息就可以放到这里</li>
<li>signature：令牌签名，按照头部固定的签名算法对整个令牌进行签名，该签名的作用是：保证令牌不被伪造和篡改</li>
</ol>
<p>它们组合而成的完整格式是：<code>header.payload.signature</code></p>
<p>比如，一个完整的jwt令牌如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9.BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc</span></pre></td></tr></table></figure>

<p>它各个部分的值分别是：</p>
<ul>
<li><code>header：eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</code></li>
<li><code>payload：eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9</code></li>
<li><code>signature: BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc</code></li>
</ul>
<p>下面分别对每个部分进行说明</p>
<h2 id="header"><a href="#header" class="headerlink" title="header"></a>header</h2><p>它是令牌头部，记录了整个令牌的类型和签名算法</p>
<p>它的格式是一个<code>json</code>对象，如下：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attr">"alg"</span>:<span class="string">"HS256"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attr">"typ"</span>:<span class="string">"JWT"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>该对象记录了：</p>
<ul>
<li>alg：signature部分使用的签名算法，通常可以取两个值<ul>
<li>HS256：一种对称加密算法，使用同一个秘钥对signature加密解密</li>
<li>RS256：一种非对称加密算法，使用私钥加密，公钥解密</li>
</ul>
</li>
<li>typ：整个令牌的类型，固定写<code>JWT</code>即可</li>
</ul>
<p>设置好了<code>header</code>之后，就可以生成<code>header</code>部分了</p>
<p>具体的生成方式及其简单，就是把<code>header</code>部分使用<code>base64 url</code>编码即可</p>
<blockquote>
<p><code>base64 url</code>不是一个加密算法，而是一种编码方式，它是在<code>base64</code>算法的基础上对<code>+</code>、<code>=</code>、<code>/</code>三个字符做出特殊处理的算法</p>
<p>而<code>base64</code>是使用64个可打印字符来表示一个二进制数据，具体的做法参考<a href="https://baike.baidu.com/item/base64/8545775?fr=aladdin" target="_blank" rel="noopener">百度百科</a></p>
</blockquote>
<p>浏览器提供了<code>btoa</code>函数，可以完成这个操作：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.btoa(<span class="built_in">JSON</span>.stringify(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"alg"</span>:<span class="string">"HS256"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"typ"</span>:<span class="string">"JWT"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;))</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 得到字符串：eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span></span></pre></td></tr></table></figure>

<p>同样的，浏览器也提供了<code>atob</code>函数，可以对其进行解码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.atob(<span class="string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 得到字符串：&#123;"alg":"HS256","typ":"JWT"&#125;</span></span></pre></td></tr></table></figure>

<blockquote>
<p>nodejs中没有提供这两个函数，可以安装第三方库<code>atob</code>和<code>bota</code>搞定</p>
<p>或者，手动搞定</p>
</blockquote>
<h2 id="payload"><a href="#payload" class="headerlink" title="payload"></a>payload</h2><p>这部分是jwt的主体信息，它仍然是一个JSON对象，它可以包含以下内容：</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  "ss"："发行者",</span></pre></td></tr><tr><td class="code"><pre><span class="line">	"iat"："发布时间",</span></pre></td></tr><tr><td class="code"><pre><span class="line">	"exp"："到期时间",</span></pre></td></tr><tr><td class="code"><pre><span class="line">	"sub"："主题",</span></pre></td></tr><tr><td class="code"><pre><span class="line">	"aud"："听众",</span></pre></td></tr><tr><td class="code"><pre><span class="line">	"nbf"："在此之前不可用",</span></pre></td></tr><tr><td class="code"><pre><span class="line">  "jti"："JWT ID"</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>以上属性可以全写，也可以一个都不写，它只是一个规范，就算写了，也需要你在将来验证这个jwt令牌时手动处理才能发挥作用</p>
<p>上述属性表达的含义分别是：</p>
<ul>
<li>ss：发行该jwt的是谁，可以写公司名字，也可以写服务名称</li>
<li>iat：该jwt的发放时间，通常写当前时间的时间戳</li>
<li>exp：该jwt的到期时间，通常写时间戳</li>
<li>sub：该jwt是用于干嘛的</li>
<li>aud：该jwt是发放给哪个终端的，可以是终端类型，也可以是用户名称，随意一点</li>
<li>nbf：一个时间点，在该时间点到达之前，这个令牌是不可用的</li>
<li>jti：jwt的唯一编号，设置此项的目的，主要是为了防止重放攻击（重放攻击是在某些场景下，用户使用之前的令牌发送到服务器，被服务器正确的识别，从而导致不可预期的行为发生）</li>
</ul>
<p>可是到现在，看了半天，没有出现我想要写入的数据啊😂</p>
<p>当用户登陆成功之后，我可能需要把用户的一些信息写入到jwt令牌中，比如用户id、账号等等（密码就算了😳）</p>
<p>其实很简单，payload这一部分只是一个json对象而已，你可以向对象中加入任何想要加入的信息</p>
<p>比如，下面的json对象仍然是一个有效的payload</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attr">"foo"</span>:<span class="string">"bar"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attr">"iat"</span>:<span class="number">1587548215</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><code>foo: bar</code>是我们自定义的信息，<code>iat: 1587548215</code>是jwt规范中的信息</p>
<p>最终，payload部分和header一样，需要通过<code>base64 url</code>编码得到：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.btoa(<span class="built_in">JSON</span>.stringify(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"foo"</span>:<span class="string">"bar"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"iat"</span>:<span class="number">1587548215</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;))</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 得到字符串：eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9</span></span></pre></td></tr></table></figure>

<h2 id="signature"><a href="#signature" class="headerlink" title="signature"></a>signature</h2><p>这一部分是jwt的签名，正是它的存在，保证了整个jwt不被篡改</p>
<p>这部分的生成，是对前面两个部分的编码结果，按照头部指定的方式进行加密</p>
<p>比如：头部指定的加密方法是<code>HS256</code>，前面两部分的编码结果是<code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9</code></p>
<p>则第三部分就是用对称加密算法<code>HS256</code>对字符串<code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9</code>进行加密，当然你得指定一个秘钥，比如<code>shhhhh</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">HS256(<span class="string">`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9`</span>, <span class="string">"shhhhh"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 得到：BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc</span></span></pre></td></tr></table></figure>

<p>最终，将三部分组合在一起，就得到了完整的jwt</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9.BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc</span></pre></td></tr></table></figure>

<p>由于签名使用的秘钥保存在服务器，这样一来，客户端就无法伪造出签名，因为它拿不到秘钥。</p>
<p>换句话说，之所以说无法伪造jwt，就是因为第三部分的存在。</p>
<p>而前面两部分并没有加密，只是一个编码结果而已，可以认为几乎是明文传输</p>
<blockquote>
<p>这不会造成太大的问题，因为既然用户登陆成功了，它当然有权力查看自己的用户信息</p>
<p>甚至在某些网站，用户的基本信息可以被任何人查看</p>
<p>你要保证的，是不要把敏感的信息存放到jwt中，比如密码</p>
</blockquote>
<p>jwt的<code>signature</code>可以保证令牌不被伪造，那如何保证令牌不被篡改呢？</p>
<p>比如，某个用户登陆成功了，获得了jwt，但他人为的篡改了<code>payload</code>，比如把自己的账户余额修改为原来的两倍，然后重新编码出<code>payload</code>发送到服务器，服务器如何得知这些信息被篡改过了呢？</p>
<p>这就要说到令牌的验证了</p>
<h1 id="令牌的验证"><a href="#令牌的验证" class="headerlink" title="令牌的验证"></a>令牌的验证</h1><p><img src="http://mdrs.yuanjin.tech/img/image-20200422172837190.png" alt="image-20200422172837190"></p>
<p>令牌在服务器组装完成后，会以任意的方式发送到客户端</p>
<p>客户端会把令牌保存起来，后续的请求会将令牌发送给服务器</p>
<p>而服务器需要验证令牌是否正确，如何验证呢？</p>
<p>首先，服务器要验证这个令牌是否被篡改过，验证方式非常简单，就是对<code>header+payload</code>用同样的秘钥和加密算法进行重新加密</p>
<p>然后把加密的结果和传入jwt的<code>signature</code>进行对比，如果完全相同，则表示前面两部分没有动过，就是自己颁发的，如果不同，肯定是被篡改过了。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">传入的header.传入的payload.传入的signature</span></pre></td></tr><tr><td class="code"><pre><span class="line">新的signature &#x3D; header中的加密算法(传入的header.传入的payload, 秘钥)</span></pre></td></tr><tr><td class="code"><pre><span class="line">验证：新的signature &#x3D;&#x3D; 传入的signature</span></pre></td></tr></table></figure>

<p>当令牌验证为没有被篡改后，服务器可以进行其他验证：比如是否过期、听众是否满足要求等等，这些就视情况而定了</p>
<p>注意：这些验证都需要服务器手动完成，没有哪个服务器会给你进行自动验证，当然，你可以借助第三方库来完成这些操作</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>最后，总结一下jwt的特点：</p>
<ul>
<li>jwt本质上是一种令牌格式。它和终端设备无关，同样和服务器无关，甚至与如何传输无关，它只是规范了令牌的格式而已</li>
<li>jwt由三部分组成：header、payload、signature。主体信息在payload</li>
<li>jwt难以被篡改和伪造。这是因为有第三部分的签名存在。</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>CORS原理详解</title>
    <url>/blog/2020/11/09/CORSa/</url>
    <content><![CDATA[<blockquote>
<p>阅读本文，你需要首先知道：</p>
<ol>
<li>浏览器的同源策略</li>
<li>跨域问题</li>
<li>JSONP原理</li>
<li>cookie原理</li>
</ol>
</blockquote>
<p>JSONP并不是一个好的跨域解决方案，它至少有着下面两个严重问题：</p>
<ol>
<li><strong>会打乱服务器的消息格式</strong>：JSONP要求服务器响应一段JS代码，但在非跨域的情况下，服务器又需要响应一个正常的JSON格式</li>
<li><strong>只能完成GET请求</strong>：JSONP的原理会要求浏览器端生成一个<code>script</code>元素，而<code>script</code>元素发出的请求只能是<code>get</code>请求</li>
</ol>
<p>所以，CORS是一种更好的跨域解决方案。</p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p><code>CORS</code>是基于<code>http1.1</code>的一种跨域解决方案，它的全称是<strong>C</strong>ross-<strong>O</strong>rigin <strong>R</strong>esource <strong>S</strong>haring，跨域资源共享。</p>
<p>它的总体思路是：<strong>如果浏览器要跨域访问服务器的资源，需要获得服务器的允许</strong></p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200421152122793.png" alt="image-20200421152122793"></p>
<p>而要知道，一个请求可以附带很多信息，从而会对服务器造成不同程度的影响</p>
<p>比如有的请求只是获取一些新闻，有的请求会改动服务器的数据</p>
<p>针对不同的请求，CORS规定了三种不同的交互模式，分别是：</p>
<ul>
<li><strong>简单请求</strong></li>
<li><strong>需要预检的请求</strong></li>
<li><strong>附带身份凭证的请求</strong></li>
</ul>
<p>这三种模式从上到下层层递进，请求可以做的事越来越多，要求也越来越严格。</p>
<p>下面分别说明三种请求模式的具体规范。</p>
<h1 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h1><p>当浏览器端运行了一段ajax代码（无论是使用XMLHttpRequest还是fetch api），浏览器会首先判断它属于哪一种请求模式</p>
<h2 id="简单请求的判定"><a href="#简单请求的判定" class="headerlink" title="简单请求的判定"></a>简单请求的判定</h2><p>当请求<strong>同时满足</strong>以下条件时，浏览器会认为它是一个简单请求：</p>
<ol>
<li><p><strong>请求方法属于下面的一种：</strong></p>
<ul>
<li>get</li>
<li>post</li>
<li>head</li>
</ul>
</li>
<li><p><strong>请求头仅包含安全的字段，常见的安全字段如下：</strong></p>
<ul>
<li><code>Accept</code></li>
<li><code>Accept-Language</code></li>
<li><code>Content-Language</code></li>
<li><code>Content-Type</code></li>
<li><code>DPR</code></li>
<li><code>Downlink</code></li>
<li><code>Save-Data</code></li>
<li><code>Viewport-Width</code></li>
<li><code>Width</code></li>
</ul>
</li>
<li><p><strong>请求头如果包含<code>Content-Type</code>，仅限下面的值之一：</strong></p>
<ul>
<li><code>text/plain</code></li>
<li><code>multipart/form-data</code></li>
<li><code>application/x-www-form-urlencoded</code></li>
</ul>
</li>
</ol>
<p>如果以上三个条件同时满足，浏览器判定为简单请求。</p>
<p>下面是一些例子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 简单请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/news"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 请求方法不满足要求，不是简单请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/news"</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  method:<span class="string">"PUT"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 加入了额外的请求头，不是简单请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/news"</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  headers:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    a: <span class="number">1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// 简单请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/news"</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  method: <span class="string">"post"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// content-type不满足要求，不是简单请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/news"</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  method: <span class="string">"post"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  headers: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"content-type"</span>: <span class="string">"application/json"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>

<h2 id="简单请求的交互规范"><a href="#简单请求的交互规范" class="headerlink" title="简单请求的交互规范"></a>简单请求的交互规范</h2><p>当浏览器判定某个<strong>ajax跨域请求</strong>是<strong>简单请求</strong>时，会发生以下的事情</p>
<ol>
<li><strong>请求头中会自动添加<code>Origin</code>字段</strong></li>
</ol>
<p>比如，在页面<code>http://my.com/index.html</code>中有以下代码造成了跨域</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 简单请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/news"</span>);</span></pre></td></tr></table></figure>

<p>请求发出后，请求头会是下面的格式：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET &#x2F;api&#x2F;news&#x2F; HTTP&#x2F;1.1</span></pre></td></tr><tr><td class="code"><pre><span class="line">Host: crossdomain.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">Connection: keep-alive</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">Referer: http:&#x2F;&#x2F;my.com&#x2F;index.html</span></pre></td></tr><tr><td class="code"><pre><span class="line">Origin: http:&#x2F;&#x2F;my.com</span></pre></td></tr></table></figure>

<p>看到最后一行没，<code>Origin</code>字段会告诉服务器，是哪个源地址在跨域请求</p>
<ol start="2">
<li><strong>服务器响应头中应包含<code>Access-Control-Allow-Origin</code></strong></li>
</ol>
<p>当服务器收到请求后，如果允许该请求跨域访问，需要在响应头中添加<code>Access-Control-Allow-Origin</code>字段</p>
<p>该字段的值可以是：</p>
<ul>
<li>*：表示我很开放，什么人我都允许访问</li>
<li>具体的源：比如<code>http://my.com</code>，表示我就允许你访问</li>
</ul>
<blockquote>
<p>实际上，这两个值对于客户端<code>http://my.com</code>而言，都一样，因为客户端才不会管其他源服务器允不允许，就关心自己是否被允许</p>
<p>当然，服务器也可以维护一个可被允许的源列表，如果请求的<code>Origin</code>命中该列表，才响应<code>*</code>或具体的源</p>
<p><strong>为了避免后续的麻烦，强烈推荐响应具体的源</strong></p>
</blockquote>
<p>假设服务器做出了以下的响应：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK</span></pre></td></tr><tr><td class="code"><pre><span class="line">Date: Tue, 21 Apr 2020 08:03:35 GMT</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http:&#x2F;&#x2F;my.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">消息体中的数据</span></pre></td></tr></table></figure>

<p>当浏览器看到服务器允许自己访问后，高兴的像一个两百斤的孩子，于是，它就把响应顺利的交给js，以完成后续的操作</p>
<p>下图简述了整个交互过程</p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200421162846480.png" alt="image-20200421162846480"></p>
<h1 id="需要预检的请求"><a href="#需要预检的请求" class="headerlink" title="需要预检的请求"></a>需要预检的请求</h1><p>简单的请求对服务器的威胁不大，所以允许使用上述的简单交互即可完成。</p>
<p>但是，如果浏览器不认为这是一种简单请求，就会按照下面的流程进行：</p>
<ol>
<li><strong>浏览器发送预检请求，询问服务器是否允许</strong></li>
<li><strong>服务器允许</strong></li>
<li><strong>浏览器发送真实请求</strong></li>
<li><strong>服务器完成真实的响应</strong></li>
</ol>
<p>比如，在页面<code>http://my.com/index.html</code>中有以下代码造成了跨域</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 需要预检的请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(<span class="string">"http://crossdomain.com/api/user"</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  method:<span class="string">"POST"</span>, <span class="comment">// post 请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  headers:&#123;  <span class="comment">// 设置请求头</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    a: <span class="number">1</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    b: <span class="number">2</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"content-type"</span>: <span class="string">"application/json"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  body: <span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: <span class="string">"袁小进"</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;) <span class="comment">// 设置请求体</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<p>浏览器发现它不是一个简单请求，则会按照下面的流程与服务器交互</p>
<ol>
<li><strong>浏览器发送预检请求，询问服务器是否允许</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">OPTIONS &#x2F;api&#x2F;user HTTP&#x2F;1.1</span></pre></td></tr><tr><td class="code"><pre><span class="line">Host: crossdomain.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">Origin: http:&#x2F;&#x2F;my.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Request-Method: POST</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Request-Headers: a, b, content-type</span></pre></td></tr></table></figure>

<p>可以看出，这并非我们想要发出的真实请求，请求中不包含我们的响应头，也没有消息体。</p>
<p>这是一个预检请求，它的目的是询问服务器，是否允许后续的真实请求。</p>
<p>预检请求<strong>没有请求体</strong>，它包含了后续真实请求要做的事情</p>
<p>预检请求有以下特征：</p>
<ul>
<li>请求方法为<code>OPTIONS</code></li>
<li>没有请求体</li>
<li>请求头中包含<ul>
<li><code>Origin</code>：请求的源，和简单请求的含义一致</li>
<li><code>Access-Control-Request-Method</code>：后续的真实请求将使用的请求方法</li>
<li><code>Access-Control-Request-Headers</code>：后续的真实请求会改动的请求头</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>服务器允许</strong></li>
</ol>
<p>服务器收到预检请求后，可以检查预检请求中包含的信息，如果允许这样的请求，需要响应下面的消息格式</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK</span></pre></td></tr><tr><td class="code"><pre><span class="line">Date: Tue, 21 Apr 2020 08:03:35 GMT</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http:&#x2F;&#x2F;my.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Allow-Methods: POST</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Allow-Headers: a, b, content-type</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Max-Age: 86400</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr></table></figure>

<p>对于预检请求，不需要响应任何的消息体，只需要在响应头中添加：</p>
<ul>
<li><code>Access-Control-Allow-Origin</code>：和简单请求一样，表示允许的源</li>
<li><code>Access-Control-Allow-Methods</code>：表示允许的后续真实的请求方法</li>
<li><code>Access-Control-Allow-Headers</code>：表示允许改动的请求头</li>
<li><code>Access-Control-Max-Age</code>：告诉浏览器，多少秒内，对于同样的请求源、方法、头，都不需要再发送预检请求了</li>
</ul>
<ol start="3">
<li><strong>浏览器发送真实请求</strong></li>
</ol>
<p>预检被服务器允许后，浏览器就会发送真实请求了，上面的代码会发生下面的请求数据</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">POST &#x2F;api&#x2F;user HTTP&#x2F;1.1</span></pre></td></tr><tr><td class="code"><pre><span class="line">Host: crossdomain.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">Connection: keep-alive</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">Referer: http:&#x2F;&#x2F;my.com&#x2F;index.html</span></pre></td></tr><tr><td class="code"><pre><span class="line">Origin: http:&#x2F;&#x2F;my.com</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;&quot;name&quot;: &quot;袁小进&quot;, &quot;age&quot;: 18 &#125;</span></pre></td></tr></table></figure>

<ol start="4">
<li><strong>服务器响应真实请求</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK</span></pre></td></tr><tr><td class="code"><pre><span class="line">Date: Tue, 21 Apr 2020 08:03:35 GMT</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http:&#x2F;&#x2F;my.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">...</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">添加用户成功</span></pre></td></tr></table></figure>



<p>可以看出，当完成预检之后，后续的处理与简单请求相同</p>
<p>下图简述了整个交互过程</p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200421165913320.png" alt="image-20200421165913320"></p>
<h1 id="附带身份凭证的请求"><a href="#附带身份凭证的请求" class="headerlink" title="附带身份凭证的请求"></a>附带身份凭证的请求</h1><p>默认情况下，ajax的跨域请求并不会附带cookie，这样一来，某些需要权限的操作就无法进行</p>
<p>不过可以通过简单的配置就可以实现附带cookie</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// xhr</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span></pre></td></tr><tr><td class="code"><pre><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// fetch api</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(url, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  credentials: <span class="string">"include"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>

<p>这样一来，该跨域的ajax请求就是一个<em>附带身份凭证的请求</em></p>
<p>当一个请求需要附带cookie时，无论它是简单请求，还是预检请求，都会在请求头中添加<code>cookie</code>字段</p>
<p>而服务器响应时，需要明确告知客户端：服务器允许这样的凭据</p>
<p>告知的方式也非常的简单，只需要在响应头中添加：<code>Access-Control-Allow-Credentials: true</code>即可</p>
<p>对于一个附带身份凭证的请求，若服务器没有明确告知，浏览器仍然视为跨域被拒绝。</p>
<p>另外要特别注意的是：<strong>对于附带身份凭证的请求，服务器不得设置 <code>Access-Control-Allow-Origin 的值为*</code></strong>。这就是为什么不推荐使用*的原因</p>
<h1 id="一个额外的补充"><a href="#一个额外的补充" class="headerlink" title="一个额外的补充"></a>一个额外的补充</h1><p>在跨域访问时，JS只能拿到一些最基本的响应头，如：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma，如果要访问其他头，则需要服务器设置本响应头。</p>
<p><code>Access-Control-Expose-Headers</code>头让服务器把允许浏览器访问的头放入白名单，例如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Access-Control-Expose-Headers: authorization, a, b</span></pre></td></tr></table></figure>

<p>这样JS就能够访问指定的响应头了。</p>
]]></content>
  </entry>
  <entry>
    <title>cookie的基本概念</title>
    <url>/blog/2020/11/09/Cookiea/</url>
    <content><![CDATA[<h1 id="一个不大不小的问题"><a href="#一个不大不小的问题" class="headerlink" title="一个不大不小的问题"></a>一个不大不小的问题</h1><p>假设服务器有一个接口，通过请求这个接口，可以添加一个管理员</p>
<p>但是，不是任何人都有权力做这种操作的</p>
<p>那么服务器如何知道请求接口的人是有权力的呢？</p>
<p>答案是：只有登录过的管理员才能做这种操作</p>
<p>可问题是，客户端和服务器的传输使用的是http协议，http协议是无状态的，什么叫无状态，就是<strong>服务器不知道这一次请求的人，跟之前登录请求成功的人是不是同一个人</strong></p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200417161014030.png" alt=""></p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200417161244373.png" alt=""></p>
<p>由于http协议的无状态，服务器<strong>忘记</strong>了之前的所有请求，它无法确定这一次请求的客户端，就是之前登录成功的那个客户端。</p>
<blockquote>
<p>你可以把服务器想象成有着严重脸盲症的东哥，他没有办法分清楚跟他说话的人之前做过什么</p>
</blockquote>
<p>于是，服务器想了一个办法</p>
<p>它按照下面的流程来认证客户端的身份</p>
<ol>
<li>客户端登录成功后，服务器会给客户端一个出入证（令牌 token）</li>
<li>后续客户端的每次请求，都必须要附带这个出入证（令牌 token）</li>
</ol>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200417161950450.png" alt=""></p>
<p>服务器发扬了认证不认人的优良传统，就可以很轻松的识别身份了。</p>
<p>但是，用户不可能只在一个网站登录，于是客户端会收到来自各个网站的出入证，因此，就要求客户端要有一个类似于卡包的东西，能够具备下面的功能：</p>
<ol>
<li><strong>能够存放多个出入证</strong>。这些出入证来自不同的网站，也可能是一个网站有多个出入证，分别用于出入不同的地方</li>
<li><strong>能够自动出示出入证</strong>。客户端在访问不同的网站时，能够自动的把对应的出入证附带请求发送出去。</li>
<li><strong>正确的出示出入证</strong>。客户端不能将肯德基的出入证发送给麦当劳。</li>
<li><strong>管理出入证的有效期</strong>。客户端要能够自动的发现那些已经过期的出入证，并把它从卡包内移除。</li>
</ol>
<p>能够满足上面所有要求的，就是cookie</p>
<p>cookie类似于一个卡包，专门用于存放各种出入证，并有着一套机制来自动管理这些证件。</p>
<p>卡包内的每一张卡片，称之为<strong>一个cookie</strong>。</p>
<h1 id="cookie的组成"><a href="#cookie的组成" class="headerlink" title="cookie的组成"></a>cookie的组成</h1><p>cookie是浏览器中特有的一个概念，它就像浏览器的专属卡包，管理着各个网站的身份信息。</p>
<p>每个cookie就相当于是属于某个网站的一个卡片，它记录了下面的信息：</p>
<ul>
<li>key：键，比如「身份编号」</li>
<li>value：值，比如袁小进的身份编号「14563D1550F2F76D69ECBF4DD54ABC95」，这有点像卡片的条形码，当然，它可以是任何信息</li>
<li>domain：域，表达这个cookie是属于哪个网站的，比如<code>yuanjin.tech</code>，表示这个cookie是属于<code>yuanjin.tech</code>这个网站的</li>
<li>path：路径，表达这个cookie是属于该网站的哪个基路径的，就好比是同一家公司不同部门会颁发不同的出入证。比如<code>/news</code>，表示这个cookie属于<code>/news</code>这个路径的。（后续详细解释）</li>
<li>secure：是否使用安全传输（后续详细解释）</li>
<li>expire：过期时间，表示该cookie在什么时候过期</li>
</ul>
<p>当浏览器向服务器发送一个请求的时候，它会瞄一眼自己的卡包，看看哪些卡片适合附带捎给服务器</p>
<p>如果一个cookie<strong>同时满足</strong>以下条件，则这个cookie会被附带到请求中</p>
<ul>
<li>cookie没有过期</li>
<li>cookie中的域和这次请求的域是匹配的<ul>
<li>比如cookie中的域是<code>yuanjin.tech</code>，则可以匹配的请求域是<code>yuanjin.tech</code>、<code>www.yuanjin.tech</code>、<code>blogs.yuanjin.tech</code>等等</li>
<li>比如cookie中的域是<code>www.yuanjin.tech</code>，则只能匹配<code>www.yuanjin.tech</code>这样的请求域</li>
<li>cookie是不在乎端口的，只要域匹配即可</li>
</ul>
</li>
<li>cookie中的path和这次请求的path是匹配的<ul>
<li>比如cookie中的path是<code>/news</code>，则可以匹配的请求路径可以是<code>/news</code>、<code>/news/detail</code>、<code>/news/a/b/c</code>等等，但不能匹配<code>/blogs</code></li>
<li>如果cookie的path是<code>/</code>，可以想象，能够匹配所有的路径</li>
</ul>
</li>
<li>验证cookie的安全传输<ul>
<li>如果cookie的secure属性是true，则请求协议必须是<code>https</code>，否则不会发送该cookie</li>
<li>如果cookie的secure属性是false，则请求协议可以是<code>http</code>，也可以是<code>https</code></li>
</ul>
</li>
</ul>
<p>如果一个cookie满足了上述的所有条件，则浏览器会把它自动加入到这次请求中</p>
<p>具体加入的方式是，<strong>浏览器会将符合条件的cookie，自动放置到请求头中</strong>，例如，当我在浏览器中访问百度的时候，它在请求头中附带了下面的cookie：</p>
<p><img src="http://mdrs.yuanjin.tech/img/image-20200417170328584.png" alt=""></p>
<p>看到打马赛克的地方了吗？这部分就是通过请求头<code>cookie</code>发送到服务器的，它的格式是<code>键=值; 键=值; 键=值; ...</code>，每一个键值对就是一个符合条件的cookie。</p>
<p><strong>cookie中包含了重要的身份信息，永远不要把你的cookie泄露给别人！！！</strong>否则，他人就拿到了你的证件，有了证件，就具备了为所欲为的可能性。</p>
<h1 id="如何设置cookie"><a href="#如何设置cookie" class="headerlink" title="如何设置cookie"></a>如何设置cookie</h1><p>由于cookie是保存在浏览器端的，同时，很多证件又是服务器颁发的</p>
<p>所以，cookie的设置有两种模式：</p>
<ul>
<li>服务器响应：这种模式是非常普遍的，当服务器决定给客户端颁发一个证件时，它会在响应的消息中包含cookie，浏览器会自动的把cookie保存到卡包中</li>
<li>客户端自行设置：这种模式少见一些，不过也有可能会发生，比如用户关闭了某个广告，并选择了「以后不要再弹出」，此时就可以把这种小信息直接通过浏览器的JS代码保存到cookie中。后续请求服务器时，服务器会看到客户端不想要再次弹出广告的cookie，于是就不会再发送广告过来了。</li>
</ul>
<h2 id="服务器端设置cookie"><a href="#服务器端设置cookie" class="headerlink" title="服务器端设置cookie"></a>服务器端设置cookie</h2><p>服务器可以通过设置响应头，来告诉浏览器应该如何设置cookie</p>
<p>响应头按照下面的格式设置：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">set-cookie:</span> <span class="string">cookie1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">set-cookie:</span> <span class="string">cookie2</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">set-cookie:</span> <span class="string">cookie3</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">...</span></span></pre></td></tr></table></figure>

<p>通过这种模式，就可以在一次响应中设置多个cookie了，具体设置多少个cookie，设置什么cookie，根据你的需要自行处理</p>
<p>其中，每个cookie的格式如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">键&#x3D;值; path&#x3D;?; domain&#x3D;?; expire&#x3D;?; max-age&#x3D;?; secure; httponly</span></pre></td></tr></table></figure>

<p>每个cookie除了键值对是必须要设置的，其他的属性都是可选的，并且顺序不限</p>
<p>当这样的响应头到达客户端后，<strong>浏览器会自动的将cookie保存到卡包中，如果卡包中已经存在一模一样的卡片（其他key、path、domain相同），则会自动的覆盖之前的设置</strong>。</p>
<p>下面，依次说明每个属性值：</p>
<ul>
<li><strong>path</strong>：设置cookie的路径。如果不设置，浏览器会将其自动设置为当前请求的路径。比如，浏览器请求的地址是<code>/login</code>，服务器响应了一个<code>set-cookie: a=1</code>，浏览器会将该cookie的path设置为请求的路径<code>/login</code></li>
<li><strong>domain</strong>：设置cookie的域。如果不设置，浏览器会自动将其设置为当前的请求域，比如，浏览器请求的地址是<code>http://www.yuanjin.tech</code>，服务器响应了一个<code>set-cookie: a=1</code>，浏览器会将该cookie的domain设置为请求的域<code>www.yuanjin.tech</code><ul>
<li>这里值得注意的是，如果服务器响应了一个无效的域，浏览器是不认的</li>
<li>什么是无效的域？就是响应的域连根域都不一样。比如，浏览器请求的域是<code>yuanjin.tech</code>，服务器响应的cookie是<code>set-cookie: a=1; domain=baidu.com</code>，这样的域浏览器是不认的。</li>
<li>如果浏览器连这样的情况都允许，就意味着张三的服务器，有权利给用户一个cookie，用于访问李四的服务器，这会造成很多安全性的问题</li>
</ul>
</li>
<li><strong>expire</strong>：设置cookie的过期时间。这里必须是一个有效的GMT时间，即格林威治标准时间字符串，比如<code>Fri, 17 Apr 2020 09:35:59 GMT</code>，表示格林威治时间的<code>2020-04-17 09:35:59</code>，即北京时间的<code>2020-04-17 17:35:59</code>。当客户端的时间达到这个时间点后，会自动销毁该cookie。</li>
<li><strong>max-age</strong>：设置cookie的相对有效期。expire和max-age通常仅设置一个即可。比如设置<code>max-age</code>为<code>1000</code>，浏览器在添加cookie时，会自动设置它的<code>expire</code>为当前时间加上1000秒，作为过期时间。<ul>
<li>如果不设置expire，又没有设置max-age，则表示会话结束后过期。</li>
<li>对于大部分浏览器而言，关闭所有浏览器窗口意味着会话结束。</li>
</ul>
</li>
<li><strong>secure</strong>：设置cookie是否是安全连接。如果设置了该值，则表示该cookie后续只能随着<code>https</code>请求发送。如果不设置，则表示该cookie会随着所有请求发送。</li>
<li><strong>httponly</strong>：设置cookie是否仅能用于传输。如果设置了该值，表示该cookie仅能用于传输，而不允许在客户端通过JS获取，这对防止跨站脚本攻击（XSS）会很有用。 <ul>
<li>关于如何通过JS获取，后续会讲解</li>
<li>关于什么是XSS，不在本文讨论范围</li>
</ul>
</li>
</ul>
<p>下面来一个例子，客户端通过<code>post</code>请求服务器<code>http://yuanjin.tech/login</code>，并在消息体中给予了账号和密码，服务器验证登录成功后，在响应头中加入了以下内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set-cookie: token&#x3D;123456; path&#x3D;&#x2F;; max-age&#x3D;3600; httponly</span></pre></td></tr></table></figure>

<p>当该响应到达浏览器后，浏览器会创建下面的cookie：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">key:</span> <span class="string">token</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">value:</span> <span class="number">123456</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">domain:</span> <span class="string">yuanjin.tech</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">path:</span> <span class="string">/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">expire:</span> <span class="number">2020</span><span class="number">-04</span><span class="number">-17</span> <span class="number">18</span><span class="string">:55:00</span> <span class="comment">#假设当前时间是2020-04-17 17:55:00</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">secure:</span> <span class="literal">false</span>  <span class="comment">#任何请求都可以附带这个cookie，只要满足其他要求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="attr">httponly:</span> <span class="literal">true</span> <span class="comment">#不允许JS获取该cookie</span></span></pre></td></tr></table></figure>

<p>于是，随着浏览器后续对服务器的请求，只要满足要求，这个cookie就会被附带到请求头中传给服务器：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cookie:</span> <span class="string">token=123456;</span> <span class="string">其他cookie...</span></span></pre></td></tr></table></figure>

<p>现在，还剩下最后一个问题，就是如何删除浏览器的一个cookie呢？</p>
<p>如果要删除浏览器的cookie，只需要让服务器响应一个同样的域、同样的路径、同样的key，只是时间过期的cookie即可</p>
<p><strong>所以，删除cookie其实就是修改cookie</strong></p>
<p>下面的响应会让浏览器删除<code>token</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cookie:</span> <span class="string">token=;</span> <span class="string">domain=yuanjin.tech;</span> <span class="string">path=/;</span> <span class="string">max-age=-1</span></span></pre></td></tr></table></figure>

<p>浏览器按照要求修改了cookie后，会发现cookie已经过期，于是自然就会删除了。</p>
<blockquote>
<p>无论是修改还是删除，都要注意cookie的域和路径，因为完全可能存在域或路径不同，但key相同的cookie</p>
<p>因此无法仅通过key确定是哪一个cookie</p>
</blockquote>
<h2 id="客户端设置cookie"><a href="#客户端设置cookie" class="headerlink" title="客户端设置cookie"></a>客户端设置cookie</h2><p>既然cookie是存放在浏览器端的，所以浏览器向JS公开了接口，让其可以设置cookie</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">"键=值; path=?; domain=?; expire=?; max-age=?; secure"</span>;</span></pre></td></tr></table></figure>

<p>可以看出，在客户端设置cookie，和服务器设置cookie的格式一样，只是有下面的不同</p>
<ul>
<li>没有httponly。因为httponly本来就是为了限制在客户端访问的，既然你是在客户端配置，自然失去了限制的意义。</li>
<li>path的默认值。在服务器端设置cookie时，如果没有写path，使用的是请求的path。而在客户端设置cookie时，也许根本没有请求发生。因此，path在客户端设置时的默认值是当前网页的path</li>
<li>domain的默认值。和path同理，客户端设置时的默认值是当前网页的domain</li>
<li>其他：一样</li>
<li>删除cookie：和服务器也一样，修改cookie的过期时间即可</li>
</ul>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>以上，就是cookie原理部分的内容。</p>
<p>如果把它用于登录场景，就是如下的流程：</p>
<p><strong>登录请求</strong></p>
<ol>
<li>浏览器发送请求到服务器，附带账号密码</li>
<li>服务器验证账号密码是否正确，如果不正确，响应错误，如果正确，在响应头中设置cookie，附带登录认证信息（至于登录认证信息是设么样的，如何设计，要考虑哪些问题，就是另一个话题了，可以百度 jwt）</li>
<li>客户端收到cookie，浏览器自动记录下来</li>
</ol>
<p><strong>后续请求</strong></p>
<ol>
<li>浏览器发送请求到服务器，希望添加一个管理员，并将cookie自动附带到请求中</li>
<li>服务器先获取cookie，验证cookie中的信息是否正确，如果不正确，不予以操作，如果正确，完成正常的业务流程</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Nodejs 应用篇</title>
    <url>/blog/2020/11/09/NODEJSa/</url>
    <content><![CDATA[<h1 id="一、node-核心"><a href="#一、node-核心" class="headerlink" title="一、node 核心"></a>一、node 核心</h1><h2 id="（一）全局对象-global"><a href="#（一）全局对象-global" class="headerlink" title="（一）全局对象 global"></a>（一）全局对象 global</h2><h3 id="1-Buffer-缓冲器"><a href="#1-Buffer-缓冲器" class="headerlink" title="1.Buffer 缓冲器"></a>1.Buffer 缓冲器</h3><ul>
<li>Buffer 类是 JavaScript 的 Uint8Array 类的子类，且继承时带上了涵盖额外用例的方法。</li>
<li>当在 Buffer 和字符串之间转换时，可以指定字符编码。 如果未指定字符编码，则使用 UTF-8 作为默认值。</li>
<li>Buffer.from(data, encoding)</li>
<li>Buffer.byteLength(data, encoding)</li>
<li>Buffer.concat(list)</li>
<li>Buffer.isBuffer(obj)</li>
</ul>
<h3 id="2-process-进程"><a href="#2-process-进程" class="headerlink" title="2.process 进程"></a>2.process 进程</h3><ul>
<li>process 对象是一个全局变量，提供了有关当前 Node.js 进程的信息并对其进行控制。</li>
<li>process.arch：为其编译 Node.js 二进制文件的操作系统的 CPU 架构。</li>
<li>process.env： 属性会返回包含用户环境的对象</li>
<li>process.platform： 属性返回字符串，标识 Node.js 进程运行其上的操作系统平台。</li>
<li>process.cwd()： 方法会返回 Node.js 进程的当前工作目录。</li>
<li>process.ppid： 属性返回当前父进程的 PID。</li>
<li>process.pid： 属性返回进程的 PID。</li>
<li>process.kill(pid)：发送的信号可能是做一些与杀死目标进程无关的事情</li>
</ul>
<h3 id="3-console-控制台"><a href="#3-console-控制台" class="headerlink" title="3.console 控制台"></a>3.console 控制台</h3><ul>
<li>console 模块提供了一个简单的调试控制台，类似于 Web 浏览器提供的 JavaScript 控制台。</li>
<li>console.time([label]) 启动一个计时器，用以计算一个操作的持续时间。 计时器由一个唯一的 label 标识。</li>
<li>console.timeEnd([label]) 停止先前通过调用 console.time() 启动的计时器，并打印结果到 stdout。</li>
</ul>
<h3 id="4-commonJS-模块化"><a href="#4-commonJS-模块化" class="headerlink" title="4.commonJS 模块化"></a>4.commonJS 模块化</h3><ul>
<li>commonJS模块化是运行在一个函数下的<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params">exports, require, module, __filename, __dirname</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">/*开发者代码片段*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="built_in">module</span>.exports</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="5-ES6-模块化"><a href="#5-ES6-模块化" class="headerlink" title="5.ES6 模块化"></a>5.ES6 模块化</h3><ul>
<li>ES6模块化是使用.mjs后缀，目前处于试验阶段</li>
</ul>
<hr>
<h2 id="（二）内置模块"><a href="#（二）内置模块" class="headerlink" title="（二）内置模块"></a>（二）内置模块</h2><h3 id="1-os-系统操作"><a href="#1-os-系统操作" class="headerlink" title="1.os 系统操作"></a>1.os 系统操作</h3><ul>
<li>os.EOL：操作系统特定的行末标志。<ul>
<li>在 POSIX 上是 \n。</li>
<li>在 Windows 上是 \r\n。</li>
</ul>
</li>
<li>os.arch()：返回为其编译 Node.js 二进制文件的操作系统的 CPU 架构。</li>
<li>os.cpus()：返回一个对象数组，其中包含有关每个逻辑 CPU 内核的信息。</li>
<li>os.freemem()：以整数的形式返回空闲的系统内存量（以字节为单位）。</li>
<li>os.homedir()：返回当前用户的主目录的字符串路径。</li>
<li>os.hostname()：以字符串的形式返回操作系统的主机名。</li>
<li>os.platform()： 返回标识操作系统平台的字符串。</li>
</ul>
<hr>
<h3 id="2-path-路径操作"><a href="#2-path-路径操作" class="headerlink" title="2.path 路径操作"></a>2.path 路径操作</h3><ul>
<li>path 模块提供了一些实用工具，用于处理文件和目录的路径。</li>
<li>path.dirname() 方法会返回 path 的目录名，类似于 Unix 的 dirname 命令。 尾部的目录分隔符会被忽略。</li>
<li>path.basename(path)：方法会返回 path 的最后一部分，类似于 Unix 的 basename 命令。 尾部的目录分隔符会被忽略。</li>
<li>path.extname()： 方法会返回 path 的扩展名，如果在 path 的最后一部分中没有，则返回空字符串。</li>
<li>path.format()： 方法从对象返回路径字符串。 </li>
<li>path.parse()： 方法从路径字符串返回对象。</li>
<li>path.isAbsolute()： 方法检测 path 是否为绝对路径。</li>
<li>path.relative(from, to)：方法根据当前工作目录返回 from 到 to 的相对路径。</li>
<li>path.resolve()： 方法会将路径或路径片段的序列解析为绝对路径。</li>
<li>path.join([…paths])：方法会将所有给定的 path 片段连接到一起（使用平台特定的分隔符作为定界符），然后规范化生成的路径。</li>
<li>path.normalize()： 方法规范化给定的 path，解析 ‘..’ 和 ‘.’ 片段。</li>
<li>path.delimiter：提供平台特定的路径定界符</li>
<li>path.sep：提供平台特定的路径片段分隔符</li>
</ul>
<hr>
<h3 id="3-url-地址操作"><a href="#3-url-地址操作" class="headerlink" title="3.url 地址操作"></a>3.url 地址操作</h3><ul>
<li>url 模块用于处理与解析 URL。</li>
<li>url.origin：获取只读的序列化的 URL 的 origin。<ul>
<li>url.protocol：获取及设置 URL 的协议部分。</li>
<li>url.host：获取及设置 URL 的主机部分。</li>
<li>url.hostname：获取及设置 URL 的主机名部分。 url.host 和 url.hostname 之间的区别是 url.hostname 不包含端口。</li>
<li>url.port：获取及设置 URL 的端口部分。</li>
</ul>
</li>
<li>url.pathname：获取及设置 URL 的路径部分。</li>
<li>url.search：获取及设置 URL 的序列化查询部分。</li>
<li>url.hash：获取及设置 URL 的片段部分。</li>
<li>url.href：获取 href 属性的值等同于调用 url.toString()。<ul>
<li>url.parse(urlString[, parseQueryString[, slashesDenoteHost]])</li>
<li>url.format(URL)</li>
<li>url.parse(urlString)</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-util-工具库"><a href="#4-util-工具库" class="headerlink" title="4.util 工具库"></a>4.util 工具库</h3><ul>
<li>util.callbackify(original) 将异步函数处理为回调模式</li>
<li>util.promisify(original) 将回调模式处理为异步函数</li>
<li>util.inherits(constructor, superConstructor) 请使用 ES6 extends 关键词获得语言层面的继承支持。</li>
</ul>
<hr>
<h3 id="5-fs-I-O操作"><a href="#5-fs-I-O操作" class="headerlink" title="5.fs I/O操作"></a>5.fs I/O操作</h3><ul>
<li>fs.Stats 对象提供了关于文件的信息。<ul>
<li>stats.isDirectory()</li>
<li>stats.isFile()</li>
<li>stats.size </li>
<li>stats.atime 表明上次访问此文件的时间戳。</li>
<li>stats.mtime 表明上次修改此文件的时间戳。</li>
<li>stats.ctime 表明上次更改文件状态的时间戳。</li>
<li>stats.birthtime 表示此文件的创建时间的时间戳。</li>
</ul>
</li>
<li>fs.readdir(path, option, callback) 读取文件目录</li>
<li>fs.readFile(path, option, callback) 读取文件</li>
<li>fs.readdir() 读取文件目录</li>
<li>fs.writeFile(path, data, option, callback) 写入文件</li>
<li>fs.mkdir(path[, options], callback) 创建目录</li>
<li>fs.rename(oldPath, newPath, callback) 重命名</li>
<li>fs.createReadStream(path[, options]) 此方法返回的可读流具有 64 kb 的默认 highWaterMark。<ul>
<li>配置：<ul>
<li>encoding： 编码方式</li>
<li>start： 起始字节</li>
<li>end: 结束字节</li>
<li>highWaterMark：流量大小</li>
</ul>
</li>
<li>事件：<ul>
<li>‘close’ 事件，当流或其底层资源（比如文件描述符）被关闭时触发。</li>
<li>‘data’ 事件，当流将数据块传送给消费者后触发。</li>
<li>‘end’ 事件，在数据被完全消费掉后才会触发。</li>
<li>‘error’ 事件，底层的流由于底层内部的故障而无法生成数据，或者流的实现尝试推送无效的数据块由 Readable 实现触发。</li>
<li>‘pause’ 事件，当调用 stream.pause() 并且 readsFlowing 不为 false 时触发。</li>
<li>‘resume’ 事件，当调用 stream.resume() 并且 readsFlowing 不为 true 时触发。</li>
<li>‘readable’ 事件，当有数据可从流中读取时触发。</li>
</ul>
</li>
<li>方法：<ul>
<li>readable.isPaused() 方法返回可读流当前的操作状态。</li>
<li>stream.pause() 读取暂停</li>
<li>stream.resume() 恢复读取</li>
</ul>
</li>
</ul>
</li>
<li>fs.createWriteStream(path[, options]) 此方法返回的可写流具有 64 kb 的默认 highWaterMark。<ul>
<li>事件：<ul>
<li>‘close’ 事件，当流或其底层资源（比如文件描述符）被关闭时触发。</li>
<li>‘data’ 事件，当流将数据块传送给消费者后触发。</li>
<li>‘end’ 事件，在数据被完全消费掉后才会触发。</li>
<li>‘error’ 事件，如果在写入或管道数据时发生错误，则会触发。</li>
<li>‘drain’ 事件，如果调用 stream.write(chunk) 返回 false，则当可以继续写入数据到流时会触发。</li>
<li>‘finish’ 事件，调用 stream.end() 且缓冲数据都已传给底层系统之后触发。</li>
</ul>
</li>
<li>方法：<ul>
<li>readable.write() 方法返回管道是否可继续流入。</li>
<li>stream.end() 结束写入</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="6-net-网络"><a href="#6-net-网络" class="headerlink" title="6.net 网络"></a>6.net 网络</h3><ul>
<li>net.Server 类<ul>
<li>事件：<ul>
<li>‘close’ 事件，当 server 关闭的时候触发。</li>
<li>‘connection’ 事件，当一个新的连接建立的时候触发。</li>
<li>‘error’ 事件，当错误出现的时候触发。</li>
<li>‘listening’ 事件， 当调用 server.listen() 绑定服务器之后触发。</li>
</ul>
</li>
<li>方法：<ul>
<li>server.close([callback]) 阻止 server 接受新的连接并保持现有的连接。 </li>
<li>server.getConnections(callback) 异步获取服务器的当前并发连接数。</li>
<li>server.listen([port[, host[, backlog]]][, callback])  启动一个服务器来监听连接。</li>
</ul>
</li>
</ul>
</li>
<li>net.Socket 类<ul>
<li>事件：<ul>
<li>‘close’ 事件，一旦 socket 完全关闭就发出该事件。</li>
<li>‘connect’ 事件，当一个 socket 连接成功建立的时候触发。</li>
<li>‘error’ 事件，当错误出现的时候触发。</li>
<li>‘data’ 事件， 当接收到数据的时触发该事件。</li>
<li>‘drain’ 事件，当写入缓冲区变为空时触发。</li>
<li>‘end’ 事件，当 socket 的另一端发送一个 FIN 包的时候触发，从而结束 socket 的可读端。</li>
<li>方法：</li>
</ul>
</li>
<li>server.close([callback]) 阻止 server 接受新的连接并保持现有的连接。 </li>
<li>server.getConnections(callback) 异步获取服务器的当前并发连接数。</li>
<li>socket.connect(port[, host][, connectListener]) 在给定的套接字上启动一个连接。</li>
<li>socket.end([data[, encoding]][, callback]) 半关闭 socket。</li>
<li>socket.pause() 暂停读写数据。也就是说，’data’ 事件将不会再被触发。可以用于上传节流。</li>
<li>socket.resume() 在调用 socket.pause() 之后恢复读取数据。</li>
<li>socket.write(data[, encoding][, callback]) 在 socket 上发送数据。</li>
</ul>
</li>
<li>net.createConnection(port[, host][, connectListener])</li>
<li>net.createServer([options][, connectionListener])</li>
<li>net.connect(port[, host][, connectListener])</li>
</ul>
<hr>
<h3 id="7-http"><a href="#7-http" class="headerlink" title="7.http"></a>7.http</h3><ul>
<li>http.ClientRequest 类<ul>
<li>事件：<ul>
<li>‘abort’ 事件，当请求被客户端中止时触发。</li>
<li>‘connect’ 事件，每次服务器使用 CONNECT 方法响应请求时都会触发。</li>
<li>‘response’ 事件，当收到此请求的响应时触发。 此事件仅触发一次。</li>
</ul>
</li>
<li>方法：<ul>
<li>request.write(chunk[, encoding][, callback]) 发送一个请求主体的数据块。</li>
<li>request.end([data[, encoding]][, callback]) 完成发送请求。</li>
</ul>
</li>
</ul>
</li>
<li>http.Server 类<ul>
<li>事件：<ul>
<li>‘close’ 事件，当服务器关闭时触发。</li>
<li>‘connect’ 事件，每次客户端请求 HTTP CONNECT 方法时触发。</li>
<li>‘connection’ 事件，建立新的 TCP 流时会触发此事件。</li>
<li>‘request’ 事件，每当有请求时触发。 每个连接可能有多个请求（对于 HTTP Keep-Alive 连接而言）。</li>
</ul>
</li>
<li>方法：<ul>
<li>server.listen() 启动 HTTP 服务器用于监听连接。</li>
<li>server.close([callback]) 停止服务器接受新连接。</li>
</ul>
</li>
</ul>
</li>
<li>http.ServerResponse 类<ul>
<li>事件：<ul>
<li>‘close’ 事件，表明底层的连接已被终止。</li>
<li>‘finish’ 事件，响应发送后触发。</li>
</ul>
</li>
<li>方法：<ul>
<li>response.write(chunk[, encoding][, callback]) 发送一块响应主体。 可以多次调用该方法以提供连续的响应主体片段。</li>
<li>response.end([data[, encoding]][, callback]) 发送所有响应头和主体，该服务器应该视为此消息已完成。</li>
</ul>
</li>
</ul>
</li>
<li>http.IncomingMessage 类<ul>
<li>事件：<ul>
<li>‘aborted’ 事件，当请求中止时触发。</li>
<li>‘close’ 事件，表明底层连接已关闭。</li>
</ul>
</li>
<li>属性：<ul>
<li>message.url，仅对从 http.Server 获取的请求有效。请求的 URL 字符串。 它仅包含实际的 HTTP 请求中存在的 URL。</li>
<li>message.method，仅对从 http.Server 获取的请求有效。请求方法为字符串。 只读。</li>
<li>message.headers，请求或响应的消息头对象。</li>
</ul>
</li>
</ul>
</li>
<li><strong>http.request(url[, options][, callback]) 客户端</strong><ul>
<li>返回值：http.ClientRequest 对象</li>
<li>回调参数：http.IncomingMessage 对象</li>
</ul>
</li>
<li><strong>http.createServer([options][, requestListener]) 服务端</strong><ul>
<li>返回值：http.Server 对象</li>
<li>回调参数1：http.IncomingMessage 对象</li>
<li>回调参数2：http.ServerResponse 对象</li>
</ul>
</li>
</ul>
<hr>
<h3 id="8-events"><a href="#8-events" class="headerlink" title="8.events"></a>8.events</h3><ul>
<li>EventEmitter 类<ul>
<li>用于创建一个事件管理对象event</li>
<li>event.on() 注册事件</li>
<li>event.once() 注册事件</li>
<li>event.emit() 触发事件</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（三）生命周期"><a href="#（三）生命周期" class="headerlink" title="（三）生命周期"></a>（三）生命周期</h2>]]></content>
  </entry>
  <entry>
    <title>ES6 --- 进阶篇</title>
    <url>/blog/2020/11/09/ES6b/</url>
    <content><![CDATA[<h2 id="一-变量"><a href="#一-变量" class="headerlink" title="(一) 变量"></a>(一) 变量</h2><h3 id="1-var"><a href="#1-var" class="headerlink" title="1.var"></a>1.var</h3><ul>
<li>变量重复声明: 会导致数据被覆盖</li>
<li>变量声明提升: 数据访问错乱, 闭包问题</li>
<li>全局变量挂在: 挂在在全局对象上,会导致全局对象的属性污染 </li>
</ul>
<h3 id="2-let"><a href="#2-let" class="headerlink" title="2.let"></a>2.let</h3><ul>
<li>块级作用域: 声明的变量具有识别绑定块级作用域的能力, 只在对应的作用域内有效</li>
<li>暂时性死区: 变量声明提升后会放进暂时性死区, 在代码运行到声明语句的时候才会移除, 暂时性死区的内容不可访问</li>
<li>全局声明的变量不会挂在全局对象</li>
<li>变量在同一作用域内不允许重复声明</li>
</ul>
<h3 id="3-const"><a href="#3-const" class="headerlink" title="3.const"></a>3.const</h3><ul>
<li>具有和let一样的特点</li>
<li>变量声明时必须初始化</li>
<li>声明的变量内存空间不允许改变</li>
<li>固定的常量命名: 全部大写, _线分隔</li>
</ul>
<hr>
<h2 id="二-字符串与正则"><a href="#二-字符串与正则" class="headerlink" title="(二) 字符串与正则"></a>(二) 字符串与正则</h2><h3 id="1-Unicode-编码"><a href="#1-Unicode-编码" class="headerlink" title="1.Unicode 编码"></a>1.Unicode 编码</h3><h4 id="1-码元"><a href="#1-码元" class="headerlink" title="(1) 码元"></a>(1) 码元</h4><ul>
<li>在早期, 由于内存空间的宝贵, Unicode 使用16位二进制来存储文字</li>
<li>一个16位的二进制编码为一个码元</li>
<li>String.charCodeAt(index)</li>
</ul>
<h4 id="2-码点"><a href="#2-码点" class="headerlink" title="(2) 码点"></a>(2) 码点</h4><ul>
<li>在后来, 技术的进步, Unicode 对文字进行了拓展, 将某些文字拓展到了32位</li>
<li>一个32位的二进制编码占用两个码元, 这些文字对应的二进制数叫做码点</li>
<li>String.charPonitAt(index)</li>
</ul>
<h3 id="2-字符串新增实例方法"><a href="#2-字符串新增实例方法" class="headerlink" title="2.字符串新增实例方法"></a>2.字符串新增实例方法</h3><ul>
<li>str.includes(str, [index]), 检测字符串是否包含指定字符(默认从头开始, 可指定开始位置)</li>
<li>str.startWith(str, [index]), 检测字符串是否以指定字符开始(默认从头开始, 可指定开始位置)</li>
<li>str.enWith(str, [index]), 检测字符串是否以指定字符结束(默认从头开始, 可指定开始位置)</li>
<li>str.repeat(num), 将字符串重复指定次数后返回</li>
</ul>
<h3 id="3-正则"><a href="#3-正则" class="headerlink" title="3.正则"></a>3.正则</h3><ul>
<li>i 不区分大小写</li>
<li>m 多行匹配</li>
<li>g 全局匹配</li>
<li>u 码点匹配(正则使用码点进行匹配)</li>
<li>y 粘连标记(正则匹配受lastIndex影响)</li>
</ul>
<h3 id="4-模板字符串"><a href="#4-模板字符串" class="headerlink" title="4.模板字符串"></a>4.模板字符串</h3><ul>
<li>模板字符串符号 <strong>`string`</strong></li>
<li>自然书写多行</li>
<li>利用 <strong>${}</strong> 进行表达式插入</li>
<li><strong>标记</strong> <ul>
<li>函数名标记: 调用函数, 模板字符串分隔作为参数传递</li>
<li>String.raw标记: 纯文本(不识别转义符)<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> param1 = <span class="string">"a"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> param2 = <span class="string">"z"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> text = myTag<span class="string">`英文字母表的第一个字母是<span class="subst">$&#123;param1&#125;</span>, 最后一个字母是<span class="subst">$&#123;param2&#125;</span>`</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myTag</span>(<span class="params">template, paramOne, paramTwo</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(template)<span class="comment">// ['英文字母表的第一个字母是', ', 最后一个字母是', '']</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(paramOne)<span class="comment">// a</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(paramTwo)<span class="comment">// z</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="三-函数与拓展运算符"><a href="#三-函数与拓展运算符" class="headerlink" title="(三) 函数与拓展运算符"></a>(三) 函数与拓展运算符</h2><h3 id="1-拓展运算符"><a href="#1-拓展运算符" class="headerlink" title="1.拓展运算符"></a>1.拓展运算符</h3><ul>
<li>拓展运算符 <strong>…</strong></li>
<li>展开数组: 剥离[]</li>
<li>展开对象: 剥离{}</li>
<li>收集参数: 剩余参数</li>
</ul>
<h3 id="2-参数默认值"><a href="#2-参数默认值" class="headerlink" title="2.参数默认值"></a>2.参数默认值</h3><ul>
<li>给行参赋值, 赋予的值就是默认值</li>
<li>只有该行参绝对等于undefined 的时候才会应用默认值</li>
<li>在使用默认值的情况下, 该函数会自动定义成严格模式, arguments和行参是脱离的</li>
<li>行参默认值也存在暂时性死区</li>
</ul>
<h3 id="3-剩余参数"><a href="#3-剩余参数" class="headerlink" title="3.剩余参数"></a>3.剩余参数</h3><ul>
<li>在行参位置使用拓展运算符将剩余实参收集于一个数组内</li>
<li>一个函数只能有一个剩余参数</li>
<li>剩余参数只能定义为最后一个行参</li>
</ul>
<h3 id="4-函数双重性"><a href="#4-函数双重性" class="headerlink" title="4.函数双重性"></a>4.函数双重性</h3><ul>
<li>普通函数: 处理程序</li>
<li>构造函数: 创建对象<ul>
<li>期望通过new调用</li>
<li>没有使用new调用, 会导致给this指定的对象(通常是window)添加错误的属性</li>
<li>原始使用this instanceof FunctionName 来判断是否通过new调用, 而是用call改变this执行则可以避开判断, 不严谨</li>
<li>ES6 在构造函数内可以通过new.target来判断是否是通过new 调用<ul>
<li>new 调用, new.target 指向该构造函数</li>
<li>非 new 调用, new.target 指向undefined</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="5-箭头函数"><a href="#5-箭头函数" class="headerlink" title="5.箭头函数"></a>5.箭头函数</h3><h4 id="1-this指向"><a href="#1-this指向" class="headerlink" title="(1) this指向"></a>(1) this指向</h4><ul>
<li>直接调用函数, this指向window</li>
<li>对象调用方法, this指向该对象</li>
<li>new调用函数, this指向新创建的对象实例</li>
<li>函数通过 apply call bind 调用, this指向绑定的目标</li>
<li>DOM触发事件函数, this指向事件源</li>
<li>箭头函数没有this, 箭头函数体内使用this<ul>
<li>this 指向与调用无关</li>
<li>this 指向该箭头函数定义时的this指向</li>
</ul>
</li>
<li>严格模式下, 未经绑定, this指向undefined</li>
<li>类的字段初始化器中, this指向该类实例对象</li>
</ul>
<h4 id="2-使用细节"><a href="#2-使用细节" class="headerlink" title="(2) 使用细节"></a>(2) 使用细节</h4><ul>
<li>箭头函数没有this, arguments</li>
<li>箭头函数没有prototype, new.target</li>
<li>方法不使用箭头函数</li>
</ul>
<hr>
<h2 id="四-对象"><a href="#四-对象" class="headerlink" title="(四) 对象"></a>(四) 对象</h2><h3 id="1-对象字面量"><a href="#1-对象字面量" class="headerlink" title="1.对象字面量"></a>1.对象字面量</h3><ul>
<li>属性速写: 属性值来源于变量, 属性名与变量名相同时, 可以省略属性值</li>
<li>方法速写: 属性名与函数名相同时, 可以省略属性名和function关键字及 : 号</li>
<li>计算属性名: [ 表达式 ]</li>
</ul>
<h3 id="2-Object新增静态方法"><a href="#2-Object新增静态方法" class="headerlink" title="2.Object新增静态方法"></a>2.Object新增静态方法</h3><ul>
<li><p>Object.is(a, b) </p>
<ul>
<li>相当于严格相等</li>
<li>NaN和NaN是相等</li>
<li>+0和-0是不相等</li>
</ul>
</li>
<li><p>Object.assign(obj1, obj2)</p>
<ul>
<li>对象混合</li>
<li>将obj2混合入obj1, 同名覆盖, 返回obj1</li>
</ul>
</li>
<li><p>Object.getOwnPropertyName(obj)</p>
<ul>
<li>返回自身的所有属性的属性名(不包括原型链上的属性)</li>
<li>ES6规定了所返回数组的排序方式<ul>
<li>先排数字(升序)</li>
<li>再排字母(书写顺序)</li>
</ul>
</li>
</ul>
</li>
<li><p>Object.setPrototypeOf(obj, prototype)</p>
<ul>
<li>设置对象隐式原型</li>
</ul>
</li>
</ul>
<h3 id="3-面向对象（类）"><a href="#3-面向对象（类）" class="headerlink" title="3.面向对象（类）"></a>3.面向对象（类）</h3><h4 id="1-构造函数"><a href="#1-构造函数" class="headerlink" title="(1) 构造函数"></a>(1) 构造函数</h4><ul>
<li>属性和原型成员定义相分离, 可读性低</li>
<li>原型成员可以被枚举</li>
<li>默认可以当作普通函数调用</li>
</ul>
<h4 id="2-类的特点"><a href="#2-类的特点" class="headerlink" title="(2) 类的特点"></a>(2) 类的特点</h4><ul>
<li>属性和原型成员定义统一在一起, 可读性高</li>
<li>类的方法不可以枚举</li>
<li>必须使用new关键字调用</li>
<li>类中的代码均在严格模式下运行</li>
<li>类声明不会提升, 也有暂时性死区</li>
</ul>
<h4 id="3-语法"><a href="#3-语法" class="headerlink" title="(3) 语法"></a>(3) 语法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">// 实例成员</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//访问器，实例成员</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">get</span> age() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._age + <span class="string">"岁"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">set</span> age(age) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (age &lt; <span class="number">0</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      age = <span class="number">0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (age &gt; <span class="number">100</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      age = <span class="number">100</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>._age = <span class="number">100</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//字段初始化器, 实例成员</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  eat = <span class="string">'food'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//静态成员</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">static</span> type = <span class="string">"animal"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">static</span> method() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">"animal"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//原型方法</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  callName()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> Animal(<span class="string">"dog"</span>, <span class="number">50</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.dir(Animal)</span></pre></td></tr></table></figure>
<ul>
<li>实例成员<ul>
<li>定义在constructor函数内部</li>
<li>使用字段初始化器直接定义在constructor函数外部的属性</li>
<li>使用访问器（get, set）定义在constructor函数外部的成员</li>
</ul>
</li>
<li>原型成员<ul>
<li>直接定义在constructor函数外部的方法</li>
</ul>
</li>
<li>静态成员<ul>
<li>使用static关键字修饰的成员</li>
</ul>
</li>
</ul>
<h4 id="（4）装饰器"><a href="#（4）装饰器" class="headerlink" title="（4）装饰器"></a>（4）装饰器</h4><h4 id="（5）继承"><a href="#（5）继承" class="headerlink" title="（5）继承"></a>（5）继承</h4><ul>
<li>extends 继承</li>
<li>super 父类</li>
</ul>
<hr>
<h2 id="五-解构"><a href="#五-解构" class="headerlink" title="(五) 解构"></a>(五) 解构</h2><h3 id="1-对象结构"><a href="#1-对象结构" class="headerlink" title="1.对象结构"></a>1.对象结构</h3><ul>
<li>同名解构</li>
<li>异名解构</li>
<li>解构默认值</li>
<li>解构失败</li>
<li>嵌套深度解构<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  name: <span class="string">"abc"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  age: <span class="number">123</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  sex: <span class="string">"男"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  address: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    province：<span class="string">"云南"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    city: <span class="string">"昆明"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;name, age, <span class="attr">sex</span>:genner, <span class="attr">address</span>: &#123;province, city&#125;, time = <span class="number">20200404</span>, user&#125; = obj</span></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="2-数组解构"><a href="#2-数组解构" class="headerlink" title="2.数组解构"></a>2.数组解构</h3><ul>
<li>位置解构</li>
<li>指定位置解构</li>
<li>解构默认值</li>
<li>解构失败</li>
<li>嵌套深度解构</li>
<li>剩余结构<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, [<span class="string">"a"</span>], <span class="number">3</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [ , , two, [A, B = <span class="string">"b"</span>, C], ...num] = obj</span></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-参数解构"><a href="#3-参数解构" class="headerlink" title="3.参数解构"></a>3.参数解构</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">&#123;method = <span class="string">"GET"</span>, url = <span class="string">"/"</span>&#125; = &#123;&#125;</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(method, url)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">ajax()</span></pre></td></tr></table></figure>
<hr>
<h2 id="六-符号"><a href="#六-符号" class="headerlink" title="(六) 符号"></a>(六) 符号</h2><h3 id="1-普通符号Symbol"><a href="#1-普通符号Symbol" class="headerlink" title="1.普通符号Symbol"></a>1.普通符号Symbol</h3><ul>
<li>通过调用Symbol函数创建一个Symbol, 没有字面量形式, 参数是符号描述</li>
<li>每次调用Symbol函数创建创建的Symbol都不一样</li>
<li>通过typeof 得到的类型是symbol</li>
<li>无法进行隐式类型转换</li>
<li>可以进行显式类型转换 String(Symbol)</li>
</ul>
<h3 id="2-私有属性"><a href="#2-私有属性" class="headerlink" title="2.私有属性"></a>2.私有属性</h3><ul>
<li>符号是ES6新增的数据类型， 用于给对象设置私有属性</li>
<li>符号可以作为对象的属性存在，称之为符号属性</li>
<li>通过立即执行函数私有变量，来设计私有属性</li>
<li>符号属性不能枚举<ul>
<li>for-in遍历，不能读取符号属性</li>
<li>Object.getOwnPropertyNames()获取所有不可枚举的属性，不能读取符号属性</li>
<li>Object.keys()获取所有可枚举的属性，不能读取符号属性</li>
<li>Object.getOwnPropertySymbols()获取所有的符号属性，能读取符号属性</li>
</ul>
</li>
</ul>
<h3 id="3-共享符号Symbol-for"><a href="#3-共享符号Symbol-for" class="headerlink" title="3.共享符号Symbol.for"></a>3.共享符号Symbol.for</h3><ul>
<li>通过调用Symbol函数的静态方法for创建一个Symbol, 没有字面量形式, 参数是符号描述</li>
<li>只要符号描述相同，创建的Symbol始终相同（不传递参数创建的Symbol永远一样）</li>
</ul>
<h3 id="4-知名符号"><a href="#4-知名符号" class="headerlink" title="4.知名符号"></a>4.知名符号</h3><ul>
<li>知名符号是一些特殊含义的共享符号， 通过Symbol的静态属性得到</li>
<li>Symbol.hasInstance 影响instanceof</li>
<li>Symbol.isConcatSpreadable 影响数组concat方法</li>
<li>Symbol.toPrimitive 影响类型转换</li>
<li>Symbol.toStringTag 影响Object.prototype.toString的返回值</li>
</ul>
<hr>
<h2 id="七-异步"><a href="#七-异步" class="headerlink" title="(七) 异步"></a>(七) 异步</h2><h3 id="1-事件循环"><a href="#1-事件循环" class="headerlink" title="1.事件循环"></a>1.事件循环</h3><img src='./event loop.png'>

<h3 id="2-回调地域"><a href="#2-回调地域" class="headerlink" title="2.回调地域"></a>2.回调地域</h3><h3 id="3-Promise"><a href="#3-Promise" class="headerlink" title="3.Promise"></a>3.Promise</h3><h4 id="（1）模式"><a href="#（1）模式" class="headerlink" title="（1）模式"></a>（1）模式</h4><img src='./promise.png'>

<h4 id="（2）并联"><a href="#（2）并联" class="headerlink" title="（2）并联"></a>（2）并联</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pro = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//未决阶段,状态pending</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//通过调用resolve将状态推向已决阶段的resolved</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//通过调用reject将状态推向已决阶段的rejected</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//发生错误，则将状态推向已决阶段的rejected</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//已决阶段thenable</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//得到的是resolve传递的数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//可注册多个并联thenable</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">pro.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">pro.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">pro.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//已决阶段catchable</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//得到的是reject传递的数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//可注册多个并联catchable</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">pro.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(err)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">pro.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(err)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">pro.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(err)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>
<ul>
<li><font color=red>Promise并没有消除回调，只是让回调变得可控</font></li>
<li>未决阶段的函数是同步的，会立即执行</li>
<li>已决阶段thenable函数是异步的，会加入微队列等待执行<ul>
<li>then方法用于添加并联thenable函数</li>
<li>then方法可以同时添加并联thenable、catchable函数</li>
</ul>
</li>
<li>已决阶段catchable函数是异步的，会加入微队列等待执行<ul>
<li>catch方法用于添加并联catchable函数</li>
</ul>
</li>
<li>在未决阶段发生未捕获的错误，会将状态推向rejected，并被catchable捕获</li>
</ul>
<h4 id="（3）串联"><a href="#（3）串联" class="headerlink" title="（3）串联"></a>（3）串联</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pro = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//未决阶段,状态pending</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//通过调用resolve将状态推向已决阶段的resolved</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//通过调用reject将状态推向已决阶段的rejected</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//发生错误，则将状态推向已决阶段的rejected</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//已决阶段thenable、catchable</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//pro1是一个promise,状态为pending</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pro1 = pro.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> data</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//正常处理后，将状态推向已决阶段的resolved</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//发生错误，则将状态推向已决阶段的rejected</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;, err =&gt; &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(err)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> err</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//正常处理后，将状态推向已决阶段的resolved</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//发生错误，则将状态推向已决阶段的rejected</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//默认返回一个promise</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//携带的数据是上一次的thenable、catchable返回值</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">pro1.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;, err =&gt; &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(err)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>
<ul>
<li>then、catch方法每次调用返回一个全新Promise<ul>
<li>初始的状态为pending</li>
<li>当thenable、catchable处理完毕后，对应改变状态<ul>
<li>正常处理后，将状态推向已决阶段的resolved</li>
<li>发生错误，则将状态推向已决阶段的rejected </li>
<li>返回值即为携带的数据</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（4）静态成员"><a href="#（4）静态成员" class="headerlink" title="（4）静态成员"></a>（4）静态成员</h4><ul>
<li><strong>Promise.resolve(data)</strong><ul>
<li>得到一个resolved状态的Promise</li>
<li>携带的数据为传递的data数据</li>
<li>如果传递的data数据是一个Promise<ul>
<li>则得到的是传递的Promise</li>
<li>携带的数据是传递的Promise携带的数据</li>
</ul>
</li>
</ul>
</li>
<li><strong>Promise.reject(data)</strong> <ul>
<li>得到一个rejected状态的Promise</li>
<li>数据为传递的data</li>
</ul>
</li>
<li><strong>Promise.all(proms)</strong> <ul>
<li>传递一个Promise数组，得到一个全新的Promise<ul>
<li>初始状态为pending</li>
<li>全部的Promise都为resolved<ul>
<li>状态为resolved</li>
<li>携带的数据为一个数组，依次包含所有的Promise携带的数据</li>
</ul>
</li>
<li>有一个Promise为rejected<ul>
<li>状态为rejected</li>
<li>携带的数据为第一个rejected状态的Promise携带的数据</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Promise.race(proms)</strong> <ul>
<li>传递一个Promise数组，得到一个全新的Promise</li>
<li>有一个Promise为resolved<ul>
<li>状态为resolved</li>
<li>携带的数据为第一个resolved状态的Promise携带的数据</li>
</ul>
</li>
<li>有一个Promise为rejected<ul>
<li>状态为rejected</li>
<li>携带的数据为第一个rejected状态的Promise携带的数据</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（5）模拟源码"><a href="#（5）模拟源码" class="headerlink" title="（5）模拟源码"></a>（5）模拟源码</h4><hr>
<h3 id="4-async-await"><a href="#4-async-await" class="headerlink" title="4.async/await"></a>4.async/await</h3><ul>
<li>async用于修饰一个函数<ul>
<li>修饰函数即为异步函数</li>
<li>修饰函数一定隐式返回一个Promise</li>
<li>修饰函数中的return返回值即为Promise的resolved状态携带的数据</li>
<li>修饰函数中的throw抛出值即为Promise的rejected状态携带的数据</li>
</ul>
</li>
<li>await用于等待一个Promise<ul>
<li>只能在async修饰的函数体中使用</li>
<li>当等待的Promise完成时，返回携带的数据，当等待的Promise未完成时，函数体不会继续执行</li>
<li>当await在循环中使用时，循环会跟着等待，当等待的Promise未完成时，不会进入下一次循环</li>
<li>当await等待的不是一个Promise时，会使用Promise.resolve()进行包装成一个PromisePromise</li>
</ul>
</li>
</ul>
<hr>
<h3 id="5-Fetch"><a href="#5-Fetch" class="headerlink" title="5.Fetch"></a>5.Fetch</h3><h4 id="（1）特点"><a href="#（1）特点" class="headerlink" title="（1）特点"></a>（1）特点</h4><ul>
<li>并非取代AJAX, 而是对AJAX传统api的改进<ul>
<li>传统XMLHttpRequest所有功能集中在一个对象上，不利于代码维护</li>
<li>采用传统时间驱动模式，无法适配新的Promise api</li>
</ul>
</li>
<li>精细的分隔，跟利于处理复杂的AJAX场景</li>
<li>Fetch属于html5新增 web api</li>
</ul>
<h4 id="（2）基本使用"><a href="#（2）基本使用" class="headerlink" title="（2）基本使用"></a>（2）基本使用</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> url = <span class="string">'www.data.com'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> config = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  method: <span class="comment">//请求方式</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  headers:<span class="comment">//请求头</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  body: <span class="comment">//请求体</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">fetch(url, config)</span></pre></td></tr></table></figure>
<ul>
<li>传递url和config配置<ul>
<li><font color=red>本质内部使用url和config创建一个Request对象</font></li>
<li><font color=red>也可直接传递一个Request对象</font></li>
</ul>
</li>
<li>返回一个Promise对象<ul>
<li>只要服务器有响应就一定是resolved状态</li>
<li>如果网络错误，没有到达服务器是rejected状态</li>
<li>携带的数据是服务器响应的内容</li>
</ul>
</li>
</ul>
<h4 id="（3）Response对象"><a href="#（3）Response对象" class="headerlink" title="（3）Response对象"></a>（3）Response对象</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getDatas</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> url = <span class="string">'www.data.com'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> config = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    method: <span class="comment">//请求方式</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    headers:<span class="comment">//请求头</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    body: <span class="comment">//请求体</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(url, config)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(response)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>Response对象成员：<ul>
<li>ok: boolean, 消息码200-299是true, 否则是false</li>
<li>status: number, 状态码</li>
<li>text() 处理文本格式</li>
<li>blob() 处理二进制格式</li>
<li>json() 处理json格式</li>
<li>redirect() 重定向</li>
</ul>
</li>
<li>测试可模拟一个Response对象<ul>
<li>通过new Response构造函数可创建一个Response对象<ul>
<li>参数1：string, 模拟的数据，json格式的字符串</li>
<li>参数2：object, Response对象成员</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（4）Request对象"><a href="#（4）Request对象" class="headerlink" title="（4）Request对象"></a>（4）Request对象</h4><ul>
<li>fetch可以直接传递一个Request对象</li>
<li>通过new Request构造函数创建一个Request对象<ul>
<li>传递url和config</li>
<li>得到一个request对象</li>
</ul>
</li>
<li>每一次请求使用的Request对象应保证唯一（新建，勿重复使用）<ul>
<li>通过Request对象的clone()方法复制一个request对象</li>
</ul>
</li>
</ul>
<h4 id="（5）Headers对象"><a href="#（5）Headers对象" class="headerlink" title="（5）Headers对象"></a>（5）Headers对象</h4><ul>
<li>用于配置fetch的config配置中的headers</li>
<li>通过new Headers构造函数创建一个Headers对象<ul>
<li>参数：object, 相应配置</li>
</ul>
</li>
<li>Headers对象成员：<ul>
<li>has(key) 检查是否存在指定的key</li>
<li>get(key) 获取指定key的value</li>
<li>set(key, newValue) 修改指定key的value, 如果不存在就添加一个</li>
<li>append(key, value) 添加一个键值对</li>
<li>keys() 得到key的集合</li>
<li>values() 得到value的集合</li>
<li>entries() 得到键值对的集合</li>
</ul>
</li>
</ul>
<h4 id="（6）FormData对象"><a href="#（6）FormData对象" class="headerlink" title="（6）FormData对象"></a>（6）FormData对象</h4><ul>
<li>通过new FormData构造函数创建FormData对象，用于文件上传时创建请求体<ul>
<li>使用对象append()方法传递数据<ul>
<li>参数1：string, 文件名</li>
<li>参数2：object, 文件数据（通过input元素的files属性获得）</li>
</ul>
</li>
</ul>
</li>
<li>流程：<ul>
<li>客服端将文件数据发送给服务器</li>
<li>服务器保存文件</li>
<li>服务器响应一个访问地址 </li>
</ul>
</li>
<li>请求方法：POST</li>
<li>请求表单格式：multipart/form-data</li>
<li>请求体必须包含键值对<ul>
<li>键：服务器要求文件名</li>
<li>值：文件数据</li>
</ul>
</li>
</ul>
<hr>
<h2 id="八-迭代器与生成器"><a href="#八-迭代器与生成器" class="headerlink" title="(八) 迭代器与生成器"></a>(八) 迭代器与生成器</h2><h3 id="1-迭代器-Iterator"><a href="#1-迭代器-Iterator" class="headerlink" title="1.迭代器 Iterator"></a>1.迭代器 Iterator</h3><h4 id="（1）迭代与遍历"><a href="#（1）迭代与遍历" class="headerlink" title="（1）迭代与遍历"></a>（1）迭代与遍历</h4><ul>
<li>迭代：从数据集合中按照一定顺序，依次取出数据的过程（不保证取多少，也不保证把所有的数据取完）</li>
<li>遍历：检索整个数据集合，将所有数据依次全部取出（保证取出所有数据）</li>
</ul>
<h4 id="（2）迭代模式"><a href="#（2）迭代模式" class="headerlink" title="（2）迭代模式"></a>（2）迭代模式</h4><ul>
<li>迭代器应具有得到下一个数据的能力</li>
<li>迭代器应具有判断是否有下一个数据的能力</li>
</ul>
<h4 id="（3）js迭代器"><a href="#（3）js迭代器" class="headerlink" title="（3）js迭代器"></a>（3）js迭代器</h4><ul>
<li><strong>迭代器</strong><ul>
<li>一个对象具有next()方法<ul>
<li>调用next()方法返回一个对象<ul>
<li>value属性：得到下一个数据</li>
<li>done属性：判断是否有下一个数据</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>迭代器创建函数</strong><ul>
<li>创建迭代器<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数组迭代器</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getIteratorOfArray</span>(<span class="params">arr</span>)</span>&#123;<span class="comment">//迭代器创建函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123;<span class="comment">//一个对象</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    next() &#123;<span class="comment">//具有一个next方法</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> &#123;<span class="comment">//返回一个对象，具有value属性和done属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        value: i &gt;= arr.length ? <span class="literal">undefined</span> : arr[i],<span class="comment">//有得到下一个数据的能力</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        done: i++ &gt;= arr.length<span class="comment">//有判断是否有下一个数据的能力</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> iterator = getIteratorOfArray(arr)<span class="comment">//迭代器</span></span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="（4）可迭代协议"><a href="#（4）可迭代协议" class="headerlink" title="（4）可迭代协议"></a>（4）可迭代协议</h4><ul>
<li><strong>ES6规定：</strong><ul>
<li>如若一个对象具有知名符号属性<strong>Symbol.iterator</strong></li>
<li>并且属性值是一个迭代器创建函数</li>
<li>那么该对象是可迭代的（iterable）</li>
</ul>
</li>
<li><strong>for-of循环</strong><ul>
<li>用于迭代可迭代对象</li>
</ul>
</li>
<li><strong>…拓展运算符</strong><ul>
<li>用于展开可迭代对象的每次迭代结果<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//对象迭代器</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  a1: <span class="string">'a'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  b2: <span class="string">'bb'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  c3: <span class="string">'ccc'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  [<span class="built_in">Symbol</span>.iterator]() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(<span class="keyword">this</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      next: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          value: i &gt;= keys.length ? <span class="literal">undefined</span> : <span class="keyword">this</span>[keys[i]],</span></pre></td></tr><tr><td class="code"><pre><span class="line">          done: i++ &gt;= keys.length</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//模拟for-of循环</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> iterator = obj[<span class="built_in">Symbol</span>.iterator]()</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> resault = iterator.next()</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> value = <span class="literal">undefined</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (!resault.done) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  value = resault.value</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(value)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  resault = iterator.next()</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//展开可迭代对象</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [...obj]</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(arr)</span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="2-生成器-Generator"><a href="#2-生成器-Generator" class="headerlink" title="2.生成器 Generator"></a>2.生成器 Generator</h3><h4 id="（1）Generator-构造函数"><a href="#（1）Generator-构造函数" class="headerlink" title="（1）Generator 构造函数"></a>（1）Generator 构造函数</h4><ul>
<li>用于创建一个生成器对象</li>
<li>不允许开发者使用（内部底层使用）</li>
</ul>
<h4 id="（2）生成器对象"><a href="#（2）生成器对象" class="headerlink" title="（2）生成器对象"></a>（2）生成器对象</h4><ul>
<li>是一个迭代器</li>
<li>是一个可迭代对象</li>
</ul>
<h4 id="（3）生成器函数"><a href="#（3）生成器函数" class="headerlink" title="（3）生成器函数"></a>（3）生成器函数</h4><ul>
<li>语法：在function关键字后添加 * 号</li>
<li>生成器函数一定返回一个生成器</li>
<li>生成器函数体便不会在调用（创建生成器）时执行，而是通过生成器的next()方法迭代控制执行</li>
<li>生成器函数体是为了给生成器每次迭代提供数据的</li>
</ul>
<h4 id="（4）生成器函数的执行"><a href="#（4）生成器函数的执行" class="headerlink" title="（4）生成器函数的执行"></a>（4）生成器函数的执行</h4><ul>
<li><strong>yield关键字：</strong><ul>
<li>用于生成器函数体内，为生成器每次迭代产生一个迭代数据</li>
<li><font color=red> yiled * other生成器函数</font><ul>
<li>进入other生成器函数内迭代</li>
<li>other生成器函数迭代结束，继续当前生成器函数内迭代</li>
</ul>
</li>
</ul>
</li>
<li><strong>生成器每次next()迭代：</strong><ul>
<li>生成器函数从上一个yield（或开始位置）运行到下一个yield（或结束位置）</li>
<li>当前next(data)传递的数据为上一个yield左边赋值语句的值<ul>
<li>第一次next()传递数据没有意义（没有上一个yield接受）</li>
</ul>
</li>
</ul>
</li>
<li><strong>生成器当前迭代数据：</strong><ul>
<li>value: 当前yield右边的数据</li>
<li>done: 生成器函数是否运行结束</li>
</ul>
</li>
<li><strong>生成器函数的return返回值</strong><ul>
<li>做为第一次迭代结束的迭代数据<ul>
<li>value: return返回值</li>
<li>done: true<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">generator</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">const</span> data1 = <span class="keyword">yield</span> <span class="number">1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>, data1)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">const</span> data2 = <span class="keyword">yield</span> <span class="number">2</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>, data2)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">const</span> data3 = <span class="keyword">yield</span> <span class="number">3</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>, data3)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="number">4</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> g = generator()</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = g.next(<span class="string">"a"</span>)<span class="comment">// 1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj2 = g.next(<span class="string">"b"</span>)<span class="comment">// 2 "b"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj3 = g.next(<span class="string">"c"</span>)<span class="comment">// 3 "c"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj4 = g.next(<span class="string">"d"</span>)<span class="comment">// 4 "d"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj5 = g.next(<span class="string">"e"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(obj1, obj2, obj3, obj4, obj5)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#123; value: 1, done: false &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#123; value: 2, done: false &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#123; value: 3, done: false &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#123; value: 4, done: true &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#123; value: undefined, done: true &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">*/</span></span></pre></td></tr></table></figure>
<img src='./Generator.png'>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-生成器异步任务控制"><a href="#3-生成器异步任务控制" class="headerlink" title="3.生成器异步任务控制"></a>3.生成器异步任务控制</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> * yield左边赋值得到右边的数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> * @param &#123;function&#125; generator 生成器函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span> (<span class="params">generator</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">const</span> task = generator()</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> resault = task.next()</span></pre></td></tr><tr><td class="code"><pre><span class="line">  resaultHandle()</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resaultHandle</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (resault.done) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> resault.value.then === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      resault.value.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        resault = task.next(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">        resaultHandle()</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      resault = task.next(resault.value)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      resaultHandle()</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h2 id="九-集合"><a href="#九-集合" class="headerlink" title="(九) 集合"></a>(九) 集合</h2><h3 id="1-Set"><a href="#1-Set" class="headerlink" title="1.Set"></a>1.Set</h3><ul>
<li><strong>用于存放不重复的数据</strong><ul>
<li>重复的数据会自动忽略</li>
<li>使用Object.is()比较数据</li>
<li>针对+0和-0认为是相等的</li>
</ul>
</li>
<li>Set构造函数：<ul>
<li>new 创建一个set集合</li>
<li>参数：iterable, 初始化内容（每次的迭代结果即为数据）</li>
</ul>
</li>
<li>set集合实例成员：<ul>
<li>size: 得到集合中数据数量（只读）</li>
<li>add(data) 添加一个数据</li>
<li>has(data) 检索一个数据</li>
<li>delete(data) 删除一个数据</li>
<li>clear() 清空集合</li>
<li>foreach() 遍历集合</li>
</ul>
</li>
<li>set集合与数组相互转换<ul>
<li>set = new Set(array) 初始化可以传递一个可迭代对象（数组是可迭代的）</li>
<li>arr = […set] 展开运算符可展开一个可迭代对象（set是可迭代的）</li>
</ul>
</li>
<li>set集合遍历<ul>
<li>for-of循环</li>
<li>foreach遍历<ul>
<li>set集合没有下标，所以foreach中第一项item和第二项index保持一致</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-Map"><a href="#2-Map" class="headerlink" title="2.Map"></a>2.Map</h3><ul>
<li><strong>用于存放多个键值对数据</strong><ul>
<li>键不可重复</li>
<li>使用Object.is()比较数据</li>
<li>针对+0和-0认为是相等的</li>
</ul>
</li>
<li>传统对象的特点<ul>
<li>键名只能是字符串</li>
<li>获取数据数量不方便</li>
<li>键名容易与原型冲突</li>
</ul>
</li>
<li>Map构造函数：<ul>
<li>通过new 创建一个map集合</li>
<li>参数： iterator, 初始化内容<ul>
<li>参数是一个可迭代对象<ul>
<li>每次迭代的数据必须还是一个可迭代对象，并且能迭代两次<ul>
<li>第一次迭代的结果为键key</li>
<li>第二次迭代的结果为值value</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>map集合实例成员：<ul>
<li>size: 得到集合中键值对数量（只读）</li>
<li>set(key，value): 添加一项键值对<ul>
<li>如果key已存在，修改value</li>
<li>如果key不存在，创建一项</li>
</ul>
</li>
<li>get(key): 获取键对应的值</li>
<li>has(key): 判断键是否存在</li>
<li>delete(key): 删除指定的键对应的键值对</li>
<li>clear(): 清空集合</li>
</ul>
</li>
<li>map集合与数组相互转换<ul>
<li>map = new Set(array) 初始化可以传递一个可迭代对象（二维数组是可迭代的）</li>
<li>arr = […map] 展开运算符可展开一个可迭代对象（map是可迭代的）</li>
</ul>
</li>
<li>map集合遍历<ul>
<li>for-of循环</li>
<li>foreach遍历<ul>
<li>map集合没有下标，所以foreach中:<ul>
<li>第一项item是value</li>
<li>第二项index是key</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-WeakSet"><a href="#3-WeakSet" class="headerlink" title="3.WeakSet"></a>3.WeakSet</h3><ul>
<li>该集合功能与Set基本一致<ul>
<li>只能存放对象</li>
<li>不可迭代、不可遍历</li>
<li>没有size属性、没有foreach方法</li>
</ul>
</li>
<li><strong>不影响垃圾回收</strong><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//set</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="string">"a"</span>&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set()</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">set</span>.add(obj)</span></pre></td></tr><tr><td class="code"><pre><span class="line">obj = null</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">set</span>.has(obj)//true</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//weakset</span></pre></td></tr><tr><td class="code"><pre><span class="line">let obj = &#123;a: <span class="string">"a"</span>&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new WeakSet()</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">set</span>.add(obj)</span></pre></td></tr><tr><td class="code"><pre><span class="line">obj = null</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">set</span>.has(obj)//false</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="4-WeakMap"><a href="#4-WeakMap" class="headerlink" title="4.WeakMap"></a>4.WeakMap</h3><ul>
<li>该集合功能与MapMap基本一致<ul>
<li>键只能是对象</li>
<li>不可迭代、不可遍历</li>
<li>没有size属性、没有foreach方法</li>
</ul>
</li>
<li><strong>不影响垃圾回收</strong><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//map</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="string">"a"</span>&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Map()</span></pre></td></tr><tr><td class="code"><pre><span class="line">map.<span class="keyword">set</span>(obj, 'abc')</span></pre></td></tr><tr><td class="code"><pre><span class="line">obj = null</span></pre></td></tr><tr><td class="code"><pre><span class="line">map.has(obj)//true</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">//weakmap</span></pre></td></tr><tr><td class="code"><pre><span class="line">let obj = &#123;a: <span class="string">"a"</span>&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new WeakMap()</span></pre></td></tr><tr><td class="code"><pre><span class="line">map.<span class="keyword">set</span>(obj, 'abc')</span></pre></td></tr><tr><td class="code"><pre><span class="line">obj = null</span></pre></td></tr><tr><td class="code"><pre><span class="line">map.has(obj)//false</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="十-代理与反射"><a href="#十-代理与反射" class="headerlink" title="(十) 代理与反射"></a>(十) 代理与反射</h2><h3 id="1-属性描述符（Property-Descriptor）"><a href="#1-属性描述符（Property-Descriptor）" class="headerlink" title="1.属性描述符（Property Descriptor）"></a>1.属性描述符（Property Descriptor）</h3><h4 id="（1）获取一个对象的属性描述符"><a href="#（1）获取一个对象的属性描述符" class="headerlink" title="（1）获取一个对象的属性描述符"></a>（1）获取一个对象的属性描述符</h4><ul>
<li>获取某个属性的属性描述符：<ul>
<li><strong>Object.getOwnPropertyDescriptor(obj, key)</strong> </li>
<li>参数：<ul>
<li>对象</li>
<li>属性名</li>
</ul>
</li>
<li>返回值：object<ul>
<li>value: any, 属性值</li>
<li>configurable：boolean, 该属性的属性描述符是否可以修改</li>
<li>writable：boolean, 该属性的属性值是否可以修改</li>
<li>enumerable: boolean, 该属性是否可以被枚举</li>
</ul>
</li>
</ul>
</li>
<li>获取某个对象的全部属性的属性描述符：<ul>
<li><strong>Object.getOwnPropertyDescriptors(obj)</strong> </li>
<li>参数：<ul>
<li>对象</li>
</ul>
</li>
<li>返回值：object<ul>
<li>key</li>
<li>value：<ul>
<li>value: any, 属性值</li>
<li>configurable：boolean, 该属性的属性描述符是否可以修改</li>
<li>writable：boolean, 该属性的属性值是否可以修改</li>
<li>enumerable: boolean, 该属性是否可以被枚举</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（2）修改一个对象的属性描述符"><a href="#（2）修改一个对象的属性描述符" class="headerlink" title="（2）修改一个对象的属性描述符"></a>（2）修改一个对象的属性描述符</h4><ul>
<li>修改某个属性的属性描述符：<ul>
<li><strong>Object.defineProperty(obj, key, descriptor)</strong></li>
<li>参数：<ul>
<li>对象</li>
<li>属性名</li>
<li>属性描述符：<ul>
<li>value: any, 属性值</li>
<li>configurable：boolean, 该属性的属性描述符是否可以修改</li>
<li>writable：boolean, 该属性的属性值是否可以修改</li>
<li>enumerable: boolean, 该属性是否可以被枚举</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>修改某个对象全部属性的属性描述符：<ul>
<li><strong>Object.defineProperties(obj, descriptor)</strong></li>
<li>参数：<ul>
<li>对象</li>
<li>属性描述符：<ul>
<li>value: any, 属性值</li>
<li>configurable：boolean, 该属性的属性描述符是否可以修改</li>
<li>writable：boolean, 该属性的属性值是否可以修改</li>
<li>enumerable: boolean, 该属性是否可以被枚举</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（3）存取器属性"><a href="#（3）存取器属性" class="headerlink" title="（3）存取器属性"></a>（3）存取器属性</h4><ul>
<li>修改某个属性的属性描述符：<ul>
<li><strong>Object.defineProperty(obj, key, descriptor)</strong></li>
<li>参数：<ul>
<li>对象</li>
<li>属性名</li>
<li>属性描述符：<ul>
<li>get: function, 读取的时候会运行该函数，函数返回值即为读取得到的值</li>
<li>set: function, 赋值的时候会运行该函数，赋予的值会传递给函数</li>
<li>configurable：boolean, 该属性的属性描述符是否可以修改</li>
<li>enumerable: boolean, 该属性是否可以被枚举</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>修改某个对象全部属性的属性描述符：<ul>
<li><strong>Object.defineProperties(obj, descriptor)</strong></li>
<li>参数：<ul>
<li>对象</li>
<li>属性描述符：<ul>
<li>get: function, 读取的时候会运行该函数，函数返回值即为读取得到的值</li>
<li>set: function, 赋值的时候会运行该函数，赋予的值会传递给函数</li>
<li>configurable：boolean, 该属性的属性描述符是否可以修改</li>
<li>enumerable: boolean, 该属性是否可以被枚举</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-反射-Reflect"><a href="#2-反射-Reflect" class="headerlink" title="2.反射 Reflect"></a>2.反射 Reflect</h3><h4 id="（1）what"><a href="#（1）what" class="headerlink" title="（1）what?"></a>（1）what?</h4><ul>
<li>Reflect是一个内置js对象，不是构造函数，不能通过new 调用创建对象</li>
<li>它提供了一系列方法，可以通过这些方法访问js底层功能</li>
<li><a href=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect>Reflect文档</a></li>
</ul>
<h4 id="（2）why"><a href="#（2）why" class="headerlink" title="（2）why?"></a>（2）why?</h4><ul>
<li>ES5提出：减少魔法， 让代码更纯粹</li>
<li>一切的代码应该都是运算，通过函数输入输出实现（支持函数式编程）</li>
<li>代理需要重写底层功能，底层功能重新的方法需有对应的底层API(支持代理)</li>
</ul>
<table>
<thead>
<tr>
<th align="left">魔法</th>
<th align="left">底层API</th>
</tr>
</thead>
<tbody><tr>
<td align="left">A + B</td>
<td align="left">add(a, b)</td>
</tr>
<tr>
<td align="left">A === B</td>
<td align="left">Object.is(A, B)</td>
</tr>
<tr>
<td align="left">prop in obj</td>
<td align="left">Reflect.has(obj, prop)</td>
</tr>
<tr>
<td align="left">obj.prop = value</td>
<td align="left">Reflect.set(obj, prop, value)</td>
</tr>
<tr>
<td align="left">obj.prop</td>
<td align="left">Reflect.get(obj, prop)</td>
</tr>
<tr>
<td align="left">delete obj.prop</td>
<td align="left">Reflect.deleteProperty(obj, prop)</td>
</tr>
<tr>
<td align="left">new Person(data)</td>
<td align="left">Reflect.construct(Person, dataArr)</td>
</tr>
<tr>
<td align="left">alert(data)</td>
<td align="left">Reflect.apply(alert, this, dataArr)</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="3-代理-Proxy"><a href="#3-代理-Proxy" class="headerlink" title="3.代理  Proxy"></a>3.代理  Proxy</h3><h4 id="（1）what-1"><a href="#（1）what-1" class="headerlink" title="（1）what?"></a>（1）what?</h4><ul>
<li>Proxy是一个构造函数，通过new 调用创建一个代理对象<ul>
<li>参数1：object, 需要代理的目标对象</li>
<li>参数2：object, 重写的Reflect底层api</li>
<li>返回值：object, 代理对象</li>
</ul>
</li>
</ul>
<h4 id="（2）why-1"><a href="#（2）why-1" class="headerlink" title="（2）why?"></a>（2）why?</h4><ul>
<li>代理作为中介者与外界交互，外界不与目标直接交互</li>
<li>代理拥有强大的中间功能，通过自定义来实现想要实现的功能</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  a: <span class="string">'abc'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  b: <span class="number">123</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> proxyReflectObj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">get</span>(target, key)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//此函数会在读取时运行</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//此处实现自定义功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, key)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">set</span>(target, key, value)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//此函数会在赋值时运行</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//此处实现自定义功能</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, key, value)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  has(target, key)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> proxyObj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, proxyReflectObj)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">proxyObj.a <span class="comment">//运行get </span></span></pre></td></tr><tr><td class="code"><pre><span class="line">proxyObj.b = <span class="number">100</span><span class="comment">//运行set</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">a <span class="keyword">in</span> proxyObj <span class="comment">//运行has</span></span></pre></td></tr></table></figure>

<h3 id="4-观察者模式"><a href="#4-观察者模式" class="headerlink" title="4.观察者模式"></a>4.观察者模式</h3><hr>
<h2 id="（十一）数组"><a href="#（十一）数组" class="headerlink" title="（十一）数组"></a>（十一）数组</h2><h3 id="1-ES6新增API"><a href="#1-ES6新增API" class="headerlink" title="1.ES6新增API"></a>1.ES6新增API</h3><ul>
<li>Array.of()：通过制定数组项创建一个数组</li>
<li>Array.from()：通过一个类数组、可迭代对象创建一个数组</li>
<li>Array.find()：类似filter，但仅仅返回找到的第一个（return true即停止，返回该项）</li>
<li>Array.findIndex()：类似indexOf，返回找到的第一个的下标（return true即停止，返回该项下标）</li>
<li>Array.fill()：用指定的数据填充整个数组</li>
<li>Array.copyWithin()：从指定位置开始，用原数组的数据依次改动数据</li>
<li>Array.includes()：判断数组中是否包含指定数据</li>
</ul>
<h3 id="2-类型化数组"><a href="#2-类型化数组" class="headerlink" title="2.类型化数组"></a>2.类型化数组</h3>]]></content>
  </entry>
  <entry>
    <title>MockJs 与 Axios 的使用</title>
    <url>/blog/2020/02/26/MOCK/</url>
    <content><![CDATA[<ol>
<li><p>安装</p>
<blockquote>
<p>npm install mockjs –save<br>npm install axios –save</p>
</blockquote>
</li>
<li><p>模拟假数据</p>
</li>
</ol>
<ul>
<li>mock.js文件<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'mockjs'</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> data = Mock.mock(<span class="string">'https://www.test.com'</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"userInfo|10"</span>: [&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"id|+1"</span>: <span class="number">1</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"name"</span>: <span class="string">"@cname"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"age|18-28"</span>: <span class="number">25</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"sex|1"</span>: [<span class="string">"男"</span>, <span class="string">"女"</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> data;</span></pre></td></tr></table></figure>
</li>
</ul>
<ol start="3">
<li>使用假数据</li>
</ol>
<ul>
<li>index.jsx入口文件<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./mock'</span>;</span></pre></td></tr></table></figure>
</li>
</ul>
<ol start="4">
<li>请求</li>
</ol>
<ul>
<li>需要假数据的文件<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">Axios.get(<span class="string">'https://www.test.com'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res.data))</span></pre></td></tr></table></figure></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>VUE --- 应用篇</title>
    <url>/blog/2020/01/31/VUEa/</url>
    <content><![CDATA[<h1 id="一、why"><a href="#一、why" class="headerlink" title="一、why?"></a>一、why?</h1><h2 id="（一）性能更好"><a href="#（一）性能更好" class="headerlink" title="（一）性能更好"></a>（一）性能更好</h2><h3 id="1-优点"><a href="#1-优点" class="headerlink" title="1.优点"></a>1.优点</h3><ul>
<li>性能更好</li>
<li>视图、数据分离</li>
<li>维护成本低</li>
</ul>
<h3 id="2-性能"><a href="#2-性能" class="headerlink" title="2.性能"></a>2.性能</h3><ul>
<li>操作 DOM 影响性能，因为操作 DOM 是十分昂贵的</li>
<li>JS 和 DOM 是两种东西，每次连接都需要消耗性能</li>
<li>操作 DOM 会导致重排和重绘</li>
<li>访问 DOM 元素是有代价的，修改 DOM 元素的代价，则更为昂贵，因为它会导致浏览器重新计算页面的机会变化。</li>
</ul>
<h3 id="3-关系"><a href="#3-关系" class="headerlink" title="3.关系"></a>3.关系</h3><ul>
<li>DOM 是一个独立于语言的，用于操作 XML 和 HTML 文档的程序接口(API)。在浏览器中主要用于与 HTML 文档打交道，并且使用 DOM API 用来访问文档中的数据。</li>
<li>DOM 是个与语言无关的 API，它在浏览器中的接口却是用 JavaScript 来实现的。客户端脚本编程大多数都是在和底层文档打交道，DOM 就成为现在 JS 编码中的重要部分。</li>
<li>浏览器中通常会把 DOM 和 javascript 独立实现。</li>
</ul>
<h3 id="4-位置"><a href="#4-位置" class="headerlink" title="4.位置"></a>4.位置</h3><ul>
<li>在 IE 中，JavaScript 的实现名为 JScript，位于 jscript.dll 文件中，DOM 的实现则存在另一个库中，名为 mshtml.dll（内部称为 trident）。</li>
<li>safari 中的 DOM 和渲染是使用 webkit 中的 webcore 实现，JavaScript 部分是由独立的 SquirelFish 引擎来实现。</li>
<li>google chrome 使用 webkit 中的 webCore 库来渲染页面，但 JavaScript 引擎是他们自己研发的，名为 V8。</li>
<li>firefox 的 JavaScript 引擎名为 TraceMonkey，与名为 Gecko 的渲染引擎相互独立。</li>
</ul>
<h3 id="5-渲染过程"><a href="#5-渲染过程" class="headerlink" title="5.渲染过程"></a>5.渲染过程</h3><ul>
<li>浏览器下载完页面中的所有组件：HTML、JavaScript、CSS、图片后，会发生这样的过程：<ul>
<li>解析 HTML，构建 DOM 树 + 解析 CSS，生成 CSS 规则树</li>
<li>合并 DOM 树和 CSS 规则树，生成 render 树</li>
<li>布局 render 树，负责各元素尺寸、位置的计算</li>
<li>绘制 render 树，绘制页面像素信息</li>
<li>浏览器会将各层的信息发送给 GPU，GPU 将各层合成<img src="./render.png">

</li>
</ul>
</li>
</ul>
<h3 id="6-重排"><a href="#6-重排" class="headerlink" title="6.重排"></a>6.重排</h3><ul>
<li>当页面布局和几何属性改变时就需要重排：<ul>
<li>添加或删除可见的 DOM 元素。</li>
<li>元素位置改变</li>
<li>元素尺寸改变( 外边距、内边距、边框厚度、宽度、高度等)</li>
<li>内容改变，例：文本改变或图片被另一个不同尺寸的图片替代</li>
<li>页面渲染器初始化</li>
<li>浏览器窗口尺寸改变<br><a href="https://csstriggers.com/" target="_blank" rel="noopener">各 css 属性对重排重绘的影响</a></li>
</ul>
</li>
<li>发生重排的属性：<br>offsetTop、offsetLeft、offsetWidth、offsetHeight<br>scrollTop、scrollLeft、scrollWidth、scrollHeight<br>clientTop、clientLeft、clientWidth、clientHeight<br>getComputedStyle()</li>
</ul>
<h3 id="7-重绘"><a href="#7-重绘" class="headerlink" title="7.重绘"></a>7.重绘</h3><ul>
<li>当页面和元素的颜色相关属性发生变化时会发生重绘。</li>
</ul>
<h3 id="8-虚拟-DOM"><a href="#8-虚拟-DOM" class="headerlink" title="8.虚拟 DOM"></a>8.虚拟 DOM</h3><ul>
<li>vue 的核心是虚拟 dom，使用虚拟 dom 可以减少 dom 的操作，从而提升应用的性能。</li>
<li>在前端的三种语言（html、css、javaScript）中，只有 JS 是一种编程语言，只有 JS 能做到判断、循环、递归、能够实现各种逻辑、实现各种算法。<img src="./html.png">
<img src="./VDOM.png">

</li>
</ul>
<h2 id="（二）视图、数据分离"><a href="#（二）视图、数据分离" class="headerlink" title="（二）视图、数据分离"></a>（二）视图、数据分离</h2><h2 id="（三）维护成本低"><a href="#（三）维护成本低" class="headerlink" title="（三）维护成本低"></a>（三）维护成本低</h2><h1 id="二、what？"><a href="#二、what？" class="headerlink" title="二、what？"></a>二、what？</h1><h2 id="（一）渐进式"><a href="#（一）渐进式" class="headerlink" title="（一）渐进式"></a>（一）渐进式</h2><h2 id="（二）MVVM"><a href="#（二）MVVM" class="headerlink" title="（二）MVVM"></a>（二）MVVM</h2><h1 id="三、how"><a href="#三、how" class="headerlink" title="三、how?"></a>三、how?</h1><h2 id="（一）基础-API"><a href="#（一）基础-API" class="headerlink" title="（一）基础 API"></a>（一）基础 API</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">app</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"hello world"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h3 id="1-模板语法"><a href="#1-模板语法" class="headerlink" title="1.模板语法"></a>1.模板语法</h3><h4 id="（1）文本"><a href="#（1）文本" class="headerlink" title="（1）文本"></a>（1）文本</h4><ul>
<li><p>数据绑定最常见的形式就是使用“Mustache”语法 (双大括号) 的文本插值：无论何时，绑定的数据对象上 msg 属性发生了改变，插值处的内容都会更新。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>通过使用 v-once 指令，你也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但请留心这会影响到该节点上的其它数据绑定：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>使用 v-text 指令填充文本</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">"str"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（2）html"><a href="#（2）html" class="headerlink" title="（2）html"></a>（2）html</h4><ul>
<li>双大括号会将数据解释为普通文本，而非 HTML 代码。为了输出真正的 HTML，你需要使用 v-html 指令：<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"htmlStr"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure></li>
<li>注意，你不能使用 v-html 来复合局部模板，因为 Vue 不是基于字符串的模板引擎。若同时使用，则忽略局部模板。<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"htmlStr"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（3）attribute"><a href="#（3）attribute" class="headerlink" title="（3）attribute"></a>（3）attribute</h4><ul>
<li><p>Mustache 语法不能作用在 HTML attribute 上，遇到这种情况应该使用 v-bind 指令：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>对于布尔 attribute (它们只要存在就意味着值为 true)，v-bind 工作起来略有不同，如果 isButtonDisabled 的值是 null、undefined 或 false，则 disabled attribute 甚至不会被包含在渲染出来的 &lt;button&gt; 元素中。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-bind:disabled</span>=<span class="string">"isButtonDisabled"</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">"isButtonDisabled"</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（4）js-表达式"><a href="#（4）js-表达式" class="headerlink" title="（4）js 表达式"></a>（4）js 表达式</h4><ul>
<li>表达式会在所属 Vue 实例的数据作用域下作为 JavaScript 被解析。有个限制就是，每个绑定都只能包含单个表达式。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123; number + 1 &#125;&#125; &#123;&#123; ok ? 'YES' : 'NO' &#125;&#125; &#123;&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">message.split('').reverse().join('')&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">"'list-' + id"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>模板表达式都被放在沙盒中，只能访问全局变量的一个白名单，如 Math 和 Date 。你不应该在模板表达式中试图访问用户定义的全局变量。</li>
</ul>
<h4 id="（5）事件"><a href="#（5）事件" class="headerlink" title="（5）事件"></a>（5）事件</h4><ul>
<li>Mustache 语法不能作用在 HTML attribute 上，遇到句柄事件应该使用 v-on 指令：<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click</span>=<span class="string">"changeEvent"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"changeEvent"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="2-计算属性与监听器"><a href="#2-计算属性与监听器" class="headerlink" title="2.计算属性与监听器"></a>2.计算属性与监听器</h3><h4 id="（1）methods"><a href="#（1）methods" class="headerlink" title="（1）methods"></a>（1）methods</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#123;&#123;msg()&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;job&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      age: <span class="string">"18岁"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      job: <span class="string">"是一名飞行员"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      msg() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">`-----methods------`</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  vm.job = <span class="string">"是一名教师"</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>methods 中定义方法，挂在到 vue 实例上，可以直接访问。</li>
<li>只要页面重新渲染，都会执行一遍所有的方法。</li>
<li>如上，msg 方法并没有依赖 data 的 job 属性，当 job 变化时，msg 方法也会被执行（会输出：—–methods——）；</li>
</ul>
<h4 id="（2）watch"><a href="#（2）watch" class="headerlink" title="（2）watch"></a>（2）watch</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#123;&#123;msg&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;job&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      age: <span class="string">"18岁"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      job: <span class="string">"是一名飞行员"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      msg: <span class="string">"小明18岁"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    watch: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      name() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">`-----watch------`</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.msg = <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      age() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">`-----watch------`</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.msg = <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  vm.job = <span class="string">"是一名教师"</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>watch 中监听某个属性变化,并不能直接定义一个新属性。</li>
<li>只有监听的属性变化，才会被执行。</li>
<li>如上，watch 并没有监听 data 的 job 属性，当 job 变化时，不会输出：—–watch——；</li>
</ul>
<h4 id="（3）computed"><a href="#（3）computed" class="headerlink" title="（3）computed"></a>（3）computed</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#123;&#123;msg&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;job&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      name: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      age: <span class="string">" 18岁"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      job: <span class="string">" 是一名飞行员"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    computed: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      msg: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">        <span class="keyword">get</span>() &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"-----computed-------"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="keyword">this</span>.age;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">        <span class="keyword">set</span>(value) &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"-----computed-------"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">          <span class="keyword">let</span> arr = value.split(<span class="string">" "</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.name = arr[<span class="number">0</span>];</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.age = arr[<span class="number">1</span>];</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  vm.job = <span class="string">"是一名教师"</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>computed 中定义某个属性为计算属性, 也可直接定义一个新属性。</li>
<li>只有依赖的属性变化，才会被执行。</li>
<li>如上，computed 中 msg 并没有依赖 data 的 job 属性，当 job 变化时，不会输出：—–computed——；</li>
</ul>
<hr>
<h3 id="3-类与样式"><a href="#3-类与样式" class="headerlink" title="3.类与样式"></a>3.类与样式</h3><h4 id="（1）class"><a href="#（1）class" class="headerlink" title="（1）class"></a>（1）class</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">      <span class="selector-id">#app</span> <span class="selector-tag">div</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        width: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        height: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        text-align: center;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        background-color: pink;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        line-height: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        margin-top: 20px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">      <span class="selector-class">.red</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        background-color: red !important;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">      <span class="selector-class">.border</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        border: 5px solid;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        box-sizing: border-box;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"className"</span> @<span class="attr">click</span>=<span class="string">"changeBg1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[className1, className2]"</span> @<span class="attr">click</span>=<span class="string">"changeBg2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"&#123;'red': isRed&#125;"</span> @<span class="attr">click</span>=<span class="string">"changeBg3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          msg: <span class="string">"小明"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          className: <span class="string">""</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          className1: <span class="string">""</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          className2: <span class="string">"border"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          isRed: <span class="literal">false</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          changeBg1() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.className = <span class="keyword">this</span>.className === <span class="string">""</span> ? <span class="string">"red"</span> : <span class="string">""</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          changeBg2() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.className1 = <span class="keyword">this</span>.className1 === <span class="string">""</span> ? <span class="string">"red"</span> : <span class="string">""</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          changeBg3() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.isRed = !<span class="keyword">this</span>.isRed;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>使用变量 className, 变量的值会被应用为 class 的属性值</li>
<li>当使用多个类名的时候，可以使用数组（classList）, 每一项的值会被应用为 class 的属性值</li>
<li>可以使用对象，动态的控制类名是否被应用, 键值对中的 key 对应 className，value 的 boolean 值决定当前类名是否应用</li>
</ul>
<h4 id="（2）style"><a href="#（2）style" class="headerlink" title="（2）style"></a>（2）style</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">      <span class="selector-id">#app</span> <span class="selector-tag">div</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        width: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        height: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        text-align: center;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        background-color: pink;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        line-height: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        margin-top: 20px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"style"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"[style1, style2]"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"&#123;color: color&#125;"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          style: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            fontSize: <span class="string">"30px"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          style1: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            fontSize: <span class="string">"20px"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            fontStyle: <span class="string">"bolder"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            color: <span class="string">"#fff"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          style2: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            backgroundColor: <span class="string">"blue"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          color: <span class="string">"red"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>可以应用为一个对象，键值对中的 key 对应样式属性，value 对应样式属性值</li>
<li>当应用多个对象时，通过数组将对象集中起来</li>
</ul>
<hr>
<h3 id="4-条件渲染"><a href="#4-条件渲染" class="headerlink" title="4.条件渲染"></a>4.条件渲染</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-if</span>=<span class="string">"show === 1"</span>&gt;</span>中国70周年庆典1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else-if</span>=<span class="string">"show === 2"</span>&gt;</span>中国70周年庆典2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else-if</span>=<span class="string">"show === 3"</span>&gt;</span>中国70周年庆典3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else-if</span>=<span class="string">"show === 4"</span>&gt;</span>中国70周年庆典4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-else</span>&gt;</span>中国70周年庆典5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change"</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      show: 1</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      change() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.show++;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.show);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（1）v-if"><a href="#（1）v-if" class="headerlink" title="（1）v-if"></a>（1）v-if</h4><ul>
<li>当 v-if 的属性值为 true 时，当前元素才会被渲染</li>
<li>若 v-if 的属性值为 false，当前元素会被直接移除</li>
</ul>
<h4 id="（2）v-else-if"><a href="#（2）v-else-if" class="headerlink" title="（2）v-else-if"></a>（2）v-else-if</h4><ul>
<li>当 v-else-if 的属性值为 true 时，当前元素才会被渲染</li>
<li>若 v-else-if 的属性值为 false，当前元素会被直接移除</li>
</ul>
<h4 id="（3）v-else"><a href="#（3）v-else" class="headerlink" title="（3）v-else"></a>（3）v-else</h4><ul>
<li>与 v-if、v-else-if 配合使用</li>
<li><font color=red>中间不能出现第三者，配合使用的元素必须是相连的兄弟元素</font></li>
</ul>
<h4 id="（4）v-show"><a href="#（4）v-show" class="headerlink" title="（4）v-show"></a>（4）v-show</h4><ul>
<li>当 v-show 的属性值为 true 时，当前元素才会显示</li>
<li>若 v-show 的属性值为 false，当前元素会添加 display: none 行间样式</li>
</ul>
<h4 id="（5）dom-复用"><a href="#（5）dom-复用" class="headerlink" title="（5）dom 复用"></a>（5）dom 复用</h4><ul>
<li>vue 会自动的复用页面已经存在的 dom</li>
<li>通过定义不一样的 key 属性来取消复用</li>
</ul>
<hr>
<h3 id="5-列表渲染"><a href="#5-列表渲染" class="headerlink" title="5.列表渲染"></a>5.列表渲染</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      ul &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        width: 300px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      ul li &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        margin-bottom: 20px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">      <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">span</span><span class="selector-class">.new</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        background-color: red;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span> <span class="attr">:key</span>=<span class="string">"item.id"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"new"</span> <span class="attr">v-show</span>=<span class="string">"item.new"</span>&gt;</span>新<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          list: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"中国70周年庆典"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">false</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">              id: 0</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"新型冠状病毒"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">true</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">              id: 1</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"NBA巨星科比坠机身亡"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">true</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">              id: 2</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"澳大利亚大火"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">false</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">              id: 3</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              title: <span class="string">"2020鼠年春晚"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">new</span>: <span class="literal">false</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">              id: 4</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（1）v-for"><a href="#（1）v-for" class="headerlink" title="（1）v-for"></a>（1）v-for</h4><ul>
<li>v-for 属性值可以是一个数组（listArr）</li>
<li>子元素使用的每一项 item 需要手动在 v-for 中定义（item in listArr）</li>
<li>v-for 属性值也可以是一个对象（listObj）</li>
<li>子元素使用的数据（键、值、索引）需要手动在 v-for 中定义（(key, value, index) in listObj）</li>
<li>建议使用 v-bind:key 定义一个唯一的值，复用 dom 提高效率（:key=item.id）</li>
</ul>
<h4 id="（2）数组更新检测"><a href="#（2）数组更新检测" class="headerlink" title="（2）数组更新检测"></a>（2）数组更新检测</h4><ul>
<li><font color=red>在数据数组中利用索引手动增减数据，视图不会更新</font></li>
<li><font color=red>改变数据数组的引用，视图会更新</font></li>
<li><font color=red>Vue 将被侦听的数组的变异方法进行了包裹，所以它们也将会触发视图更新</font></li>
<li>数组变异方法：<ul>
<li>push()</li>
<li>pop()</li>
<li>shift()</li>
<li>unshift()</li>
<li>splice()</li>
<li>sort()</li>
<li>reverse()</li>
</ul>
</li>
</ul>
<h4 id="（3）对象检测更新"><a href="#（3）对象检测更新" class="headerlink" title="（3）对象检测更新"></a>（3）对象检测更新</h4><ul>
<li><font color=red>在数据对象中利用引用手动增减属性，视图不会更新</font></li>
<li><font color=red>改变数据对象的引用，视图会更新</font></li>
<li><font color=red>使用 Vue.set(obj, prop, data)，视图会更新</font></li>
</ul>
<h4 id="（4）模板-template"><a href="#（4）模板-template" class="headerlink" title="（4）模板 template"></a>（4）模板 template</h4><ul>
<li>列表渲染可以使用 template 模板作为某些元素的父元素进行嵌套方便循环</li>
<li>当循环结束，template 不会存在视图结构中</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;item.content&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr></table></figure>

<hr>
<h3 id="6-双向数据绑定"><a href="#6-双向数据绑定" class="headerlink" title="6.双向数据绑定"></a>6.双向数据绑定</h3><h4 id="（1）v-model"><a href="#（1）v-model" class="headerlink" title="（1）v-model"></a>（1）v-model</h4><ul>
<li>你可以用 v-model 指令在表单 &lt;input&gt;、&lt;textarea&gt; 及 &lt;select&gt; 元素上创建双向数据绑定。</li>
<li>v-model 在内部为不同的输入元素使用不同的属性并抛出不同的事件：<ul>
<li>text 和 textarea 元素使用 value 属性和 input 事件；</li>
<li>checkbox 和 radio 使用 checked 属性和 change 事件；</li>
<li>select 字段将 value 作为 prop 并将 change 作为事件。</li>
</ul>
</li>
<li><font color=red>在文本区域插值 (&lt;textarea&gt;</textarea>) 并不会生效，应用 v-model 来代替。</font></li>
<li>单个复选框，绑定到布尔值：多个复选框，绑定到同一个数组：</li>
<li>如果 v-model 表达式的初始值未能匹配任何选项，&lt;select&gt; 元素将被渲染为“未选中”状态。</li>
</ul>
<h4 id="（2）修饰符"><a href="#（2）修饰符" class="headerlink" title="（2）修饰符"></a>（2）修饰符</h4><ul>
<li>在默认情况下，v-model 在每次 input 事件触发后将输入框的值与数据进行同步 (除了上述输入法组合文字时)。你可以添加 lazy 修饰符，从而转变为使用 change 事件进行同步：</li>
<li>如果想自动将用户的输入值转为数值类型，可以给 v-model 添加 number 修饰符：在 type=”number” 时，HTML 输入元素的值也总会返回字符串。如果这个值无法被 parseFloat() 解析，则会返回原始的值。</li>
<li>如果要自动过滤用户输入的首尾空白字符，可以给 v-model 添加 trim 修饰符：</li>
</ul>
<hr>
<h3 id="7-事件处理"><a href="#7-事件处理" class="headerlink" title="7.事件处理"></a>7.事件处理</h3><h4 id="（1）监听"><a href="#（1）监听" class="headerlink" title="（1）监听"></a>（1）监听</h4><ul>
<li>可以用 v-on 指令监听 DOM 事件，并在触发时运行一些 JavaScript 代码。</li>
<li>然而许多事件处理逻辑会更为复杂，所以直接把 JavaScript 代码写在 v-on 指令中是不可行的。因此 v-on 还可以接收一个需要调用的方法名称。</li>
<li>除了直接绑定到一个方法，也可以在内联 JavaScript 语句中调用方法并且传参。</li>
</ul>
<h4 id="（2）修饰符-1"><a href="#（2）修饰符-1" class="headerlink" title="（2）修饰符"></a>（2）修饰符</h4><ul>
<li>Vue.js 为 v-on 提供了事件修饰符。之前提过，修饰符是由点开头的指令后缀来表示的。<ul>
<li>.stop 阻止冒泡</li>
<li>.prevent 阻止默认事件</li>
<li>.capture 捕获模式</li>
<li>.self 自身事件源</li>
<li>.once 执行一次</li>
<li>.passive 不阻止默认事件</li>
</ul>
</li>
</ul>
<h4 id="（3）按键修饰符"><a href="#（3）按键修饰符" class="headerlink" title="（3）按键修饰符"></a>（3）按键修饰符</h4><ul>
<li><p>你可以直接将 KeyboardEvent.key 暴露的任意有效按键名转换为 kebab-case 来作为修饰符。</p>
<blockquote>
<p>&lt;input v-on:keyup.page-down=”onPageDown”&gt;</p>
</blockquote>
</li>
<li><p>使用 keyCode attribute 也是允许的：</p>
<blockquote>
<p>&lt;input v-on:keyup.13=”submit”&gt;</p>
</blockquote>
</li>
<li><p>为了在必要的情况下支持旧浏览器，Vue 提供了绝大多数常用的按键码的别名：</p>
<ul>
<li>.enter</li>
<li>.tab</li>
<li>.delete (捕获“删除”和“退格”键)</li>
<li>.esc</li>
<li>.space</li>
<li>.up</li>
<li>.down</li>
<li>.left</li>
<li>.right</li>
</ul>
</li>
<li><p>你还可以通过全局 config.keyCodes 对象自定义按键修饰符别名：</p>
<blockquote>
<p>可以使用 v-on:keyup.f1 Vue.config.keyCodes.f1 = 112</p>
</blockquote>
</li>
</ul>
<h4 id="（4）系统修饰键"><a href="#（4）系统修饰键" class="headerlink" title="（4）系统修饰键"></a>（4）系统修饰键</h4><ul>
<li>可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器。<ul>
<li>.ctrl</li>
<li>.alt</li>
<li>.shift</li>
<li>.meta</li>
<li>.exact 修饰符允许你控制由精确的系统修饰符组合触发的事件。</li>
</ul>
</li>
</ul>
<h4 id="（5）鼠标修饰符"><a href="#（5）鼠标修饰符" class="headerlink" title="（5）鼠标修饰符"></a>（5）鼠标修饰符</h4><ul>
<li>鼠标按钮修饰符<ul>
<li>.left</li>
<li>.right</li>
<li>.middle</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）组件"><a href="#（二）组件" class="headerlink" title="（二）组件"></a>（二）组件</h2><h3 id="1-注册组件"><a href="#1-注册组件" class="headerlink" title="1.注册组件"></a>1.注册组件</h3><h4 id="（1）全局组件"><a href="#（1）全局组件" class="headerlink" title="（1）全局组件"></a>（1）全局组件</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tag-name</span> <span class="attr">:prop-name</span>=<span class="string">"data"</span>&gt;</span><span class="tag">&lt;/<span class="name">tag-name</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  Vue.component(<span class="string">"tagName"</span>, &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    props: [<span class="string">"propName"</span>],</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">    template: "<span class="tag">&lt;<span class="name">html</span>&gt;</span></span><span class="template-variable">&#123;&#123;propName&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;&#125;;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      getData() &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case，例如 &lt;my-component-name&gt;。</li>
</ul>
<h4 id="（2）局部组件"><a href="#（2）局部组件" class="headerlink" title="（2）局部组件"></a>（2）局部组件</h4><ul>
<li>全局注册往往是不够理想的。比如，如果你使用一个像 webpack 这样的构建系统，全局注册所有的组件意味着即便你已经不再使用一个组件了，它仍然会被包含在你最终的构建结果中。这造成了用户下载的 JavaScript 的无谓的增加。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tag-name</span> <span class="attr">:prop-name</span>=<span class="string">"data"</span>&gt;</span><span class="tag">&lt;/<span class="name">tag-name</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      tagName: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"propName"</span>],</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">html</span>&gt;</span></span><span class="template-variable">&#123;&#123;propName&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;&#125;;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          getData() &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<hr>
<h4 id="（3）特别注意"><a href="#（3）特别注意" class="headerlink" title="（3）特别注意"></a>（3）特别注意</h4><ul>
<li>取而代之的是，一个组件的 data 选项必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝：</li>
<li>every component must have a single root element (每个组件必须只有一个根元素)。你可以将模板的内容包裹在一个父元素内，来修复这个问题；</li>
<li>当一个值传递给一个 prop attribute 的时候，它就变成了那个组件实例的一个属性。为了给博文组件传递一个标题，我们可以用一个 props 选项将其包含在该组件可接受的 prop 列表中：</li>
</ul>
<h3 id="2-数据传递"><a href="#2-数据传递" class="headerlink" title="2.数据传递"></a>2.数据传递</h3><h4 id="（1）父传子"><a href="#（1）父传子" class="headerlink" title="（1）父传子"></a>（1）父传子</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 静态传递， 组件显示内容为 val --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 动态传递，组件显示内容为 hello world!!! --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"hello world!!!"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"content"</span>],</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>在父组件上通过自定义属性进行传值，属性名为接收的变量名，属性值为传递的数据</li>
<li>在子组件中通过 props 属性的值来对应接收的数据</li>
</ul>
<h4 id="（2）子传父"><a href="#（2）子传父" class="headerlink" title="（2）子传父"></a>（2）子传父</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 静态传递， 组件显示内容为 val --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 动态传递，组件显示内容为 hello world!!! --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 监听自定义事件transfer，并由getData事件处理程序处理 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span> @<span class="attr">transfer</span>=<span class="string">"getData"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"hello world!!!"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"content"</span>],</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"outData"</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`, //绑定点击事件outData</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            sonData: <span class="string">"I am from son"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          outData() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.$emit(<span class="string">"transfer"</span>, <span class="keyword">this</span>.sonData, <span class="string">"my name is son"</span>); <span class="comment">//将数据传递给父级</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      getData(sonData) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//形参对应传递的数据</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">this</span>.val = sonData; <span class="comment">//"I am from son"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>在子组件中通过自定义事件进行传值，第一个参数为监听事件名，第二参数为传递的数据</li>
<li>在父组件上通过监听事件，通过对应的事件处理程序进行处理，事件处理程序的参数对应接收的数据</li>
</ul>
<h4 id="（3）单向数据流"><a href="#（3）单向数据流" class="headerlink" title="（3）单向数据流"></a>（3）单向数据流</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">:content</span>=<span class="string">"val"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      val: [10, 20, 30]</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        props: [<span class="string">"content"</span>],</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//使用克隆后自身的值，组件之间不会相互影响</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//使用父级传入的引用值，组件之间可能会相互影响</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"changeData"</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span> @<span class="attr">click</span>=<span class="string">"changeSelfData"</span>&gt;</span></span><span class="template-variable">&#123;&#123;newContent&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            newContent: <span class="keyword">this</span>.content.concat([]) <span class="comment">//深度克隆</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          changeData() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.content.push(<span class="string">"受到影响"</span>); <span class="comment">//改变父级传入的引用值可能对父级、其它组件造成影响</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          changeSelfData() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">this</span>.newContent.push(<span class="string">"互不影响"</span>); <span class="comment">//改变自身的值，不会造成父级改变而影响到其它组件</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</li>
<li>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</li>
</ul>
<h4 id="（4）prop-验证"><a href="#（4）prop-验证" class="headerlink" title="（4）prop 验证"></a>（4）prop 验证</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">title</span>=<span class="string">"hello"</span> <span class="attr">:content</span>=<span class="string">"val"</span> <span class="attr">:str</span>=<span class="string">"success"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      val: [10, 20, 30]</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      myComponent: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        props: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">          title: <span class="built_in">String</span>, <span class="comment">//Number/Boolean/Array/Object/Date/Function/Symbol</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">          content: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">            type: [<span class="built_in">Array</span>, <span class="built_in">Object</span>], <span class="comment">//[String, Array] 期望类型,可以是多种类型（用数组列表）之一</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">return</span> [<span class="number">10</span>, <span class="number">20</span>]; <span class="comment">//数组或对象默认值必须用工厂函数获取</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">          str: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            required: <span class="literal">true</span>, <span class="comment">//是否必须传入</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            viewport: <span class="function"><span class="keyword">function</span><span class="params">(value)</span> </span>&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="comment">//自定义验证，返回值true代表通过</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              <span class="keyword">return</span> [<span class="string">"success"</span>, <span class="string">"warning"</span>, <span class="string">"danger"</span>].indexOf(value) !== <span class="number">-1</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>为了定制 prop 的验证方式，你可以为 props 中的值提供一个带有验证需求的对象，而不是一个字符串数组。</li>
<li>数组或对象默认值必须用工厂函数获取</li>
<li>类型检测支持：String/Number/Boolean/Array/Object/Date/Function/Symbol</li>
</ul>
<hr>
<h3 id="3-动态组件"><a href="#3-动态组件" class="headerlink" title="3.动态组件"></a>3.动态组件</h3><h4 id="（1）component-is"><a href="#（1）component-is" class="headerlink" title="（1）component:is"></a>（1）component:is</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- &lt;com-one&gt;&lt;/com-one&gt; --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- &lt;com-two&gt;&lt;/com-two&gt; --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"comOne"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"comTwo"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"type"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      type: <span class="string">"comThree"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      comOne: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      comTwo: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">h2</span>&gt;</span>world<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      comTwo: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: "<span class="tag">&lt;<span class="name">h3</span>&gt;</span>!!!<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>出了组件名作为标签来使用组件外，我们还可以使用统一 component 标签，并用 is 属性来绑定使用哪一个组件</li>
<li>我们还可以使用动态绑定 v-bind:is 来动态的切换组件</li>
</ul>
<h4 id="（2）keep-alive"><a href="#（2）keep-alive" class="headerlink" title="（2）keep-alive"></a>（2）keep-alive</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"type"</span>&gt;</span><span class="tag">&lt;<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        type: <span class="string">"comOne"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        change()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.type = <span class="keyword">this</span>.type === <span class="string">"comOne"</span> ? <span class="string">"comTwo"</span> : <span class="string">"comOne"</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        comOne: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">          template: "<span class="tag">&lt;<span class="name">div</span>&gt;</span>账号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        comTwo: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">          template: "<span class="tag">&lt;<span class="name">div</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'password'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<ul>
<li>当在这些组件之间切换的时候，你有时会想保持这些组件的状态，以避免反复重渲染导致的性能问题。</li>
<li>你每次切换新标签的时候，Vue 都创建了一个新的 currentTabComponent 实例。</li>
<li>重新创建动态组件的行为通常是非常有用的，但有时候，我们更希望那些标签的组件实例能够被在它们第一次被创建的时候缓存下来。</li>
<li>我们可以用一个 &lt;keep-alive&gt; 元素将其动态组件包裹起来。要求被切换到的组件都有自己的名字，不论是通过组件的 name 选项还是局部/全局注册。</li>
</ul>
<hr>
<h3 id="4-插槽"><a href="#4-插槽" class="headerlink" title="4.插槽"></a>4.插槽</h3><h4 id="（1）匿名、具名插槽"><a href="#（1）匿名、具名插槽" class="headerlink" title="（1）匿名、具名插槽"></a>（1）匿名、具名插槽</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"com-one"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>2月2日<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">"com-two"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">"header"</span>&gt;</span>太阳<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>月亮<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span>星星<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      comOne: &#123;<span class="comment">//匿名插槽</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>2020年<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      comTwo: &#123;<span class="comment">//具名插槽（匿名默认是default）</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">'header'</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"default"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（2）作用域插槽"><a href="#（2）作用域插槽" class="headerlink" title="（2）作用域插槽"></a>（2）作用域插槽</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 父级将数据传递给子级 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">com-one</span> <span class="attr">:list</span>=<span class="string">"list"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">&lt;!-- 父级声明一个作用域slot-scope, 对应子级作用域 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="comment">&lt;!-- 在这个作用域内可以使用子级绑定的数据 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;&#123;scope.item&#125;&#125; - &#123;&#123;scope.index&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">com-one</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">com-one</span> <span class="attr">:list</span>=<span class="string">"list"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;&#123;scope.index&#125;&#125; - &#123;&#123;scope.item&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">com-one</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      el: <span class="string">"#app"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        list: [1,2,3,4,5]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      components: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        comOne: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          props: [<span class="string">"list"</span>],<span class="comment">//子级接受数据</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          data()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">              newList: <span class="keyword">this</span>.list.concat([])<span class="comment">//子级深度克隆数据，并使用克隆后的数据</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="comment">//插槽列表渲染</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="comment">//绑定需要的数据（在slot-scope内）</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">          template: `<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">                        &lt;slot </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">                          v-<span class="keyword">for</span>=<span class="string">'(item, index) in newList'</span> </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">                          :key=<span class="string">"index"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">                          :item=<span class="string">"item"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">                          :index=<span class="string">"index"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                        <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span>`,</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<hr>
<h2 id="（三）实例"><a href="#（三）实例" class="headerlink" title="（三）实例"></a>（三）实例</h2><h3 id="1-new-Vue"><a href="#1-new-Vue" class="headerlink" title="1.new Vue()"></a>1.new Vue()</h3><h4 id="（1）vm"><a href="#（1）vm" class="headerlink" title="（1）vm"></a>（1）vm</h4><ul>
<li>虽然没有完全遵循 MVVM 模型，但是 Vue 的设计也受到了它的启发。因此在文档中经常会使用 vm (ViewModel 的缩写) 这个变量名表示 Vue 实例。</li>
</ul>
<h4 id="（2）data"><a href="#（2）data" class="headerlink" title="（2）data"></a>（2）data</h4><ul>
<li>当一个 Vue 实例被创建时，它将 data 对象中的所有的属性加入到 Vue 的响应式系统中。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。</li>
<li>当这些数据改变时，视图会进行重渲染。值得注意的是只有当实例被创建时就已经存在于 data 中的属性才是响应式的。</li>
</ul>
<h4 id="（3）el、-mount-、template、render"><a href="#（3）el、-mount-、template、render" class="headerlink" title="（3）el、$mount()、template、render()"></a>（3）el、$mount()、template、render()</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app1"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app2"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app3"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app4"</span>&gt;</span>&#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//通过el属性挂载实例</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm1 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">'#app1'</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app1"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//通过实例方法$Mount()挂载实例</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm2 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app2"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  vm2.$mount(<span class="string">"#app2"</span>)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//template会替换掉div#app3</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//template优于el和$mount()的outHtml()</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm3 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">'#app3'</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app3"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">    template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;val&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//render优于template</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">let</span> vm4 = <span class="keyword">new</span> Vue(&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    el: <span class="string">'#app4'</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    data: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      val: <span class="string">"app4"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="handlebars"><span class="xml">    template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;val&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>",</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    render(h)&#123;<span class="comment">// h函数用于创建VNode</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">return</span> h(<span class="string">"p"</span>,&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//行间样式</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        style: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          color: <span class="string">"red"</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//类名</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="class"><span class="keyword">class</span>: ['<span class="title">bg</span>'],</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//Dom属性</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        domProps: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="comment">// innerHTML: "app"//优于第三个参数</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      &#125;,[h(<span class="string">"h3"</span>),h(<span class="string">"h4"</span>)]);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>el、$mount()都是挂载实例</li>
<li>template时一个html字符串，会替换掉挂载的Dom,如果没有则使用挂载Dom的outHtml()</li>
<li>render()是产生虚拟Dom的函数，所返回的虚拟Dom会决定视图的内容</li>
</ul>
<h3 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2.生命周期"></a>2.生命周期</h3><ul>
<li>生命周期钩子<img src="./lifecycle.png">
</li>
</ul>
<hr>
<h2 id="（四）Vue-Cli"><a href="#（四）Vue-Cli" class="headerlink" title="（四）Vue-Cli"></a>（四）Vue-Cli</h2><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h3><h4 id="（1）npm安装"><a href="#（1）npm安装" class="headerlink" title="（1）npm安装"></a>（1）npm安装</h4><blockquote>
<p>npm install -g @vue/cli<br>vue –version </p>
</blockquote>
<h4 id="（2）创建项目-cmd指令"><a href="#（2）创建项目-cmd指令" class="headerlink" title="（2）创建项目-cmd指令"></a>（2）创建项目-cmd指令</h4><blockquote>
<p>vue create vue-app</p>
</blockquote>
<ul>
<li><p><font color=red>解决git中上下按键选择无效问题？</font></p>
<ul>
<li>选择git bash 的安装目录，找到etc/bash.bashrc文件</li>
<li>文件末未添加 ：alias vue=’winpty vue.cmd’</li>
<li>重启git bash 即可</li>
</ul>
</li>
<li><p>清除预设</p>
<blockquote>
<p>C:/user/lhf/.vuerc</p>
</blockquote>
</li>
</ul>
<h4 id="（3）创建项目-UI"><a href="#（3）创建项目-UI" class="headerlink" title="（3）创建项目-UI"></a>（3）创建项目-UI</h4><blockquote>
<p>vue ui</p>
</blockquote>
<ul>
<li>回到创建页<blockquote>
<p>C:/user/lhf/vue-cli-ui/db.json</p>
</blockquote>
</li>
</ul>
<h4 id="（3）运行项目"><a href="#（3）运行项目" class="headerlink" title="（3）运行项目"></a>（3）运行项目</h4><ul>
<li><p>运行index.html</p>
<blockquote>
<p>npm run serve</p>
</blockquote>
</li>
<li><p>运行指定vue文件</p>
<blockquote>
<p>npm install -g @vue/cli-service-global<br>vue run serve helloworld</p>
</blockquote>
</li>
</ul>
<hr>
<h3 id="2-路由router"><a href="#2-路由router" class="headerlink" title="2.路由router"></a>2.路由router</h3><h4 id="（1）安装"><a href="#（1）安装" class="headerlink" title="（1）安装"></a>（1）安装</h4><blockquote>
<p>npm install vue-router –save<br>vue add router –save</p>
</blockquote>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li>router.js<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/Home.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'../views/About.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Learn <span class="keyword">from</span> <span class="string">'../views/Learn.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Student <span class="keyword">from</span> <span class="string">'../views/Student.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Community <span class="keyword">from</span> <span class="string">'../views/Community.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Question <span class="keyword">from</span> <span class="string">'../components/community/question'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Forum <span class="keyword">from</span> <span class="string">'../components/community/forum'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Help <span class="keyword">from</span> <span class="string">'../components/community/help'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Answer <span class="keyword">from</span> <span class="string">'../components/Answer'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Error404 <span class="keyword">from</span> <span class="string">'../components/Error'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">Vue.use(VueRouter)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">'/home'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    name: <span class="string">'home'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    alias: <span class="string">"/"</span>, <span class="comment">//别名, 影响active</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    components: &#123;<span class="comment">//router-view复用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">default</span>: Home,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="string">"list"</span>: Question</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">'/about'</span>,<span class="comment">//对用router-link to=path</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    name: <span class="string">'about'</span>,<span class="comment">//对用router-link :to=&#123;name: name&#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    component: About</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">'/community'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    name: <span class="string">'community'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    component: Community,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    redirect: <span class="string">"/community/question"</span>,<span class="comment">//路由重定向</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    meta: &#123;<span class="comment">//原信息，子组件实例的$route.matched[0].meta可以访问到，在访问不到实例之前，to上面也可以访问</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      login: <span class="literal">false</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    children: [<span class="comment">//嵌套路由</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="comment">// path: '/community/question',//绝对路径</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'question'</span>,<span class="comment">//相对路径简写形式，不能出现/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"question"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: Question</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'forum'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"forum"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: Forum</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'help'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"help"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: Help</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">"/answer/:id"</span>,<span class="comment">//动态路由</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    name: <span class="string">"answer"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    component: Answer</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">"/404"</span>,<span class="comment">//404</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    name: <span class="string">"error"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    component: Error404</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">'*'</span>,<span class="comment">//未匹配重定向</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    redirect(to)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span>(to.path === <span class="string">"/"</span>)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">return</span> <span class="string">'/home'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          name: <span class="string">"error"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">]</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  linkActiveClass: <span class="string">"active"</span>,<span class="comment">//重命名</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  mode: <span class="string">'history'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  base: process.env.BASE_URL,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  routes</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span></pre></td></tr></table></figure></li>
<li>component.vue</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"nav"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">tag</span>=<span class="string">"li"</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">tag</span>=<span class="string">"li"</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 动态绑定 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 动态路由 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123;name: 'myHome', params: &#123;id: item.id&#125;&#125;"</span>&gt;</span>myHome<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123;name: about&#125;"</span>&gt;</span>myAbout<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    create()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">this</span>.$route.params.id<span class="comment">//动态路由传值接收</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>路由: vue-router</li>
<li>路由嵌套: children[]</li>
<li>动态路由: ‘/path/:id’ :to=”{name: path, params:{id: item.id}}” create(){this.$route.params.id}</li>
<li>路由重定向: redirect: ‘/newPath’</li>
<li>路由别名：alias</li>
<li>路由Class: LinkActiveClass</li>
<li>router-link应用: tag=”li”</li>
<li>router-view复用: components[]</li>
<li>原信息：meta</li>
</ul>
<hr>
<h4 id="（3）导航守卫"><a href="#（3）导航守卫" class="headerlink" title="（3）导航守卫"></a>（3）导航守卫</h4><ul>
<li>全局守卫</li>
<li>Router实例方法：beforeEach(function(to, from, next){})<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  linkActiveClass: <span class="string">"active"</span>,<span class="comment">//重命名</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  mode: <span class="string">'history'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  base: process.env.BASE_URL,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  routes</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//导航守卫 全局守卫</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// to: 去哪里</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// from: 从哪来</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// next(param)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//             param === false 不许进，从哪来回哪去</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//             param === path 去指定地方</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//             空 允许进</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">router.beforeEach(<span class="function"><span class="keyword">function</span>(<span class="params">to, from, next</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">if</span>(to.path === <span class="string">"/community/question"</span>)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> result = confirm(<span class="string">"你还没有登录，要前往登录吗？"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span>(result)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      next(&#123;<span class="attr">name</span>: <span class="string">'user'</span>&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      next(<span class="literal">false</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    next()</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure></li>
<li>路由独享守卫-路由（仅仅可以守卫该路径下的组件）</li>
<li>routes内属性方法：beforeEnter(to, from, next){}<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: <span class="string">'/community'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    name: <span class="string">'community'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    component: Community,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    redirect: <span class="string">"/community/question"</span>,<span class="comment">//重定向</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    children: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="comment">// path: '/community/question',</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'question'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"question"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: Question,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        beforeEnter(to, <span class="keyword">from</span>, next)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="keyword">let</span> result = confirm(<span class="string">"你还没有登录，要前往登录吗？"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="keyword">if</span>(result)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            next(&#123;<span class="attr">name</span>: <span class="string">'user'</span>&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            next(<span class="literal">false</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'forum'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"forum"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: Forum</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'help'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"help"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: Help</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path: <span class="string">'user'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        name: <span class="string">"user"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        component: User</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr></table></figure></li>
<li>组件内守卫-组件（可守卫所有该组件出现的地方）</li>
<li>组件属性方法：beforeRouteEnter(to, from, next)<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">    beforeRouteEnter(to, <span class="keyword">from</span>, next) &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      if(to.matched[0].meta.login)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        next();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="keyword">return</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> result = confirm(<span class="string">"你还没有登录，要前往登录吗？"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      if (result) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        next(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          name: <span class="string">'user'</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      &#125; <span class="keyword">else</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        next(<span class="literal">false</span>)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">    beforeRouteLeave(to, <span class="keyword">from</span>, next)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">      <span class="keyword">let</span> result = confirm(<span class="string">"确定要离开吗？"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      if(result)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        next()</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      &#125;<span class="keyword">else</span>&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        next(<span class="literal">false</span>)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        questions: [&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            id: 202001,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            question: <span class="string">"月亮太阳看起来为什么一样大?"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            answer: <span class="string">"从地球上望月球，它看上去与太阳的大小差不多，造成这种错觉是距离奇怪的安排."</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            id: 202002,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            question: <span class="string">"墨为什么不褪色?"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            answer: <span class="string">"因为墨是煤的一家。墨是用煤烟制成的。煤是永远也洗不白的，因此，墨写的字、画的画是不褪色的."</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            id: 202003,</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            question: <span class="string">"为什么海洋是蓝色的？?"</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            answer: <span class="string">"大海看起来是那么蓝，那么美。可实际上，海水也是无色透明的."</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="（4）懒加载"><a href="#（4）懒加载" class="headerlink" title="（4）懒加载"></a>（4）懒加载</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Home from '../views/Home.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import About from '../views/About.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Learn from '../views/Learn.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Student from '../views/Student.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Community from '../views/Community.vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Question from '../components/community/question'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Forum from '../components/community/forum'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Help from '../components/community/help'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Answer from '../components/Answer'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import Error404 from '../components/Error'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// import User from '../components/community/user'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Home.vue'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> About = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/About.vue'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Learn = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Learn.vue'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Student = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Student.vue'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Community = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../views/Community.vue'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Question = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/question'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Forum = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/forum'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Help = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/help'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Answer = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/Answer'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Error404 = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/Error'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> User = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>( <span class="string">'../components/community/user'</span>);</span></pre></td></tr></table></figure>
<hr>
<h3 id="3-状态vuex"><a href="#3-状态vuex" class="headerlink" title="3.状态vuex"></a>3.状态vuex</h3><h4 id="（1）非父子组件传值"><a href="#（1）非父子组件传值" class="headerlink" title="（1）非父子组件传值"></a>（1）非父子组件传值</h4><ul>
<li>依赖共同祖先组件传值<ul>
<li>两个组件的关系太远，嵌套太深，数据太多不适用</li>
<li>一个组件给多个组件传值，关系复杂不适用</li>
</ul>
</li>
</ul>
<ul>
<li>事件总线<ul>
<li>利用Vue的prototype公共属性进行事件绑定与监听</li>
<li>需要依赖于事件</li>
</ul>
</li>
</ul>
<h4 id="（2）vuex-Store"><a href="#（2）vuex-Store" class="headerlink" title="（2）vuex.Store"></a>（2）vuex.Store</h4><ul>
<li>$store.state</li>
<li>$store.getters</li>
<li>mapState</li>
<li>mapGetters</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">Vue.use(Vuex)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  state: &#123;<span class="comment">//公共数据池</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    studentList: []</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  getters: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    list(state, getters)&#123;<span class="comment">//数据池、自身</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> state.studentList.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">if</span>(index &lt; <span class="number">3</span>)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="keyword">return</span> getters.prefix + item;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="keyword">return</span> item + getters.suffix;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    prefix()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="string">"#_"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    suffix()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="string">"-$"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  mutations: &#123;<span class="comment">//同步处理</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    changeStudentList(state, val)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      state.studentList.push(val)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  actions: &#123;<span class="comment">//异步处理</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    change(ctx, val)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        ctx.commit(<span class="string">"changeStudentList"</span>, val)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;, <span class="number">1000</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  modules: &#123;<span class="comment">//模块，将每一组页面下的数据单独抽离成一个模块，便于维护</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    student: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      namespaced: <span class="literal">true</span>,<span class="comment">//命名空间</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      state,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      getters,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      ...</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    product: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      ...</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- &lt;div&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &lt;p v-if="list.length !== 0"&gt;学员列表：&lt;/p&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &lt;ul&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">        &lt;li v-for="(item, index) in list" :key="item+index"&gt;&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;&lt;/li&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &lt;/ul&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    &lt;/div&gt; --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"list.length !== 0"</span>&gt;</span>学员列表：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in list"</span> <span class="attr">:key</span>=<span class="string">"item+index"</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"new"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in newList"</span> <span class="attr">:key</span>=<span class="string">"item+index"</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;mapState, mapGetters&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">   <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">       data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">           <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="comment">// studentList: this.$store.state.studentList</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">           &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">       computed: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        ...mapState(&#123;<span class="comment">//重命名</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">          list: <span class="function"><span class="params">state</span> =&gt;</span> state.studentList</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;),</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        ...mapState(<span class="string">"modelName"</span>, [<span class="string">'studentList'</span>])<span class="comment">//使用模块需要添加对应模块名</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        ...mapGetters(&#123;<span class="comment">//重命名</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          newList: <span class="string">'list'</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">       created()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//  this.bus.$on("new-student", list =&gt; &#123;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//    this.studentList = list;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">        <span class="comment">//  &#125;)</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>添加学员：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"studentName"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">&lt;!-- &lt;button @click="addStudent"&gt;添加&lt;/button&gt; --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"[change(studentName), reset()]"</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;mapActions&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;<span class="comment">//简洁操作</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">   <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">       data() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">           <span class="keyword">return</span> &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            studentName: <span class="string">""</span>,</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">            <span class="comment">// studentList:[]</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">           &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">       methods: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">         ...mapActions([<span class="string">'change'</span>]),</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">         addStudent()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.studentList.push(<span class="keyword">this</span>.studentName);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.bus.$emit(<span class="string">"new-student"</span>, <span class="keyword">this</span>.studentList);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.state.studentList.push(<span class="keyword">this</span>.studentName);<span class="comment">//手动触发，不适用严格模式</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.commit(<span class="string">"changeStudentList"</span>, <span class="keyword">this</span>.studentName);<span class="comment">//同步更改</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.commit(<span class="string">"modelName/changeStudentList"</span>, <span class="keyword">this</span>.studentName);<span class="comment">//同步更改(使用模块)</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.$store.dispatch(<span class="string">"change"</span>, <span class="keyword">this</span>.studentName)<span class="comment">//异步更改</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          </span></pre></td></tr><tr><td class="code"><pre><span class="line">         &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">         reset()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">          <span class="keyword">this</span>.studentName = <span class="string">""</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">         &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">       &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Gulp --- 概述篇</title>
    <url>/blog/2020/01/07/GULPa/</url>
    <content><![CDATA[<h1 id="gulp概述"><a href="#gulp概述" class="headerlink" title="gulp概述"></a>gulp概述</h1><h2 id="（一）环境配置"><a href="#（一）环境配置" class="headerlink" title="（一）环境配置"></a>（一）环境配置</h2><ol>
<li>npm i -g gulp</li>
<li>npm init -y</li>
<li>npm i -D gulp</li>
<li>create gulpfile.js</li>
</ol>
<h2 id="（二）gulpfile-js"><a href="#（二）gulpfile-js" class="headerlink" title="（二）gulpfile.js"></a>（二）gulpfile.js</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">"gulp"</span>); <span class="comment">//gulp4.0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> minifyHtml = <span class="built_in">require</span>(<span class="string">"gulp-minify-html"</span>); <span class="comment">//压缩html</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);<span class="comment">//图片压缩</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> minifyCss = <span class="built_in">require</span>(<span class="string">"gulp-minify-css"</span>); <span class="comment">//压缩CSS</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>); <span class="comment">//编译less</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> postcss = <span class="built_in">require</span>(<span class="string">"gulp-postcss"</span>);<span class="comment">//自动添加css3前缀</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>); <span class="comment">//js压缩</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> debug = <span class="built_in">require</span>(<span class="string">"gulp-strip-debug"</span>);<span class="comment">//清除js调试语句</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> connect = <span class="built_in">require</span>(<span class="string">"gulp-connect"</span>);<span class="comment">//服务器依赖</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//出入口路径</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> folder = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  src: <span class="string">"src/"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  dist: <span class="string">"dist/"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//任务队列</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> taskArr = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//html任务</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"html"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"html/*"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(connect.reload())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(minifyHtml())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"html/"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">taskArr.push(<span class="string">"html"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//css任务</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"css"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"css/*"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(connect.reload())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(less())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(postcss([autoprefixer()]))</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(minifyCss())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"css/"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">taskArr.push(<span class="string">"css"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//image任务</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"image"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"image/*"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(imagemin())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"image/"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">taskArr.push(<span class="string">"image"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//js任务</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"js"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.src(folder.src + <span class="string">"js/*"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(connect.reload())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(debug())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(uglify())</span></pre></td></tr><tr><td class="code"><pre><span class="line">      .pipe(gulp.dest(folder.dist + <span class="string">"js/"</span>))</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">taskArr.push(<span class="string">"js"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//服务器任务</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"server"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  connect.server(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    port: <span class="number">9000</span>,<span class="comment">//端口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    livereload:<span class="literal">true</span><span class="comment">//刷新</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">taskArr.push(<span class="string">"server"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//监听任务</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"watch"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.watch(folder.src + <span class="string">"html/*"</span>, gulp.series(<span class="string">"html"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.watch(folder.src + <span class="string">"css/*"</span>, gulp.series(<span class="string">"css"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line">  gulp.watch(folder.src + <span class="string">"js/*"</span>, gulp.series(<span class="string">"js"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">taskArr.push(<span class="string">"watch"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//默认执行任务队列</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">gulp.task(<span class="string">"default"</span>, gulp.parallel(taskArr))</span></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Webpack --- 应用篇</title>
    <url>/blog/2020/01/07/WEBPACKa/</url>
    <content><![CDATA[<h1 id="一、模块化"><a href="#一、模块化" class="headerlink" title="一、模块化"></a>一、模块化</h1><h2 id="（一）工程化思想"><a href="#（一）工程化思想" class="headerlink" title="（一）工程化思想"></a>（一）工程化思想</h2><ul>
<li>前端工程化是根据业务特点，将前端开发流程规范化，标准化，它包括了开发流程，技术选型，代码规范，构建发布等，用于提升前端工程师的开发效率和代码质量。</li>
</ul>
<h2 id="（二）js-模块化"><a href="#（二）js-模块化" class="headerlink" title="（二）js 模块化"></a>（二）js 模块化</h2><h3 id="1-commonJS规范"><a href="#1-commonJS规范" class="headerlink" title="1.commonJS规范"></a>1.commonJS规范</h3><h4 id="（1）核心思想"><a href="#（1）核心思想" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>1）据 CommonJs 规范规定每一个 Js 文件都可以看作一个模块，其内部定义的变量是属于这个模块的，不会对外暴露，也就是说不会污染全局变量。该规范最初用在服务器端的 node 环境中。</li>
<li>2）CommonJS 采用==同步加载==不同模块文件，适用于服务器端的。因为模块文件都存放在服务器的各个硬盘上，读取加载时间快，适合服务器端，不适应浏览器。</li>
<li>3）浏览器不兼容 CommonJs，原因是浏览器缺少 module、exports、require、global 四个环境变量。如要使用需要工具转换。</li>
<li>4）CommonJS 的核心思想就是通过 require 方法来同步加载所要依赖的其他模块，然后通过 exports 或者 module.exports 来导出需要暴露的接口。</li>
</ul>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li><p>暴露接口方式</p>
<ul>
<li>module.exports = value；</li>
<li>exports.XXX = value；</li>
</ul>
</li>
<li><p>exports 本质是一个空对象。</p>
</li>
<li><p>引入模块 require(XXX)</p>
</li>
</ul>
<h4 id="（3）commonJs-兼容浏览器"><a href="#（3）commonJs-兼容浏览器" class="headerlink" title="（3）commonJs 兼容浏览器"></a>（3）commonJs 兼容浏览器</h4><ul>
<li>install browserify</li>
<li>browserify a.js -o bundle.js</li>
</ul>
<hr>
<h3 id="2-AMD-规范"><a href="#2-AMD-规范" class="headerlink" title="2.AMD 规范"></a>2.AMD 规范</h3><h4 id="（1）核心思想-1"><a href="#（1）核心思想-1" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>1）CommonJs 为服务器端而生，采用的同步加载方式。因此不适用浏览器。因为浏览器需要到服务器加载文件，请求时间远大于本机读取的时间，倘若文件较多，网络迟缓就会导致页面瘫痪，所以浏览器更希望能够时间异步加载的方式。</li>
<li>2）AMD 规范则是异步加载模块，允许指定回调函数。等模块异步加载完成后即可调用回调函数。</li>
<li>3）AMD 得意的产出就是 require.js</li>
<li>4）AMD 的核心思想就是通过 define 来定义一个模块，然后使用 require 来加载一个模块。</li>
<li>5）==依赖前置，需提前加载依赖，贪婪加载==</li>
</ul>
<h4 id="（2）使用-1"><a href="#（2）使用-1" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li>AMD 规范的使用依赖于 require.js <a href="https://requirejs.org/" target="_blank" rel="noopener">https://requirejs.org/</a></li>
<li>script 标签的 src 属性引入依赖文件 require.js</li>
<li>script 标签的 src 属性引入入口文件 index.js</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./require.js"</span> data-main=<span class="string">"./index.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">define([<span class="string">"m1"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">m1</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> msg = <span class="string">"m2-amd"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(msg, m1.getName());</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123; show &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">require</span>.config(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    paths: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      m1: <span class="string">"./module/m1"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      m2: <span class="string">"./module/m2"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      jquery: <span class="string">"./libs/jquery.min"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">require</span>([<span class="string">"m2"</span>, <span class="string">"jquery"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">m2, $</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    m2.show();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    $(<span class="string">".demo"</span>).css(<span class="string">"color"</span>, <span class="string">"red"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)();</span></pre></td></tr></table></figure>

<hr>
<h3 id="3-CMD-规范"><a href="#3-CMD-规范" class="headerlink" title="3.CMD 规范"></a>3.CMD 规范</h3><h4 id="（1）核心思想-2"><a href="#（1）核心思想-2" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>1）CMD 异步加载，跟 AMD 的主要区别在于，AMD 依赖前置，提前加载依赖。而 CMD 就近加载，按需加载。</li>
<li>2）产物 seaJs，跟 requireJs 使用有些相似。</li>
<li>3）CMD 的核心思想就是通过 define 来定义一个模块，然后使用 require 来加载一个模块。</li>
<li>4）==依赖就近加载，按需加载==</li>
</ul>
<h4 id="（2）使用-2"><a href="#（2）使用-2" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li>script 标签引入依赖文件 sea.js</li>
<li>执行入口文件 seajs.use(index.js)</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./sea.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;script&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  seajs.use(<span class="string">"./index.js"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;<span class="regexp">/script&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">define(function (require, exports, module) &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">  var name = "m4-cmd";</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">  /</span><span class="regexp">/同步加载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">  var m1 = require("./m</span>1<span class="string">")</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  m1.showName();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  //异步加载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  require.async('./m2', function(m2)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    m2();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string"></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  function showName() &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    console.log(name);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  exports.showName = showName;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">&#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string"></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">define(function (require, exports, module) &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  //同步加载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  var m4 = require("</span>./<span class="built_in">module</span>/m4<span class="string">")</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  m4.showName();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  //异步加载</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  require.async('./module/m3', function(m3)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    m3.showName();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">&#125;)</span></span></pre></td></tr></table></figure>

<hr>
<h3 id="4-ES-Modules-规范"><a href="#4-ES-Modules-规范" class="headerlink" title="4.ES Modules 规范"></a>4.ES Modules 规范</h3><h4 id="（1）核心思想-3"><a href="#（1）核心思想-3" class="headerlink" title="（1）核心思想"></a>（1）核心思想</h4><ul>
<li>ES6 自带模块化，可以使用 import 关键字引入模块，通过 export 关键字导出模块，功能较之于前几个方案更为强大，也是我们所推崇的，但是由于 ES6 目前无法在浏览器中执行，所以，我们只能通过 babel 将不被支持的 import 编译为当前受到广泛支持的 require。</li>
</ul>
<h4 id="（2）模块化-what？"><a href="#（2）模块化-what？" class="headerlink" title="（2）模块化 what？"></a>（2）模块化 what？</h4><ul>
<li>模块化是指将一个复杂的系统分解为多个模块，方便编码。</li>
</ul>
<h4 id="（3）模块化-why？"><a href="#（3）模块化-why？" class="headerlink" title="（3）模块化 why？"></a>（3）模块化 why？</h4><ul>
<li>降低复杂性，降低代码耦合度，部署方便，提高效率。</li>
</ul>
<h4 id="（4）模块化好处？"><a href="#（4）模块化好处？" class="headerlink" title="（4）模块化好处？"></a>（4）模块化好处？</h4><ul>
<li>a,避免命名冲突，减少变量空间污染</li>
<li>b,更好的分离代码，按需加载</li>
<li>c,更高复用性</li>
<li>d,更高可维护性</li>
</ul>
<hr>
<h2 id="（三）预处理-Less"><a href="#（三）预处理-Less" class="headerlink" title="（三）预处理 Less"></a>（三）预处理 Less</h2><h3 id="1-嵌套"><a href="#1-嵌套" class="headerlink" title="1.嵌套"></a>1.嵌套</h3><h3 id="2-注释"><a href="#2-注释" class="headerlink" title="2.注释"></a>2.注释</h3><ul>
<li>单行注释：只希望被开发人员看到，不会编译进文件</li>
<li>包裹注释：希望用于代码阅读，会编译进文件</li>
</ul>
<h3 id="3-变量-变量运算-变量作用域"><a href="#3-变量-变量运算-变量作用域" class="headerlink" title="3.变量 / 变量运算 / 变量作用域"></a>3.变量 / 变量运算 / 变量作用域</h3><h3 id="4-混合-默认值-匹配-导入"><a href="#4-混合-默认值-匹配-导入" class="headerlink" title="4.混合 / 默认值 / 匹配 / 导入"></a>4.混合 / 默认值 / 匹配 / 导入</h3><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@width:</span> <span class="number">500px</span>; <span class="comment">//变量</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="variable">@height:</span> <span class="variable">@width</span> + <span class="number">100px</span>; <span class="comment">//变量运算</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="variable">@color:</span> pink;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//混合</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@w</span>, <span class="variable">@s</span>, <span class="variable">@c</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border</span>: <span class="variable">@w</span> <span class="variable">@s</span> <span class="variable">@c</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//默认值</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="selector-class">.center</span>(<span class="variable">@top</span>: <span class="number">0px</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">margin</span>: <span class="variable">@top</span> auto;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//导入</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">"./trangle"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="variable">@width</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">height</span>: <span class="variable">@height</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="variable">@color</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="selector-class">.center</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="selector-class">.demo</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-class">.border</span>(<span class="number">5px</span>, solid, black);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-class">.trangle</span>(T, <span class="number">50px</span>, blue) <span class="comment">//匹配;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h1 id="二、基于模块化打包Webpack"><a href="#二、基于模块化打包Webpack" class="headerlink" title="二、基于模块化打包Webpack"></a>二、基于模块化打包Webpack</h1><h2 id="（一）环境配置（4-0-版本）"><a href="#（一）环境配置（4-0-版本）" class="headerlink" title="（一）环境配置（4.0 版本）"></a>（一）环境配置（4.0 版本）</h2><blockquote>
<p>安装node<br>npm install webpack webpack-cli -g<br>npm init -y<br>npm install webpack webpack-cli -D<br>npm install<br>webpack</p>
</blockquote>
<ul>
<li>安装全局的webpack</li>
<li>初始化项目（默认生成package.json文件）</li>
<li>安装项目的webpack</li>
<li>初始化依赖（默认根据package.json中”devDependencies”的配置依次加载依赖，在安装依赖的时候可以用 –save-dev（-D）命令将依赖记录于配置中）</li>
<li>执行webpack 打包（基于没有 webpack.config.js）默认入口：src/index.js 默认出口：dist/main.js</li>
</ul>
<h2 id="（二）webpack-config-js-配置"><a href="#（二）webpack-config-js-配置" class="headerlink" title="（二）webpack.config.js 配置"></a>（二）webpack.config.js 配置</h2><h3 id="1-entry"><a href="#1-entry" class="headerlink" title="1.entry"></a>1.entry</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//单入口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  entry: <span class="string">"path"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//多入口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  entry: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    page1: <span class="string">"path"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    page2: <span class="string">"path"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    page3: <span class="string">"path"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-output"><a href="#2-output" class="headerlink" title="2.output"></a>2.output</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">module.exports = &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  //单出口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  output: &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    filename: "</span>index.js<span class="string">",</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    path: path.resolve(__dirname + "</span>/dist<span class="string">");</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  //多入口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  output: &#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[name].js<span class="string">",//使用模块名</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[id].js<span class="string">",//使用模块id</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[name][hash:<span class="number">20</span>].js<span class="string">",//加入hash</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    filename: "</span>[chunkhash].js<span class="string">",//chunk内容的hash</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">    path: path.resolve(__dirname + "</span>/dist<span class="string">"),//输出路径</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">  &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">&#125;</span></span></pre></td></tr></table></figure>
<hr>
<h3 id="3-mode"><a href="#3-mode" class="headerlink" title="3.mode"></a>3.mode</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//开发阶段</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  mode: <span class="string">"development"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//生产阶段</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  mode： <span class="string">"production"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="4-loader-amp-plugins"><a href="#4-loader-amp-plugins" class="headerlink" title="4.loader &amp; plugins"></a>4.loader &amp; plugins</h3><h4 id="（1）加载css"><a href="#（1）加载css" class="headerlink" title="（1）加载css"></a>（1）加载css</h4><h5 id="1）解析成style并插入head中"><a href="#1）解析成style并插入head中" class="headerlink" title="1）解析成style并插入head中"></a>1）解析成style并插入head中</h5><ol>
<li>npm i -D css-loader style-loader</li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.css$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2）解析less"><a href="#2）解析less" class="headerlink" title="2）解析less"></a>2）解析less</h5><ol>
<li>npm i -D less</li>
<li>npm i -D less-loader css-loader style-loader </li>
<li>在入口文件index.js中import “lessPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>, <span class="string">"less-loader"</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3）解析cssnext、添加兼容前缀、压缩"><a href="#3）解析cssnext、添加兼容前缀、压缩" class="headerlink" title="3）解析cssnext、添加兼容前缀、压缩"></a>3）解析cssnext、添加兼容前缀、压缩</h5><ol>
<li>npm i -D postcss-loader css-loader style-loader </li>
<li>npm i -D postcss-cssnext autoprefixer cssnano </li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">          MiniCssExtractPlugin.loader,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="string">"css-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            loader: <span class="string">"postcss-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            options:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">              ident: <span class="string">"postcss"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              plugins:[</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"postcss-cssnext"</span>)(),</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)(),</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"cssnano"</span>)()</span></pre></td></tr><tr><td class="code"><pre><span class="line">              ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          <span class="string">"less-loader"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      filename: <span class="string">'[name].css'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="4）抽离css成独立文件"><a href="#4）抽离css成独立文件" class="headerlink" title="4）抽离css成独立文件"></a>4）抽离css成独立文件</h5><ol>
<li>npm i -D css-loader style-loader </li>
<li>npm i -D mini-css-extract-plugin </li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [MiniCssExtractPlugin.loader, <span class="string">"css-loader"</span>, <span class="string">"less-loader"</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      filename: <span class="string">'[name].css'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="5）free-shaking-css"><a href="#5）free-shaking-css" class="headerlink" title="5）free-shaking css"></a>5）free-shaking css</h5><ol>
<li>npm i -D css-loader</li>
<li>npm i -D purify-css purifycss-webpack glob-all</li>
<li>npm i -D mini-css-extract-plugin </li>
<li>在入口文件index.js中import “cssPath”</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">"glob-all"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PurifyCssPlugin = <span class="built_in">require</span>(<span class="string">"purifycss-webpack"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.less$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [MiniCssExtractPlugin.loader, <span class="string">"css-loader"</span>, <span class="string">"less-loader"</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      filename: <span class="string">'[name].css'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;),</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> PurifyCssPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      paths: glob.sync([</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path.join(__dirname, <span class="string">'src/*.html'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">        path.join(__dirname, <span class="string">'src/*.js'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      ])</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（2）加载图片"><a href="#（2）加载图片" class="headerlink" title="（2）加载图片"></a>（2）加载图片</h4><h5 id="1）处理css中背景图片"><a href="#1）处理css中背景图片" class="headerlink" title="1）处理css中背景图片"></a>1）处理css中背景图片</h5><ol>
<li>npm i -D file-loader</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  mode: <span class="string">'development'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  entry: <span class="string">'./src/index.js'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">    filename: <span class="string">'bundle.js'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(png|jpg|svg|gif)$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            loader: <span class="string">"file-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">              name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              outputPath: <span class="string">'img'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2）处理html中src图片"><a href="#2）处理html中src图片" class="headerlink" title="2）处理html中src图片"></a>2）处理html中src图片</h5><ol>
<li>npm i -D file-loader url-loader html-loader</li>
<li>npm i -D html-webpack-plugin</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules</li>
<li>配置plugins加载html<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(png|jpg|svg|gif)$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            loader: <span class="string">"url-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">              name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              limit: <span class="number">100</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              outputPath: <span class="string">'img'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.html$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          loader: <span class="string">"html-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            attrs: [<span class="string">'img:src'</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">   plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      template: <span class="string">'./src/index.html'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3）压缩图片"><a href="#3）压缩图片" class="headerlink" title="3）压缩图片"></a>3）压缩图片</h5><ol>
<li>npm i -D file-loader url-loader html-loader img-loader</li>
<li>npm i -D imagemin imagemin-xxx</li>
<li>npm i -D html-webpack-plugin</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules</li>
<li>配置plugins加载html<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(png|jpg|svg|gif)$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            loader: <span class="string">"url-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">              name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              limit: <span class="number">100</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              outputPath: <span class="string">'img'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            loader: <span class="string">"img-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">              plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">                <span class="built_in">require</span>(<span class="string">"imagemin-xxx"</span>)(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">                  quality: [<span class="number">1</span>,<span class="number">1</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">              ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">            &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.html$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: [&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          loader: <span class="string">"html-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            attrs: [<span class="string">'img:src'</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;]</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">   plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      template: <span class="string">'./src/index.html'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（3）加载字体"><a href="#（3）加载字体" class="headerlink" title="（3）加载字体"></a>（3）加载字体</h4><ol>
<li>npm i -D file-loader</li>
<li>在index.html中引入输出文件bundle.js</li>
<li>配置module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  mode: <span class="string">'development'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  entry: <span class="string">'./src/index.js'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">    filename: <span class="string">'bundle.js'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        test: <span class="regexp">/\.(woff|woff2|eot|ttf|otf)$/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        use: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          loader: <span class="string">"file-loader"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          options: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">            name: <span class="string">"[name].[ext]"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            outputPath: <span class="string">'font'</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（4）加载js"><a href="#（4）加载js" class="headerlink" title="（4）加载js"></a>（4）加载js</h4><h5 id="1）js-默认tree-shaking"><a href="#1）js-默认tree-shaking" class="headerlink" title="1）js 默认tree-shaking"></a>1）js 默认tree-shaking</h5><ul>
<li>生产环境下默认自动tree-shaking（基于语法）</li>
</ul>
<h5 id="2）js-深度tree-shaking"><a href="#2）js-深度tree-shaking" class="headerlink" title="2）js 深度tree-shaking"></a>2）js 深度tree-shaking</h5><ol>
<li>npm i -D webpack-deep-scope-plugin</li>
<li>配置 plugins</li>
<li>生产环境下执行深度tree-shaking（基于作用域）<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> webpackDeepScopePlugin = <span class="built_in">require</span>(<span class="string">"webpack-deep-scope-plugin"</span>).default;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> webpackDeepScopePlugin()</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3）lodash工具库"><a href="#3）lodash工具库" class="headerlink" title="3）lodash工具库"></a>3）lodash工具库</h5><ol>
<li>npm i -D lodash-es</li>
<li>import lodash from “lodash-es”<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lodash <span class="keyword">from</span> <span class="string">"lodash-es"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> a+b;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(lodash.isArray(obj))</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  add,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  isArray</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="4）提取公共js代码"><a href="#4）提取公共js代码" class="headerlink" title="4）提取公共js代码"></a>4）提取公共js代码</h5><ol>
<li>配置多入口</li>
<li>配置出口</li>
<li>配置 optimization<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  entry: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    index:  <span class="string">'./src/index.js'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    index2: <span class="string">'./src/index2.js'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">    filename: <span class="string">'[name].main.js'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    chunkFilename: <span class="string">"[name].js"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"> optimization:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    splitChunks:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      cacheGroups:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="comment">//抽离公共代码块</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        common:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          name:<span class="string">"commonAll"</span>,<span class="comment">//名称</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          chunks:<span class="string">'all'</span>,<span class="comment">//查找范围</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          minSize: <span class="number">1</span>,<span class="comment">//最小体积</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          minChunks: <span class="number">2</span>,<span class="comment">//最少次数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">          priority: <span class="number">1</span><span class="comment">//优先级</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="comment">//抽离第三方库</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        lodash:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          name:<span class="string">"lodashAll"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          chunks:<span class="string">'all'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          priority: <span class="number">10</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="5）解析新ES语法"><a href="#5）解析新ES语法" class="headerlink" title="5）解析新ES语法"></a>5）解析新ES语法</h5><ol>
<li>npm i -D @babel/core @babel/cli @babel/preset-env</li>
<li>配置 module.rules<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> webpackDeepScopePlugin = <span class="built_in">require</span>(<span class="string">"webpack-deep-scope-plugin"</span>).default;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">module</span>: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    rules: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="attr">loader</span>: <span class="string">"babel-loader"</span> &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="（5）加载html"><a href="#（5）加载html" class="headerlink" title="（5）加载html"></a>（5）加载html</h4><h5 id="1）生成html"><a href="#1）生成html" class="headerlink" title="1）生成html"></a>1）生成html</h5><ol>
<li>npm i -D html-webpack-plugin</li>
<li>配置 plugin<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      filename: <span class="string">'[name].html'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      template: <span class="string">'src/index.html'</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      minify: &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        removeComments: <span class="literal">true</span>,<span class="comment">//清理注释</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        collapseWhitespace: <span class="literal">true</span><span class="comment">//清理空格</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2）清理打包文件"><a href="#2）清理打包文件" class="headerlink" title="2）清理打包文件"></a>2）清理打包文件</h5><ol>
<li>npm i -D clean-webpack-plugin</li>
<li>配置 plugin<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">"clean-webpack-plugin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin()</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h2 id="（三）package-json-配置"><a href="#（三）package-json-配置" class="headerlink" title="（三）package.json 配置"></a>（三）package.json 配置</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"scripts"</span>:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//npm run 命令</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"run"</span>: <span class="string">"webpack --color"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"dev"</span>: <span class="string">"webpack --mode development"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"prod"</span>: <span class="string">"webpack --mode production"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="string">"devDependencies"</span>:&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//依赖记录</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Git --- 概述篇</title>
    <url>/blog/2020/01/06/GITa/</url>
    <content><![CDATA[<h1 id="一、分布式版本控制工具"><a href="#一、分布式版本控制工具" class="headerlink" title="一、分布式版本控制工具"></a>一、分布式版本控制工具</h1><h2 id="（一）使用"><a href="#（一）使用" class="headerlink" title="（一）使用"></a>（一）使用</h2><h3 id="1-初始化本地仓库"><a href="#1-初始化本地仓库" class="headerlink" title="1.初始化本地仓库"></a>1.初始化本地仓库</h3><blockquote>
<p>git init</p>
</blockquote>
<h3 id="2-创建秘钥、查看、配置"><a href="#2-创建秘钥、查看、配置" class="headerlink" title="2.创建秘钥、查看、配置"></a>2.创建秘钥、查看、配置</h3><blockquote>
<p>ssh-keygen<br>cd ~/.ssh<br>ls</p>
</blockquote>
<ul>
<li>copy id_rsa.pub into gitHub/Settings/SSH and GPG keys/Key</li>
</ul>
<h3 id="3-关联远程仓库"><a href="#3-关联远程仓库" class="headerlink" title="3.关联远程仓库"></a>3.关联远程仓库</h3><blockquote>
<p>git remote add origin <a href="https://github.com/HuafuHub/myTest.git" target="_blank" rel="noopener">https://github.com/HuafuHub/myTest.git</a></p>
</blockquote>
<h3 id="4-拉取远程仓库"><a href="#4-拉取远程仓库" class="headerlink" title="4.拉取远程仓库"></a>4.拉取远程仓库</h3><blockquote>
<p>git pull –rebase origin master</p>
</blockquote>
<h1 id="二、常用命令"><a href="#二、常用命令" class="headerlink" title="二、常用命令"></a>二、常用命令</h1><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">mkdir dirname</td>
<td align="left">创建文件夹</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cd dirname</td>
<td align="left">进入文件夹</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git init</td>
<td align="left">创建版本库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">ls -ah</td>
<td align="left">查看隐藏文件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git config –list</td>
<td align="left">查看配置文件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git config –global user.name ‘huafu’</td>
<td align="left">配置用户名</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git config –global user.email ‘1030363645@qq.com’</td>
<td align="left">配置邮件地址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote add origin url</td>
<td align="left">关联远程仓库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote rename oldname newname</td>
<td align="left">重命名远程仓库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote -v</td>
<td align="left">查看远程仓库地址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">git remote</td>
<td align="left">查看远程仓库名</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git status</td>
<td align="left">查看文件状态</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git add <font color=red>file</td>
<td align="left">从工作区添加至暂存区</td>
<td align="left">单个文件</td>
</tr>
<tr>
<td align="left"><font color=green>git add <strong><font color=red>.</strong></td>
<td align="left">从工作区添加至暂存区</td>
<td align="left">整个当前目录的文件</td>
</tr>
<tr>
<td align="left"><font color=green>git commit <font color=red>-m ‘msg’</td>
<td align="left">从暂存区提交至本地仓库</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git branch <font color=red>name</td>
<td align="left">创建分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git branch -d <font color=red>name</td>
<td align="left">删除分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git checkout -b <font color=red>name</td>
<td align="left">创建并切换分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git checkout <font color=red>name</td>
<td align="left">切换分支</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><font color=green>git checkout <font color=red>– flie</td>
<td align="left">恢复到暂存区或本地仓库同步状态</td>
<td align="left"></td>
</tr>
</tbody></table>
<img src="./git.png">


]]></content>
  </entry>
  <entry>
    <title>NET --- 概述篇</title>
    <url>/blog/2020/01/05/NETa/</url>
    <content><![CDATA[<h1 id="一、网络起源"><a href="#一、网络起源" class="headerlink" title="一、网络起源"></a>一、网络起源</h1><ul>
<li>起源于1969年，加利福尼亚大学洛杉矶分校+斯坦福大学+加利福尼亚大学+犹他州大学</li>
<li>互联网：internet（因特网、英特网）， 网际网路</li>
<li>1989年，欧洲物理研究所：协议（格式）</li>
<li>WWW（World Wide Web）：万维网</li>
</ul>
<h1 id="二、计算机之父（冯诺依曼）"><a href="#二、计算机之父（冯诺依曼）" class="headerlink" title="二、计算机之父（冯诺依曼）"></a>二、计算机之父（冯诺依曼）</h1><ul>
<li>运算器： CPU、GPU</li>
<li>存储器： 内存、硬盘</li>
<li>控制器： 主板</li>
<li>输入设备： 键盘、鼠标、麦克风、网口</li>
<li>输出设备： 显示器、耳机、网口</li>
</ul>
<h1 id="三、IP地址"><a href="#三、IP地址" class="headerlink" title="三、IP地址"></a>三、IP地址</h1><h3 id="1-局域网"><a href="#1-局域网" class="headerlink" title="1.局域网"></a>1.局域网</h3><h3 id="2-公网"><a href="#2-公网" class="headerlink" title="2.公网"></a>2.公网</h3><h3 id="3-路由器"><a href="#3-路由器" class="headerlink" title="3.路由器"></a>3.路由器</h3><h3 id="4-IP地址格式"><a href="#4-IP地址格式" class="headerlink" title="4.IP地址格式"></a>4.IP地址格式</h3><ul>
<li>四段：xxx.xxx.xxx.xxx 每个段0-255</li>
<li>五类：A-E类<ul>
<li>A类：0.0.0.0 - 127.255.255.255</li>
<li>B类：128.0.0.0 - 191.255.255.255</li>
<li>C类：192.0.0.0 - 223.255.255.255<h3 id="5-域名与DNS解析"><a href="#5-域名与DNS解析" class="headerlink" title="5.域名与DNS解析"></a>5.域名与DNS解析</h3>==当向浏览器地址栏中输入一个Url按回车后，网络中都会发生什么？==<br>（1）看浏览器的缓存<br>（2）看本机host（C:windows/system32/drivers/etc/host）<ul>
<li>域名：localhost ==&gt;&gt; 127.0.0.1（本机）</li>
<li>域名：不认识 ==&gt;&gt; 0.0.0.0（默认打到本机）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>（3）家里的路由器<br>（4）上级路由、城市路由LDNS服务器<br>（5）继续向上级的DNS服务器找、GDNS服务器</p>
<h1 id="四、网络模型"><a href="#四、网络模型" class="headerlink" title="四、网络模型"></a>四、网络模型</h1><h2 id="（一）分类"><a href="#（一）分类" class="headerlink" title="（一）分类"></a>（一）分类</h2><h3 id="1-物理层"><a href="#1-物理层" class="headerlink" title="1.物理层"></a>1.物理层</h3><ul>
<li>高/低电平（二进制）<h3 id="2-数据链路层"><a href="#2-数据链路层" class="headerlink" title="2.数据链路层"></a>2.数据链路层</h3></li>
<li>mac地址<h3 id="3-网络层"><a href="#3-网络层" class="headerlink" title="3.网络层"></a>3.网络层</h3></li>
<li>IP协议<h3 id="4-运输层"><a href="#4-运输层" class="headerlink" title="4.运输层"></a>4.运输层</h3></li>
<li>TCP协议</li>
<li>UDP协议<h3 id="5-应用层"><a href="#5-应用层" class="headerlink" title="5.应用层"></a>5.应用层</h3><ul>
<li>DNS协议</li>
<li>HTTP协议</li>
</ul>
</li>
</ul>
<h2 id="（二）HTTP协议"><a href="#（二）HTTP协议" class="headerlink" title="（二）HTTP协议"></a>（二）HTTP协议</h2><h3 id="1-请求Request"><a href="#1-请求Request" class="headerlink" title="1.请求Request"></a>1.请求Request</h3><ul>
<li>请求头</li>
<li>数据体</li>
<li>第一行：请求方式 URL 协议版本</li>
</ul>
<h4 id="1-GET请求"><a href="#1-GET请求" class="headerlink" title="1) GET请求"></a>1) GET请求</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET &#x2F; HTTP&#x2F;1.1</span></pre></td></tr><tr><td class="code"><pre><span class="line">Host: www.baidu.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">Connection: keep-alive</span></pre></td></tr><tr><td class="code"><pre><span class="line">Upgrade-Insecure-Requests: 1</span></pre></td></tr><tr><td class="code"><pre><span class="line">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;77.0.3865.90 Safari&#x2F;537.36</span></pre></td></tr><tr><td class="code"><pre><span class="line">Sec-Fetch-Mode: navigate</span></pre></td></tr><tr><td class="code"><pre><span class="line">Sec-Fetch-User: ?1</span></pre></td></tr><tr><td class="code"><pre><span class="line">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3</span></pre></td></tr><tr><td class="code"><pre><span class="line">Sec-Fetch-Site: none</span></pre></td></tr><tr><td class="code"><pre><span class="line">Accept-Encoding: gzip, deflate, br</span></pre></td></tr><tr><td class="code"><pre><span class="line">Accept-Language: zh-CN,zh;q&#x3D;0.9</span></pre></td></tr><tr><td class="code"><pre><span class="line">Cookie:</span></pre></td></tr></table></figure>
<ul>
<li>GET /path?==数据信息== HTTP1.1</li>
<li>Host: <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>Connection: keep-alive</li>
<li>User-Agent: </li>
</ul>
<h4 id="2-POST请求"><a href="#2-POST请求" class="headerlink" title="2) POST请求"></a>2) POST请求</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:authority: ratewrite.tmall.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">:method: POST</span></pre></td></tr><tr><td class="code"><pre><span class="line">:path: &#x2F;rateWriteResult.htm</span></pre></td></tr><tr><td class="code"><pre><span class="line">:scheme: https</span></pre></td></tr><tr><td class="code"><pre><span class="line">accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3</span></pre></td></tr><tr><td class="code"><pre><span class="line">accept-encoding: gzip, deflate, br</span></pre></td></tr><tr><td class="code"><pre><span class="line">accept-language: zh-CN,zh;q&#x3D;0.9</span></pre></td></tr><tr><td class="code"><pre><span class="line">cache-control: max-age&#x3D;0</span></pre></td></tr><tr><td class="code"><pre><span class="line">content-length: 2351</span></pre></td></tr><tr><td class="code"><pre><span class="line">content-type: application&#x2F;x-www-form-urlencoded</span></pre></td></tr><tr><td class="code"><pre><span class="line">cookie: </span></pre></td></tr><tr><td class="code"><pre><span class="line">origin: https:&#x2F;&#x2F;ratewrite.tmall.com</span></pre></td></tr><tr><td class="code"><pre><span class="line">referer: https:&#x2F;&#x2F;ratewrite.tmall.com&#x2F;rate_detail.htm?trade_id&#x3D;697224451467453543</span></pre></td></tr><tr><td class="code"><pre><span class="line">sec-fetch-mode: nested-navigate</span></pre></td></tr><tr><td class="code"><pre><span class="line">sec-fetch-site: same-origin</span></pre></td></tr><tr><td class="code"><pre><span class="line">sec-fetch-user: ?1</span></pre></td></tr><tr><td class="code"><pre><span class="line">upgrade-insecure-requests: 1</span></pre></td></tr><tr><td class="code"><pre><span class="line">user-agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;77.0.3865.90 Safari&#x2F;537.36</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">callback: RateWriteCallback401</span></pre></td></tr><tr><td class="code"><pre><span class="line">qualityContent697224451467453543: 效果并没有描述那么好，功能也是</span></pre></td></tr><tr><td class="code"><pre><span class="line">serviceContent697224451467453543: 服务不错</span></pre></td></tr></table></figure>
<ul>
<li>POST /path HTTP1.1</li>
<li>Host: <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>Connection: keep-alive</li>
<li>User-Agent: </li>
<li></li>
<li>==数据信息==</li>
</ul>
<h3 id="2-响应Response"><a href="#2-响应Response" class="headerlink" title="2.响应Response"></a>2.响应Response</h3><ul>
<li>响应头</li>
<li>数据体</li>
<li>第一行：协议版本 状态码 massage</li>
</ul>
<h3 id="3-GET-与-POST的区别？"><a href="#3-GET-与-POST的区别？" class="headerlink" title="3.GET 与 POST的区别？"></a>3.GET 与 POST的区别？</h3><ul>
<li>没有基于什么前提，不使用任何规范，只考虑语法和理论上的HTTP协议：没有区别，只是名字不一样</li>
<li>基于RFC规范：<ul>
<li>理论上： GET和POST具有相同的语法，不同的语义，GET用于获取数据，POST用于发送数据</li>
<li>实现上：各浏览器是规范的实现者，才有常见的不同<ul>
<li>GET的数据在url中可见（url不一定显示在地址栏中），POST请求不显示在url中</li>
<li>GET对数据长度有限制，POST对数据长度没有限制</li>
<li>GET请求的数据可以收藏为书签，POST不可收藏为书签</li>
<li>GET请求的后、按后退按钮、刷新按钮无影响，POST则会被重新提交</li>
<li>GET编码类型：application/x-www-form-url,POST编码类型有很多种</li>
<li>GET只允许ASCII，POST没有编码限制、允许发送二进制数据</li>
<li>GET历史参数会被保留在浏览器里，POST不会存在浏览器中</li>
<li>GET与POST相比，安全性较差，应为数据会展示在url中</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h1 id="五、浏览器缓存"><a href="#五、浏览器缓存" class="headerlink" title="五、浏览器缓存"></a>五、浏览器缓存</h1><h2 id="（一）Cookies"><a href="#（一）Cookies" class="headerlink" title="（一）Cookies"></a>（一）Cookies</h2><h3 id="1-特点"><a href="#1-特点" class="headerlink" title="1.特点"></a>1.特点</h3><ul>
<li>Cookie是有限制的</li>
<li>Cookie是存在浏览器里的，不是存在某个页面上</li>
<li>Cookie是可以长期存储的</li>
<li>Cookie是存在不同域名下的<h3 id="2-缺陷"><a href="#2-缺陷" class="headerlink" title="2.缺陷"></a>2.缺陷</h3></li>
<li>浏览器里的Cookie容易被复制，不安全</li>
</ul>
<h2 id="（二）Session"><a href="#（二）Session" class="headerlink" title="（二）Session"></a>（二）Session</h2><h3 id="1-特点-1"><a href="#1-特点-1" class="headerlink" title="1.特点"></a>1.特点</h3><ul>
<li>Session是存在服务器里的</li>
<li>服务器里的Session相对安全</li>
</ul>
<h3 id="2-缺陷-1"><a href="#2-缺陷-1" class="headerlink" title="2.缺陷"></a>2.缺陷</h3><ul>
<li>用户量比较大的话，服务器很耗费资源</li>
<li>服务器不止一台，Session一般只会存在某台服务器上，反向代理需要轮询</li>
</ul>
<h1 id="六、本地服务器"><a href="#六、本地服务器" class="headerlink" title="六、本地服务器"></a>六、本地服务器</h1><h2 id="（一）结构"><a href="#（一）结构" class="headerlink" title="（一）结构"></a>（一）结构</h2><h3 id="1-CS结构"><a href="#1-CS结构" class="headerlink" title="1.CS结构"></a>1.CS结构</h3><ul>
<li>（Client负责展示内容，Server负责提供内容）<h3 id="2-BS结构"><a href="#2-BS结构" class="headerlink" title="2.BS结构"></a>2.BS结构</h3></li>
<li>（Browser负责展示内容，Server负责提供内容）</li>
<li>页面的本质就是一个带有HTML格式的字符串</li>
</ul>
<h2 id="（二）服务器"><a href="#（二）服务器" class="headerlink" title="（二）服务器"></a>（二）服务器</h2><ul>
<li>严格的说，服务器是一台计算机， 这台计算机只提供服务（不是用户用的）</li>
<li>常说的服务器是服务容器（一个程序），不是服务器<ul>
<li>程序可以监听一个端口</li>
<li>读取文件并且返回</li>
</ul>
</li>
</ul>
<h1 id="七、网络请求"><a href="#七、网络请求" class="headerlink" title="七、网络请求"></a>七、网络请求</h1><h2 id="（一）发送请求的方式"><a href="#（一）发送请求的方式" class="headerlink" title="（一）发送请求的方式"></a>（一）发送请求的方式</h2><ul>
<li>地址栏输入网址url;（==无法用代码控制==）</li>
<li>location.href = “url”; 可以发出网络请求，但页面会发生跳转（==页面会跳转==）</li>
<li>带有src属性的标签，可以发送请求，服务端是可以处理的，返回的数据能否应用，取决于浏览器（==页面无法处理数据==）</li>
<li>带有href属性的标签，可以发送请求，服务端是可以处理的，返回的数据能否应用，取决于浏览器（==页面无法处理数据==）</li>
<li>带有action属性的标签，可以发出网络请求，但页面会发生跳转（==页面会跳转==）</li>
<li><strong>ajax请求</strong></li>
</ul>
<h2 id="（二）Ajax"><a href="#（二）Ajax" class="headerlink" title="（二）Ajax"></a>（二）Ajax</h2><ul>
<li>请求方式</li>
<li>请求地址url</li>
<li>数据<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="built_in">window</span>.XMLHttpRequest ? <span class="keyword">new</span> XMLHttpRequest() : <span class="keyword">new</span> ActiveObject(<span class="string">"Microsoft.XMLHttp"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(xhr.readyState); <span class="comment">//0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">xhr.open(<span class="string">"GET"</span>, <span class="string">"http://developer.duyiedu.com/edu/testAjaxCrossOrigin"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(xhr.readyState); <span class="comment">//1</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(xhr.readyState); <span class="comment">//2 3 4</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    oP.innerText = <span class="built_in">JSON</span>.parse(xhr.responseText).msg; <span class="comment">//数据</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">xhr.send();</span></pre></td></tr></table></figure></li>
<li>==先绑定事件，再发送==</li>
<li>open(type, url, sync, )<ul>
<li>type请求方式</li>
<li>url请求地址</li>
<li>sync默认true异步</li>
</ul>
</li>
</ul>
<h2 id="（三）跨域"><a href="#（三）跨域" class="headerlink" title="（三）跨域"></a>（三）跨域</h2><h3 id="1-哪些资源允许跨域请求？"><a href="#1-哪些资源允许跨域请求？" class="headerlink" title="1.哪些资源允许跨域请求？"></a>1.哪些资源允许跨域请求？</h3><ul>
<li>js、css、图片</li>
<li>src属性的资源</li>
<li>href属性的大部分资源</li>
</ul>
<h3 id="2-哪些资源不允许跨域请求？"><a href="#2-哪些资源不允许跨域请求？" class="headerlink" title="2.哪些资源不允许跨域请求？"></a>2.哪些资源不允许跨域请求？</h3><ul>
<li>后端接口的数据</li>
<li>其它域的Cookie</li>
<li>其它域的缓存</li>
</ul>
<h3 id="3-怎么样算跨域？"><a href="#3-怎么样算跨域？" class="headerlink" title="3.怎么样算跨域？"></a>3.怎么样算跨域？</h3><ul>
<li>页面本身：有协议、域名、端口（默认端口号80）</li>
<li>请求数据：<a href="http://www.baidu.com:80" target="_blank" rel="noopener">http://www.baidu.com:80</a></li>
<li>协议、域名、端口有任何一个不一样就算跨域</li>
</ul>
<h3 id="4-跨域发生在哪个阶段？"><a href="#4-跨域发生在哪个阶段？" class="headerlink" title="4.跨域发生在哪个阶段？"></a>4.跨域发生在哪个阶段？</h3><ul>
<li>即使跨域了，请求也可以发出的</li>
<li>服务器可以正常接收的</li>
<li>服务器可以正常处理的</li>
<li>服务器可以正常返回数据的</li>
<li>浏览器可以正常接收数据的</li>
<li>我们的代码在等待结果，当应为浏览器判定跨域了，不会把结果传递给代码</li>
</ul>
<h3 id="5-虽然跨域了，我们依然需要这个数据怎么办？"><a href="#5-虽然跨域了，我们依然需要这个数据怎么办？" class="headerlink" title="5.虽然跨域了，我们依然需要这个数据怎么办？"></a>5.虽然跨域了，我们依然需要这个数据怎么办？</h3><h4 id="1）-后端配合进行跨域"><a href="#1）-后端配合进行跨域" class="headerlink" title="1） 后端配合进行跨域"></a>1） 后端配合进行跨域</h4><ul>
<li>JSONP（JSON格式的数据）</li>
<li>后端设置Access-Control-Allow-Origin属性支持跨域</li>
</ul>
<h4 id="2）-后端不配合进行跨域"><a href="#2）-后端不配合进行跨域" class="headerlink" title="2） 后端不配合进行跨域"></a>2） 后端不配合进行跨域</h4><ul>
<li>iframe（只能显示，不能控制）</li>
<li>通过自己的后端代理</li>
</ul>
<h3 id="6-JSONP跨域"><a href="#6-JSONP跨域" class="headerlink" title="6.JSONP跨域"></a>6.JSONP跨域</h3><ul>
<li>只能使用GET方式（jQuery中使用POST会自动转为GET）</li>
<li>jQuery有判断是否同源的机制，如果同源则正常发送ajax，如果不同源则使用GET方式</li>
<li>src属性的资源不受跨域限制</li>
<li>script标签请求的资源会当做js代码执行</li>
<li><strong>jQuery中JSONP原理</strong><ul>
<li>判断请求与当前页面是否同源，如果同源则正常发送ajax，就不存在跨域</li>
<li>如果不同源，则生成一个script标签</li>
<li>生成一个随机的callback名字</li>
<li>设置script标签的src设置为请求的接口</li>
<li>将callback作为参数拼接在url后面</li>
<li>后端接收到请求后，开始准备要返回的数据</li>
<li>后端拼接数据</li>
<li>将内容返回</li>
<li>浏览器接收到内容当做js代码执行</li>
<li>相当于执行了callback将数据作为参数传递了进去<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myJSONP</span>(<span class="params">obj</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> url = obj.url.toLowerCase();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> type = obj.type.toLowerCase();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> dataType = obj.dataType.toLowerCase();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//判断是否同源</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> targetProtocol = <span class="string">""</span>;<span class="comment">//协议</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> targetHost = <span class="string">""</span>;<span class="comment">//域名与端口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//判断请求是绝对路径还是相对路径，如果是相对路径则一定是同源</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">if</span>(url.includes(<span class="string">"http://"</span>) || url.includes(<span class="string">"https://"</span>))&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> targetUrl = <span class="keyword">new</span> URL(url);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    targetProtocol = targetUrl.protocol;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    targetHost = targetUrl.host;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    targetProtocol = location.protocol;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    targetHost = location.host;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//判断是否为jsonp, 如果不是则正常发送ajax</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">if</span>(dataType === <span class="string">"jsonp"</span>)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//判断是否同源，如果同源就不用跨域</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span>(location.protocol === targetProtocol &amp;&amp; location.host === targetHost)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//正常ajax请求</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//jsonp跨域</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//生成一个script标签</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//生成一个随机的callback名</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">var</span> callback = <span class="string">"cb"</span> + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">1000000</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">window</span>[callback] = obj.success;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">//设置script标签的src属性为请求的接口</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span>(url.includes(<span class="string">"?"</span>))&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        script.src = url + <span class="string">"&amp;callback="</span> + callback;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        script.src = url + <span class="string">"?callback="</span> + callback;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">document</span>.head.appendChild(script);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">myJSONP(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  url: <span class="string">"http://developer.duyiedu.com/edu/testJsonp"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  type: <span class="string">"get"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  dataType: <span class="string">"jsonp"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(data)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>jQuery --- 应用篇</title>
    <url>/blog/2020/01/04/JQUERYa-0/</url>
    <content><![CDATA[<h1 id="一、"><a href="#一、" class="headerlink" title="一、$()"></a>一、$()</h1><h3 id="1-css-selector"><a href="#1-css-selector" class="headerlink" title="1.$(css selector)"></a>1.$(css selector)</h3><ul>
<li>字符串</li>
<li>css 选择器</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="string">".wrapper ul li"</span>);</span></pre></td></tr></table></figure>

<h3 id="2-jQuery-selector"><a href="#2-jQuery-selector" class="headerlink" title="2.$(jQuery selector)"></a>2.$(jQuery selector)</h3><ul>
<li>字符串</li>
<li>jQuery 特有选择器</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="string">".wrapper ul li.eq(-1)"</span>);</span></pre></td></tr></table></figure>

<h3 id="3-data"><a href="#3-data" class="headerlink" title="3.$(data)"></a>3.$(data)</h3><ul>
<li>任意形式的数据</li>
<li>容错</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="literal">undefined</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$(<span class="literal">null</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$(<span class="string">""</span>);</span></pre></td></tr></table></figure>

<h3 id="4-DOM"><a href="#4-DOM" class="headerlink" title="4.$(DOM)"></a>4.$(DOM)</h3><ul>
<li>原生 dom</li>
<li>包装</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="keyword">this</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$(div);</span></pre></td></tr></table></figure>

<h3 id="5-fn"><a href="#5-fn" class="headerlink" title="5.$(fn)"></a>5.$(fn)</h3><ul>
<li>函数</li>
<li>DOMContentLoaded 事件</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).read(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span></pre></td></tr></table></figure>

<h3 id="6-selectorSon-selectorFather"><a href="#6-selectorSon-selectorFather" class="headerlink" title="6.$(selectorSon, selectorFather)"></a>6.$(selectorSon, selectorFather)</h3><ul>
<li>限制选择</li>
<li>选择上下文</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="string">".wrapper ul"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$(<span class="string">"ul"</span>, <span class="string">".wrapper"</span>);</span></pre></td></tr></table></figure>

<hr>
<h1 id="二、选择"><a href="#二、选择" class="headerlink" title="二、选择"></a>二、选择</h1><h2 id="（一）选择器"><a href="#（一）选择器" class="headerlink" title="（一）选择器"></a>（一）选择器</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$(“*“)</td>
<td align="left">所有元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“#lastname”)</td>
<td align="left">id=”lastname” 的元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“p”)</td>
<td align="left">所有 &lt;p&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“p:first”)</td>
<td align="left">第一个 &lt;p&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“p:last”)</td>
<td align="left">最后一个 &lt;p&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“tr:even”)</td>
<td align="left">所有偶数 &lt;tr&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“tr:odd”)</td>
<td align="left">所有奇数 &lt;tr&gt; 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“ul li:eq(3)”)</td>
<td align="left">列表中的第四个元素（index 从 0 开始）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“ul li:gt(3)”)</td>
<td align="left">列出 index 大于 3 的元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“ul li:lt(3)”)</td>
<td align="left">列出 index 小于 3 的元素</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h2 id="（二）筛选器"><a href="#（二）筛选器" class="headerlink" title="（二）筛选器"></a>（二）筛选器</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().get(index)</td>
<td align="left">第 index 元素（正数、负数、空）</td>
<td align="center">原生 DOM</td>
</tr>
<tr>
<td align="left">$().eq(index)</td>
<td align="left">第 index 元素（正数、负数、空）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().find(selector)</td>
<td align="left">限定选择</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().filter(selector)</td>
<td align="left">过滤选择(fn/true)</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().not(selector)</td>
<td align="left">过滤选择(fn/false)</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“li”).has(“p”)</td>
<td align="left">选中后代中包含 P 元素的 li 元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“.demo”).is(“p”)</td>
<td align="left">所有 class=”demo”的元素中是否有 p 元素</td>
<td align="center">boolean</td>
</tr>
</tbody></table>
<h2 id="（三）集合与回退"><a href="#（三）集合与回退" class="headerlink" title="（三）集合与回退"></a>（三）集合与回退</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().add(selector)</td>
<td align="left">集合</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().end()</td>
<td align="left">回退</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<hr>
<h1 id="三、操作"><a href="#三、操作" class="headerlink" title="三、操作"></a>三、操作</h1><h2 id="（一）操作内容"><a href="#（一）操作内容" class="headerlink" title="（一）操作内容"></a>（一）操作内容</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().html(string | ==fn==)</td>
<td align="left">HTML 内容(==特殊：只取第一个，设置全部==)</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$().text(string | ==fn==)</td>
<td align="left">文本内容(==取全部，设置全部==)</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$().val(string | ==fn==)</td>
<td align="left">表单内容(==特殊：只取第一个，设置全部==）</td>
<td align="center">string</td>
</tr>
</tbody></table>
<h2 id="（二）操作样式"><a href="#（二）操作样式" class="headerlink" title="（二）操作样式"></a>（二）操作样式</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().css(obj)</td>
<td align="left">获取或设置 css 样式（==可计算==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().addClass(string | ==fn==)</td>
<td align="left">添加一个或多个 class</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().removeClass(string | ==fn==)</td>
<td align="left">移除一个或多个 class</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().hasClass(string)</td>
<td align="left">检测 class</td>
<td align="center">boolean</td>
</tr>
</tbody></table>
<h2 id="（三）操作属性"><a href="#（三）操作属性" class="headerlink" title="（三）操作属性"></a>（三）操作属性</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().attr()</td>
<td align="left">获取或设置属性值（自定义属性）==基于 setAttribute、getAttribute==</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$().prop()</td>
<td align="left">获取或设置特性值，==基于原生 DOM，特性映射，非特性不映射==</td>
<td align="center">string</td>
</tr>
</tbody></table>
<h2 id="（四）操作结构"><a href="#（四）操作结构" class="headerlink" title="（四）操作结构"></a>（四）操作结构</h2><h3 id="1-增（复制操作）"><a href="#1-增（复制操作）" class="headerlink" title="1.增（复制操作）"></a>1.增（复制操作）</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$(==HTML==)</td>
<td align="left">创建元素（HTML 字符串）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().wrap(==HTML | jQuery | selector | DOM | fn==)</td>
<td align="left">创建父元素包裹选中元素,每一个单独包裹</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().wrapAll(==HTML | jQuery | selector | DOM | fn==)</td>
<td align="left">创建父元素包裹所有选中元素,统一包裹</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().wrapInner(==HTML | jQuery | selector | DOM | fn==)</td>
<td align="left">创建子元素包裹所有子元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().clone(boolean)</td>
<td align="left">克隆元素（true 深度克隆）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().data(data)</td>
<td align="left">存储或获取数据</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="2-删（剪切操作）"><a href="#2-删（剪切操作）" class="headerlink" title="2.删（剪切操作）"></a>2.删（剪切操作）</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().empty()</td>
<td align="left">清空子元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().remove()</td>
<td align="left">删除自身</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().detach()</td>
<td align="left">删除自身（包含数据）</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="3-改（剪切操作）"><a href="#3-改（剪切操作）" class="headerlink" title="3.改（剪切操作）"></a>3.改（剪切操作）</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$(“A”).insertBefore(selectorB)</td>
<td align="left">把 A 插入到 B 之前</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).before(jQuery(A))</td>
<td align="left">在 B 之前插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“A”).insertAfter(selectorB)</td>
<td align="left">把 A 插入到 B 之后</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).after(jQuery(A))</td>
<td align="left">在 B 之后插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“A”).appendTo(selectorB)</td>
<td align="left">把 A 插入到 B 中最后子元素的位置</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).append(jQuery(A))</td>
<td align="left">在 B 中最后子元素的位置插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“A”).prependTo(selectorB)</td>
<td align="left">把 A 插入到 B 中第一子元素的位置</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$(“B”).prepend(jQuery(A))</td>
<td align="left">在 B 中第一子元素的位置插入 A</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="4-查"><a href="#4-查" class="headerlink" title="4.查"></a>4.查</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().siblings(selector)</td>
<td align="left">所有符合限定的兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().next(selector)</td>
<td align="left">下一个并且符合限定的兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().prev(selector)</td>
<td align="left">上一个并且符合限定的兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().nextAll(selector)</td>
<td align="left">之后并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().prevAll(selector)</td>
<td align="left">之前并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().nextUntil(label，selector)</td>
<td align="left">之后到标注为止并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().prevUntil(label，selector)</td>
<td align="left">之前到标注为止并且符合限定的所有兄弟元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().parent(selector)</td>
<td align="left">符合限定的父元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().parents(selector)</td>
<td align="left">符合限定的所有祖先元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().closest(selector)</td>
<td align="left">符合限定的最近祖先元素（==包括自身==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().offsetParent(selector)</td>
<td align="left">符合限定的最近定位祖先元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().children(selector)</td>
<td align="left">符合限定的子元素</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().index(selector)</td>
<td align="left">在符合限定的兄弟元素中的索引==不存在返回-1==</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().slice(start, end)</td>
<td align="left">截取范围内的元素（包含 start, 不包含 end）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().each(fn(index, dom){})</td>
<td align="left">遍历</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<hr>
<h2 id="（五）操作位置"><a href="#（五）操作位置" class="headerlink" title="（五）操作位置"></a>（五）操作位置</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().offset()</td>
<td align="left">获取/设置距离文档的距离{left, top}==不考虑定位父级==</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$().position()</td>
<td align="left">获取距定位父级的距离{left, top}==不支持设置==</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$().scrollLeft(==number==)</td>
<td align="left">获取/设置横向滚动条的距离</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().scrollTop(==number==)</td>
<td align="left">获取/设置纵向滚动条的距离</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().width()</td>
<td align="left">获取内容盒宽度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().height()</td>
<td align="left">获取内容盒高度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().innerWidth()</td>
<td align="left">获取填充盒宽度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().innerHeight()</td>
<td align="left">获取填充盒高度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerWidth()</td>
<td align="left">获取边框盒宽度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerHeight()</td>
<td align="left">获取边框盒高度</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerWidth(==true==)</td>
<td align="left">获取占用宽度（包含 margin）</td>
<td align="center">number</td>
</tr>
<tr>
<td align="left">$().outerHeight(==true==)</td>
<td align="left">获取占用高度（包含 margin）</td>
<td align="center">number</td>
</tr>
</tbody></table>
<hr>
<h1 id="四、事件"><a href="#四、事件" class="headerlink" title="四、事件"></a>四、事件</h1><h3 id="1-事件处理"><a href="#1-事件处理" class="headerlink" title="1.事件处理"></a>1.事件处理</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().type(fn)</td>
<td align="left">绑定系统事件</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().on(type, selector, data, fn)</td>
<td align="left">绑定系统事件、自定义事件</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().one(type, selector, data, fn)</td>
<td align="left">绑定系统事件、自定义事件（==只执行一次==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().off(type, fn)</td>
<td align="left">解绑系统事件、自定义事件（==需与绑定时对应==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().trigger(type, arr)</td>
<td align="left">触发系统事件、自定义事件（==参数为数组形式==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().hover(fn, fn)</td>
<td align="left">hover 事件（==鼠标移入移出==）</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="2-事件对象（兼容）"><a href="#2-事件对象（兼容）" class="headerlink" title="2.事件对象（兼容）"></a>2.事件对象（兼容）</h3><ul>
<li>e.pageX/Y</li>
<li>e.clientX/Y</li>
<li>e.which</li>
<li>e.button</li>
<li>e.preventDefault() 阻止默认事件</li>
<li>e.stopPropagation() 阻止冒泡</li>
<li>return false 阻止事件冒泡和默认事件</li>
</ul>
<hr>
<h1 id="五、动画"><a href="#五、动画" class="headerlink" title="五、动画"></a>五、动画</h1><h3 id="1-动画-API"><a href="#1-动画-API" class="headerlink" title="1.动画 API"></a>1.动画 API</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().show(speed, easing, callback)</td>
<td align="left">显示（==宽高、透明度==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().hide(speed, easing, callback)</td>
<td align="left">隐藏</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().toggle(speed, easing, callback)</td>
<td align="left">显示/隐藏</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeIn(speed, easing, callback)</td>
<td align="left">淡入（==针对 opacity==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeOut(speed, easing, callback)</td>
<td align="left">淡出</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeToggle(speed, easing, callback)</td>
<td align="left">淡入/淡出</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().fadeTo(speed, target, easing, callback)</td>
<td align="left">淡到 target 值</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().slideDown(speed, easing, callback)</td>
<td align="left">下拉（==针对高度==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().slideUp(speed, easing, callback)</td>
<td align="left">上拉</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().slideToggle(speed, easing, callback)</td>
<td align="left">下拉/上拉</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().animate(target, speed, easing, callback)</td>
<td align="left">动画（==综合运动==）</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().stop()</td>
<td align="left">停止当前动画，进行下段动画</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().stop(true)</td>
<td align="left">停止所有动画</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().stop(true, true)</td>
<td align="left">停止当前动画，并瞬间到达当前动画目标点</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().finish()</td>
<td align="left">直接到达最后动画目标点</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().delay(speed)</td>
<td align="left">用于动画之间，让一段动画结束后延迟一段时间在进行下段动画</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">jQuery.fx.off = true/false</td>
<td align="left">关闭动画过渡效果，直接到达每段目标点</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<h3 id="2-动画队列"><a href="#2-动画队列" class="headerlink" title="2.动画队列"></a>2.动画队列</h3><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$().queue(name, data)</td>
<td align="left">入队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().queue(name)</td>
<td align="left">查队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().dequeue(name)</td>
<td align="left">单一出队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().queue(name, fn(next){next()})</td>
<td align="left">依次出队</td>
<td align="center">jQuery 对象</td>
</tr>
<tr>
<td align="left">$().clearQueue(name)</td>
<td align="left">清空队列</td>
<td align="center">jQuery 对象</td>
</tr>
</tbody></table>
<hr>
<h1 id="六、工具"><a href="#六、工具" class="headerlink" title="六、工具"></a>六、工具</h1><h2 id="（一）常用工具"><a href="#（一）常用工具" class="headerlink" title="（一）常用工具"></a>（一）常用工具</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$.type()</td>
<td align="left">类型判断</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$.isArray()</td>
<td align="left">数组判断</td>
<td align="center">boolean</td>
</tr>
<tr>
<td align="left">$.isFunction()</td>
<td align="left">函数判断</td>
<td align="center">boolean</td>
</tr>
<tr>
<td align="left">$.trim()</td>
<td align="left">去除两端空格</td>
<td align="center">string</td>
</tr>
<tr>
<td align="left">$.proxy(fn, target)</td>
<td align="left">改变 this 指向</td>
<td align="center">function</td>
</tr>
<tr>
<td align="left">var $c = $.noConflict()</td>
<td align="left">防止冲突</td>
<td align="center">function</td>
</tr>
<tr>
<td align="left">$.each(arr, function(index, ele){})</td>
<td align="left">遍历</td>
<td align="center">array</td>
</tr>
<tr>
<td align="left">$.map(arr, function(index, ele){})</td>
<td align="left">遍历</td>
<td align="center">array</td>
</tr>
<tr>
<td align="left">$.parseJSON(string)</td>
<td align="left">解析 JSON</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$.makeArray()</td>
<td align="left">类数组转换</td>
<td align="center">object</td>
</tr>
</tbody></table>
<h2 id="（二）拓展工具"><a href="#（二）拓展工具" class="headerlink" title="（二）拓展工具"></a>（二）拓展工具</h2><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">含义</th>
<th align="center">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$.extend(object)</td>
<td align="left">拓展静态方法</td>
<td align="center">object</td>
</tr>
<tr>
<td align="left">$.fn.extend(object)</td>
<td align="left">拓展实例方法</td>
<td align="center">object</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.extend(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//随机数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  getRandom: <span class="function"><span class="keyword">function</span>(<span class="params">min, max</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (min &amp;&amp; max) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.random() * (max - min) + min;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$.getRandom(<span class="number">5</span>, <span class="number">10</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//拖拽</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">$.fn.extend(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  drag: <span class="function"><span class="keyword">function</span>(<span class="params">dom</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> disX, disY;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    $(<span class="keyword">this</span>).on(<span class="string">"mousedown"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">"drag"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      disX = e.pageX - $(<span class="keyword">this</span>).offset().left;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      disY = e.pageY - $(<span class="keyword">this</span>).offset().top;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      $(<span class="built_in">document</span>).on(<span class="string">"mousemove"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        self.css(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          left: e.pageX - disX,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          top: e.pageY - disY,</span></pre></td></tr><tr><td class="code"><pre><span class="line">          cursor: <span class="string">"move"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      $(<span class="built_in">document</span>).on(<span class="string">"mouseup"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        $(<span class="built_in">document</span>).off(<span class="string">"mousemove"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        $(<span class="built_in">document</span>).off(<span class="string">"mouseup"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">$(<span class="string">".demo"</span>).drag();</span></pre></td></tr></table></figure>

<h2 id="（三）网络工具"><a href="#（三）网络工具" class="headerlink" title="（三）网络工具"></a>（三）网络工具</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.ajax(&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//请求地址</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  url: <span class="string">""</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//请求方式</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  type: <span class="string">"GET"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//设置上下文</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  context：$(),</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//允许请求时长</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  timeout: <span class="number">1000</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//异步请求（默认异步）</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">async</span>: <span class="literal">true</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//跨域</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  dataType: <span class="string">"jsonp"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//成功回调 res数据包&#123;code状态码 msg状态 data数据&#125; </span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;&#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//失败回调 err错误对象&#123;status状态 statusText提示&#125; </span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  error: <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;&#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//完成回调（最后执行）</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  complete: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<h2 id="（四）回调机制"><a href="#（四）回调机制" class="headerlink" title="（四）回调机制"></a>（四）回调机制</h2><h3 id="1-回调Callback"><a href="#1-回调Callback" class="headerlink" title="1.回调Callback"></a>1.回调Callback</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cb = $.Callback(param);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//添加</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">cb.add(fn(x,y)&#123;&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//执行</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">cb.fire(x,y)</span></pre></td></tr></table></figure>
<ul>
<li>param ==&gt;&gt; “once” 执行一次就好</li>
<li>param ==&gt;&gt; “memory” 记忆功能（后加的也可执行）</li>
<li>param ==&gt;&gt; “unique” 去重功能（一样的功能只添加一个）</li>
<li>param ==&gt;&gt; “stopFalse” 间断功能（遇到返回false，后续函数就不在执行）</li>
</ul>
<h3 id="2-状态Deferred"><a href="#2-状态Deferred" class="headerlink" title="2.状态Deferred"></a>2.状态Deferred</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> df= $.Deferred();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//注册成功的回调函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.done(fn)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//成功调用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.resolve()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//注册失败的回调函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.fail(fn)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//失败调用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.reject()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//注册机进行时的回调函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.progress(fn)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//进行时调用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.notify()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//严格延迟对象，只能注册，不能调用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.promise()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//简化注册</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.then(doneFn, failFn, progressFn)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//接力拓展</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">df.then(doneFn()&#123;<span class="keyword">return</span> data&#125;, failFn, progressFn).then(doneFn(data)&#123;use data&#125;)</span></pre></td></tr></table></figure>

<h3 id="3-when"><a href="#3-when" class="headerlink" title="3.when"></a>3.when</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> df1 = $.Deferred();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> df2 = $.Deferred();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> df3 = $.Deferred();</span></pre></td></tr><tr><td class="code"><pre><span class="line">when(df1(), df2(), df3()).then(resolveFn, rejectFn, notifyFn)</span></pre></td></tr></table></figure>
<ul>
<li>when里执行的所有结果为resolve才执行resolveFn</li>
<li>when里执行的所有结果为reject才执行rejectFn</li>
<li>否则就执行notifyFn</li>
</ul>
<hr>
]]></content>
  </entry>
  <entry>
    <title>ES6 --- 应用篇</title>
    <url>/blog/2020/01/03/ES6a/</url>
    <content><![CDATA[<h1 id="一、工具-babel-优雅降级"><a href="#一、工具-babel-优雅降级" class="headerlink" title="一、工具 babel 优雅降级"></a>一、工具 babel 优雅降级</h1><ul>
<li>npm init -y</li>
<li>npm install @babel/core</li>
<li>npm install @babel/preset-env</li>
<li>npm install @babel/cli</li>
<li>create .babelrc</li>
<li>npx babel origin -o target</li>
<li>npx babel origin -o target –watch</li>
</ul>
<h1 id="二、变量声明"><a href="#二、变量声明" class="headerlink" title="二、变量声明"></a>二、变量声明</h1><h3 id="1-var-特点"><a href="#1-var-特点" class="headerlink" title="1.var 特点"></a>1.var 特点</h3><ul>
<li>变量会声明提升，允许先使用后声明</li>
<li>语法松散，重复声明变量不会报错，会覆盖</li>
<li>全局变量会挂载 window</li>
<li>函数局部作用域容易产生闭包</li>
</ul>
<h3 id="2-let-特点"><a href="#2-let-特点" class="headerlink" title="2.let 特点"></a>2.let 特点</h3><ul>
<li>不会变量声明提升，需先声明后使用</li>
<li>不得重复声明</li>
<li>不会挂载全局 window 属性</li>
<li>与大括号{}配合使用形成块级作用域<br><strong>临时死区</strong></li>
<li>称霸当前块级作用域（只要有就必须使用当前块内的变量）</li>
<li>而且声明之前不允许使用，也不使用外部同名变量</li>
<li>具有识别块级作用域的能力</li>
</ul>
<h3 id="3-const-特点"><a href="#3-const-特点" class="headerlink" title="3.const 特点"></a>3.const 特点</h3><ul>
<li>声明常量，常量名建议大写</li>
<li>在声明时就必须初始化值</li>
<li>存储常量的空间里面的值不能发生改变</li>
<li>如若值是原始类型，则无法改变</li>
<li>如若值是引用类型，则地址无法改变</li>
<li>具有识别块级作用域的能力</li>
</ul>
<h1 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h1><h2 id="（一）拓展运算符…"><a href="#（一）拓展运算符…" class="headerlink" title="（一）拓展运算符…"></a>（一）拓展运算符…</h2><h3 id="1-es6-操作数组"><a href="#1-es6-操作数组" class="headerlink" title="1.es6 操作数组"></a>1.es6 操作数组</h3><ul>
<li>写的时候起收集作用</li>
<li>读的时候起展开作用</li>
<li>在做形参的时候，必须是最后一个</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//展开</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">count(...arr); <span class="comment">//count(1,2,3,4,5)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params">a, b, ...arg</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//收集</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(a, b, arg); <span class="comment">//1, 2, [3,4,5]</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="2-es7-操作对象"><a href="#2-es7-操作对象" class="headerlink" title="2.es7 操作对象"></a>2.es7 操作对象</h3><ul>
<li>读对象展开大括号作用</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  a: <span class="number">1</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  b: <span class="number">2</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  c: <span class="number">3</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//展开</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj2 = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ...obj1</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>

<h2 id="（二）解构赋值"><a href="#（二）解构赋值" class="headerlink" title="（二）解构赋值"></a>（二）解构赋值</h2><h3 id="1-解构对象"><a href="#1-解构对象" class="headerlink" title="1.解构对象"></a>1.解构对象</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  a: <span class="number">1</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  b: <span class="number">2</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  c: <span class="number">3</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//展开</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">a</span>: one, <span class="attr">b</span>: two, <span class="attr">c</span>: three, four = <span class="number">4</span> &#125; = obj;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(one, two, three, four); <span class="comment">//1、2、3、4</span></span></pre></td></tr></table></figure>

<h3 id="2-解构数组"><a href="#2-解构数组" class="headerlink" title="2.解构数组"></a>2.解构数组</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [one, two, three] = arr;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(one, two, three); <span class="comment">//1、2、3</span></span></pre></td></tr></table></figure>

<h2 id="（三）默认赋值"><a href="#（三）默认赋值" class="headerlink" title="（三）默认赋值"></a>（三）默认赋值</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params">a = <span class="number">1</span>, b = <span class="number">2</span></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(a + b);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">count(<span class="number">10</span>); <span class="comment">//12</span></span></pre></td></tr></table></figure>

<h1 id="四、箭头函数"><a href="#四、箭头函数" class="headerlink" title="四、箭头函数"></a>四、箭头函数</h1><h3 id="1-存储"><a href="#1-存储" class="headerlink" title="1.存储"></a>1.存储</h3><ul>
<li>必须有空间存储，变量、数组、对象属性等</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;;</span></pre></td></tr></table></figure>

<h3 id="2-参数"><a href="#2-参数" class="headerlink" title="2.参数"></a>2.参数</h3><ul>
<li>当只有一个形参的时候，可以胜率圆括号</li>
<li>多个形参名不能相同（报错）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="function"><span class="params">a</span> =&gt;</span> &#123;&#125;;</span></pre></td></tr></table></figure>

<h3 id="4-返回值"><a href="#4-返回值" class="headerlink" title="4.返回值"></a>4.返回值</h3><ul>
<li>可以省略 return 关键字，省略大括号，直接写在箭头后</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count1 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count2 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> [a, b];</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count3 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> (&#123; <span class="attr">a</span>: a, <span class="attr">b</span>: b &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count4 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="function"><span class="params">a</span> =&gt;</span> a / <span class="number">2</span>;</span></pre></td></tr></table></figure>

<h3 id="5-arguments-this-指向"><a href="#5-arguments-this-指向" class="headerlink" title="5.arguments/this 指向"></a>5.arguments/this 指向</h3><ul>
<li>arguments 由定义时外层最接近的非箭头函数的 arguments 决定</li>
<li>this 由定义时外层最接近的非箭头函数的 this 决定</li>
<li>全局定义的箭头函数的 arguments 未定义</li>
<li>全局定义的箭头函数的 this 指向 window</li>
</ul>
<h1 id="五、数据劫持"><a href="#五、数据劫持" class="headerlink" title="五、数据劫持"></a>五、数据劫持</h1><h3 id="1-数据描述符"><a href="#1-数据描述符" class="headerlink" title="1.数据描述符"></a>1.数据描述符</h3><ul>
<li>value 属性值默认 undefined</li>
<li>writable 可写默认 false</li>
<li>configurable 可配置默认 false</li>
<li>enumerable 可枚举默认 false<br><strong>自然创建的对象，数据描述符默认都是 true</strong></li>
</ul>
<h3 id="2-存取描述符"><a href="#2-存取描述符" class="headerlink" title="2.存取描述符"></a>2.存取描述符</h3><ul>
<li>get 的返回值对应 value</li>
<li>设置的值作为实参对应 set 的形参</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  tempValue: <span class="string">"abc"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">set</span> name()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.tempValue;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">get</span> name(value)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.tempValue = value;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">obj.name<span class="comment">//"abc"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">obj.name = <span class="number">10</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">obj.name<span class="comment">//10</span></span></pre></td></tr></table></figure>

<h3 id="3-Proxy-amp-Reflect-代理植入"><a href="#3-Proxy-amp-Reflect-代理植入" class="headerlink" title="3.Proxy&amp;Reflect 代理植入"></a>3.Proxy&amp;Reflect 代理植入</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  value: <span class="number">10</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> proxyData = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//写</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">set</span>(target, key, value, receiver) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">Reflect</span>.set(target, key, value);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//读</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">get</span>(target, key, receiver) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, key);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//in</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  has(target, key) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//delete</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  deleteProperty() &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<h1 id="六、类-Class"><a href="#六、类-Class" class="headerlink" title="六、类 Class"></a>六、类 Class</h1><h3 id="1-定义"><a href="#1-定义" class="headerlink" title="1.定义"></a>1.定义</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//实例对象的属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//原型上的方法</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  say() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="string">`my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, I am a <span class="subst">$&#123;<span class="keyword">this</span>.sex&#125;</span>, I am <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old!`</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    );</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//静态方法</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">static</span> tell() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old!`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//ES7实例对象的属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  sex = <span class="string">"boy"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//ES7静态属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">static</span> age = <span class="number">30</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> Father(<span class="string">"son1"</span>, <span class="number">10</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> son2 = <span class="keyword">new</span> Father(<span class="string">"son2"</span>, <span class="number">5</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">son1.say(); <span class="comment">//my name is son1, I am a boy, I am 10 years old!</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">son2.say(); <span class="comment">//my name is son2, I am a boy, I am 5 years old!</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">Father.tell(); <span class="comment">//my name is Father, I am 30 years old!</span></span></pre></td></tr></table></figure>

<h3 id="2-继承"><a href="#2-继承" class="headerlink" title="2.继承"></a>2.继承</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grandpa</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(hair = "黑发", eyes = "黑眼睛", noes = "高鼻梁") &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.hair = hair;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.eyes = eyes;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.noes = noes;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  say() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my age is <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my skin is <span class="subst">$&#123;<span class="keyword">this</span>.skin&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my eyelid is <span class="subst">$&#123;<span class="keyword">this</span>.eyelid&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my eyes is <span class="subst">$&#123;<span class="keyword">this</span>.eyes&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my noes is <span class="subst">$&#123;<span class="keyword">this</span>.noes&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`my hair is <span class="subst">$&#123;<span class="keyword">this</span>.hair&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">extends</span> <span class="title">Grandpa</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(skin = "黄皮肤", eyelid = "双眼皮") &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">super</span>();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.skin = skin;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.eyelid = eyelid;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>(name, age, skin, eyelid) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">super</span>(skin, eyelid);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> Son(<span class="string">"son1"</span>, <span class="number">10</span>, <span class="string">"黑皮肤"</span>, <span class="string">"单眼皮"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> son2 = <span class="keyword">new</span> Son(<span class="string">"son2"</span>, <span class="number">20</span>, <span class="string">"白皮肤"</span>, <span class="string">"双眼皮"</span>);</span></pre></td></tr></table></figure>

<h3 id="3-ES5-模拟-Class"><a href="#3-ES5-模拟-Class" class="headerlink" title="3.ES5 模拟 Class"></a>3.ES5 模拟 Class</h3><h3 id="4-ES7-提案（装饰器）"><a href="#4-ES7-提案（装饰器）" class="headerlink" title="4.ES7 提案（装饰器）"></a>4.ES7 提案（装饰器）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//.babelrc</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"presets"</span>: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="string">"@babel/preset-env"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ],</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"plugins"</span>: [</span></pre></td></tr><tr><td class="code"><pre><span class="line">    [<span class="string">"@babel/plugin-proposal-decorators"</span>, &#123;<span class="string">"legacy"</span>: <span class="literal">true</span>&#125;],</span></pre></td></tr><tr><td class="code"><pre><span class="line">    [<span class="string">"@babel/plugin-proposal-class-properties"</span>, &#123;<span class="string">"loose"</span>: <span class="literal">true</span>&#125;]</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//class</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//面向对象+面向切面</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> inp = <span class="built_in">document</span>.querySelector(<span class="string">".inp"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">".btn"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">@Skin</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Search</span> </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.keyWords = <span class="string">""</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  @myReadOnly</span></pre></td></tr><tr><td class="code"><pre><span class="line">  urlA = <span class="string">"urlA-"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  @dealData(<span class="string">"张三"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  getContent(data,a,b) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;data&#125;</span>向<span class="subst">$&#123;<span class="keyword">this</span>.urlA&#125;</span>发送网络请求，数据：<span class="subst">$&#123;<span class="keyword">this</span>.keyWords&#125;</span>`</span>, a, b);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="number">10</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//装饰私有属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myReadOnly</span>(<span class="params">prototype, key, descriptor</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(prototype, key, descriptor);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  descriptor.writable = <span class="literal">false</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* //装饰原型属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">function dealData(prototype, key, descriptor)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  console.log(prototype, key, descriptor);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  let oldValue = descriptor.value;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  descriptor.value = function ()&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    let urlB = "urlB-";</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    console.log(`向$&#123;urlB&#125;发送网络请求，数据：$&#123;this.keyWords&#125;`);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    return oldValue.apply(this, arguments);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#125; */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//装饰原型属性</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dealData</span>(<span class="params">data</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">prototype, key, descriptor</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(prototype, key, descriptor);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> oldValue = descriptor.value;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    descriptor.value = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">let</span> urlB = <span class="string">"urlB-"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;data&#125;</span>向<span class="subst">$&#123;urlB&#125;</span>发送网络请求，数据：<span class="subst">$&#123;<span class="keyword">this</span>.keyWords&#125;</span>`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> oldValue.call(<span class="keyword">this</span>, data, ...arguments);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//装饰类</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Skin</span>(<span class="params">target</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  target.aa = <span class="number">30</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> os = <span class="keyword">new</span> Search();</span></pre></td></tr><tr><td class="code"><pre><span class="line">inp.oninput = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  os.keyWords = <span class="keyword">this</span>.value;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  os.getContent(<span class="number">1</span>,<span class="number">2</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h1 id="七、数据存储"><a href="#七、数据存储" class="headerlink" title="七、数据存储"></a>七、数据存储</h1><h2 id="（一）Set"><a href="#（一）Set" class="headerlink" title="（一）Set"></a>（一）Set</h2><h3 id="1-创建-new-Set-data"><a href="#1-创建-new-Set-data" class="headerlink" title="1.创建 new Set(data)"></a>1.创建 new Set(data)</h3><ul>
<li>产生一个类似数组的机构，里面的值唯一</li>
<li>data 具备迭代接口的数据</li>
<li>Set 只存储唯一 value，不存储 key</li>
</ul>
<h3 id="2-原型方法"><a href="#2-原型方法" class="headerlink" title="2.原型方法"></a>2.原型方法</h3><ul>
<li>add(value)添加数据</li>
<li>delete(value)删除数据==value 必须与存储的一致否则删除不了（字面量形式就删除不了，用变量接受，存储变量）==</li>
<li>clear()清空数据</li>
<li>has(value)检测数据 true/false</li>
</ul>
<h3 id="3-遍历"><a href="#3-遍历" class="headerlink" title="3.遍历"></a>3.遍历</h3><ul>
<li>for…of 遍历迭代接口的数据</li>
<li>forEach 方法</li>
</ul>
<h3 id="4-转换"><a href="#4-转换" class="headerlink" title="4.转换"></a>4.转换</h3><ul>
<li>Array.form(Set)</li>
<li>[…Set]</li>
</ul>
<h3 id="5-应用"><a href="#5-应用" class="headerlink" title="5.应用"></a>5.应用</h3><ul>
<li>去重</li>
<li>差集</li>
<li>交集</li>
<li>并集</li>
</ul>
<h2 id="（二）Map"><a href="#（二）Map" class="headerlink" title="（二）Map"></a>（二）Map</h2><h3 id="1-创建-new-Map-key-value"><a href="#1-创建-new-Map-key-value" class="headerlink" title="1.创建 new Map([[key, value]])"></a>1.创建 new Map([[key, value]])</h3><ul>
<li>“做字典”</li>
<li>data 具备迭代接口的数据</li>
<li>Map 存储唯一 key-value 键值对</li>
<li>key 可以是任何形式</li>
</ul>
<h3 id="2-原型方法-1"><a href="#2-原型方法-1" class="headerlink" title="2.原型方法"></a>2.原型方法</h3><ul>
<li>Map(key, value)添加数据</li>
<li>get(key)获取数据==key 必须与存储的一致否则获取不了（字面量形式就获取不了，用变量接受，存储变量）==</li>
<li>delete(key)删除数据</li>
<li>keys()获取所有的键</li>
<li>has(key)检测数据</li>
</ul>
<h3 id="3-遍历-1"><a href="#3-遍历-1" class="headerlink" title="3.遍历"></a>3.遍历</h3><ul>
<li>for…of 遍历迭代接口的数据</li>
<li>forEach 方法</li>
</ul>
<h3 id="4-模拟（链接列表-桶、hash-算法）"><a href="#4-模拟（链接列表-桶、hash-算法）" class="headerlink" title="4.模拟（链接列表/*桶、hash 算法）"></a>4.模拟（链接列表/*桶、hash 算法）</h3><h1 id="八、异步编程"><a href="#八、异步编程" class="headerlink" title="八、异步编程"></a>八、异步编程</h1><h2 id="（一）Promise"><a href="#（一）Promise" class="headerlink" title="（一）Promise"></a>（一）Promise</h2><h3 id="1-执行顺序"><a href="#1-执行顺序" class="headerlink" title="1.执行顺序"></a>1.执行顺序</h3><ul>
<li>宏任务: 计时器、事件、ajax</li>
<li>微任务：Promise<ul>
<li>微任务有优先执行权</li>
</ul>
</li>
</ul>
<h3 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Promise对象，需要一个回调函数作为参数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> op = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//注册成功、失败函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//返回值会向后传递</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//此次的错误会被下一次的then的失败函数或catch捕获到</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//此次若没有错误，则下次会执行成功函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">op.then(</span></pre></td></tr><tr><td class="code"><pre><span class="line">  resolveData =&gt; &#123;&#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  rejectData =&gt; &#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//捕获异常</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//如果then在此之前捕获过，则不会捕获掉</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//返回值不会传递</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">op.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//全部成功才成功，只要有一个promise失败就失败</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//谁失败就用谁的</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//全部成功就将参数统一成一个数组</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">op.all([promise(), promise(), promise()]).then();</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//只要有一个promise成功就成功，只要有一个promise失败就失败</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//谁先成功就用谁的</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//谁先失败就用谁的</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">op.race([promise(), promise(), promise()]).then();</span></pre></td></tr></table></figure>

<h3 id="3-模拟"><a href="#3-模拟" class="headerlink" title="3.模拟"></a>3.模拟</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">syncFn</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  self.status = <span class="string">"pending"</span>; <span class="comment">//进行中</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//处理参数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  self.resolveValue = <span class="literal">null</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  self.rejectReason = <span class="literal">null</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//处理异步</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  self.resolveCallBackList = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line">  self.rejectCallBackList = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//执行成功回调</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"pending"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      self.status = <span class="string">"fulfilled"</span>; <span class="comment">//已成功</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      self.resolveValue = value; <span class="comment">//处理参数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      self.resolveCallBackList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123; <span class="comment">//处理异步</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        res();</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//执行失败回调</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">reason</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"pending"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      self.status = <span class="string">"rejected"</span>; <span class="comment">//已失败</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      self.rejectReason = reason; <span class="comment">//处理参数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      self.rejectCallBackList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">rej</span>) </span>&#123; <span class="comment">//处理异步</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">        rej();</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//捕获syncFn中抛出的错误</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    syncFn(resolve, reject);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    reject(error); <span class="comment">//抛出错误，即已失败</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//处理then手动返回promise</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">MyPromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onFulfilled, onRejected</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  onFulfilled = onFulfilled || <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> value;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  onRejected = onRejected || <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(reason);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//处理返回值promise</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">processor</span>(<span class="params">returnValue, nextFn, nextRes, nextRej</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (returnValue <span class="keyword">instanceof</span> MyPromise) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      returnValue.then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        nextRes(value);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        nextRej(reason);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      nextFn(returnValue);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//异步函数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">makeAsync</span>(<span class="params">onFn, value, nextFn, nextRes, nextRej</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">var</span> returnValue = onFn(value);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        processor(returnValue, nextFn, nextRes, nextRej); <span class="comment">//处理返回值promise</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        nextRej(error)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;, <span class="number">0</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> nextPromise = <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span> (<span class="params">res, rej</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"fulfilled"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      makeAsync(onFulfilled, self.resolveValue, res, res, rej);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"rejected"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      makeAsync(onRejected, self.rejectReason, rej, res, rej);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">"pending"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> (onFulfilled) === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        self.resolveCallBackList.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          makeAsync(onFulfilled, self.resolveValue, res, res, rej);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> (onRejected) === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        self.rejectCallBackList.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          makeAsync(onRejected, self.rejectReason, rej, res, rej);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> nextPromise;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">MyPromise.race = <span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span>(<span class="params">res, rej</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    promiseArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      promise.then(res, rej);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">MyPromise.all = <span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> values = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span>(<span class="params">res, rej</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    promiseArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        values.push(value);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">if</span>(values.length === promiseArr.length)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          res(values);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        rej(reason);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="4-promisify-化"><a href="#4-promisify-化" class="headerlink" title="4.promisify 化"></a>4.promisify 化</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promisify</span>(<span class="params">func</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...arg</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      func(...arg, (err, data) =&gt; &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">if</span> (err) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          rej(err);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          res(data);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promisfyAll</span>(<span class="params">obj</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> fn = obj[key];</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      obj[key + <span class="string">"Async"</span>] = promisify(fn);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> read = promisify(fs.readFile);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">read(<span class="string">"./data/number.txt"</span>, <span class="string">"utf-8"</span>).then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(val);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">promisfyAll(fs);</span></pre></td></tr><tr><td class="code"><pre><span class="line">fs.readFileAsync(<span class="string">"./data/number.txt"</span>, <span class="string">"utf-8"</span>).then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(<span class="string">"asyn:"</span>, val);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// let bluebird = require("bluebird");</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// bluebird.promisify();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// bluebird.promisifyAll();</span></span></pre></td></tr></table></figure>
<hr>
<h2 id="（二）Iterator-迭代器"><a href="#（二）Iterator-迭代器" class="headerlink" title="（二）Iterator 迭代器"></a>（二）Iterator 迭代器</h2><h3 id="1-Symbol-数据类型"><a href="#1-Symbol-数据类型" class="headerlink" title="1.Symbol 数据类型"></a>1.Symbol 数据类型</h3><h4 id="（1）特点"><a href="#（1）特点" class="headerlink" title="（1）特点"></a>（1）特点</h4><ul>
<li>唯一性</li>
<li>可作为对象的属性</li>
<li>静态方法 Symbol.iterator</li>
</ul>
<h4 id="（2）添加迭代器"><a href="#（2）添加迭代器" class="headerlink" title="（2）添加迭代器"></a>（2）添加迭代器</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">0</span>: <span class="string">"a"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">1</span>: <span class="string">"b"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">2</span>: <span class="string">"c"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  length: <span class="number">3</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> curIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> next = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        value: <span class="keyword">this</span>[curIndex],</span></pre></td></tr><tr><td class="code"><pre><span class="line">        done: <span class="keyword">this</span>.length === curIndex++</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      next</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log([...obj]);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> prop <span class="keyword">of</span> obj) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(prop);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-Generator-生成器"><a href="#2-Generator-生成器" class="headerlink" title="2.Generator 生成器"></a>2.Generator 生成器</h3><h4 id="（1）特点-1"><a href="#（1）特点-1" class="headerlink" title="（1）特点"></a>（1）特点</h4><ul>
<li>在 function 关键字与函数名之间加*,即为生成器</li>
<li>通过普通执行创建迭代器对象（==非 new==）</li>
<li>通过 yield 关键字控制分段执行</li>
</ul>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">Test</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> data1 = <span class="keyword">yield</span> <span class="string">"a"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> data2 = <span class="keyword">yield</span> <span class="string">"b"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data2);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> data3 = <span class="keyword">yield</span> <span class="string">"c"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data3);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="string">"d"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> oG = Test();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"0"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"1"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"2"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"3"</span>));</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(oG.next(<span class="string">"4"</span>));</span></pre></td></tr></table></figure>

<h4 id="（3）执行原理"><a href="#（3）执行原理" class="headerlink" title="（3）执行原理"></a>（3）执行原理</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">Test</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">yield</span> <span class="string">"a"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> data1 &lt;== next(<span class="string">"1"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data1) ==&gt; <span class="string">"1"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">   <span class="keyword">yield</span> <span class="string">"b"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> data2 &lt;== next(<span class="string">"2"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data2) ==&gt; <span class="string">"2"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">   <span class="keyword">yield</span> <span class="string">"c"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> data3 &lt;== next(<span class="string">"3"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(data3) ==&gt; <span class="string">"3"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="string">"d"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（4）应用"><a href="#（4）应用" class="headerlink" title="（4）应用"></a>（4）应用</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">0</span>: <span class="string">"a"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">1</span>: <span class="string">"b"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">2</span>: <span class="string">"c"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  length: <span class="number">3</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> curIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">while</span> (curIndex &lt; <span class="keyword">this</span>.length) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">yield</span> <span class="keyword">this</span>[curIndex++];</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log([...obj]);</span></pre></td></tr></table></figure>

<hr>
<h2 id="（三）解决回调地狱"><a href="#（三）解决回调地狱" class="headerlink" title="（三）解决回调地狱"></a>（三）解决回调地狱</h2><h3 id="1-CallBack（jQuery）"><a href="#1-CallBack（jQuery）" class="headerlink" title="1.CallBack（jQuery）"></a>1.CallBack（jQuery）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jQuery.myCallback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> options = <span class="built_in">arguments</span>[<span class="number">0</span>] || <span class="string">""</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> list = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> fired = <span class="literal">false</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> params = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> call = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">for</span>(; fireIndex &lt; list.length; fireIndex++)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      list[fireIndex].apply(<span class="built_in">window</span>, params);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span>(options.includes(<span class="string">"once"</span>))&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      list = [];</span></pre></td></tr><tr><td class="code"><pre><span class="line">      fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    add(fn)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">typeof</span> fn === <span class="string">"function"</span> &amp;&amp; list.push(fn);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span>(options.includes(<span class="string">"memory"</span>) &amp;&amp; fired)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        call();</span></pre></td></tr><tr><td class="code"><pre><span class="line">        fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    fire()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      fireIndex = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      params = <span class="built_in">arguments</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      fired = <span class="literal">true</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      call();</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-Deferred（jQuery）"><a href="#2-Deferred（jQuery）" class="headerlink" title="2.Deferred（jQuery）"></a>2.Deferred（jQuery）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jQuery.myDeferred = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> dfArr = [</span></pre></td></tr><tr><td class="code"><pre><span class="line">      [$.myCallback(<span class="string">"once memory"</span>), <span class="string">"done"</span>, <span class="string">"resolve"</span>],</span></pre></td></tr><tr><td class="code"><pre><span class="line">      [$.myCallback(<span class="string">"once memory"</span>), <span class="string">"fail"</span>, <span class="string">"reject"</span>],</span></pre></td></tr><tr><td class="code"><pre><span class="line">      [$.myCallback(<span class="string">"memory"</span>), <span class="string">"progress"</span>, <span class="string">"notify"</span>],</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ];</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> deferred = &#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> status = <span class="literal">true</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dfArr.forEach(<span class="function">(<span class="params">ele, index</span>)=&gt;</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      deferred[ele[<span class="number">1</span>]] = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        ele[<span class="number">0</span>].add(fn);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    dfArr.forEach(<span class="function">(<span class="params">ele, index</span>)=&gt;</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      deferred[ele[<span class="number">2</span>]] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="keyword">if</span>(status)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          ele[<span class="number">0</span>].fire.apply(<span class="built_in">window</span>, <span class="built_in">arguments</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">          status = ele[<span class="number">2</span>] === <span class="string">"notify"</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> deferred;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr></table></figure>
<hr>
<h3 id="3-co-解决回调地狱"><a href="#3-co-解决回调地狱" class="headerlink" title="3.co 解决回调地狱"></a>3.co 解决回调地狱</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">"co"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readData</span>(<span class="params">path</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    fs.readFile(path, <span class="string">"utf-8"</span>, (err, data) =&gt; &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span> (data) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        res(data);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        rej(err);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// readData("./data/number.txt").then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   return value;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   console.log(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> val1 = <span class="keyword">yield</span> readData(<span class="string">"./data/number.txt"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> val2 = <span class="keyword">yield</span> readData(val1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">let</span> val3 = <span class="keyword">yield</span> readData(val2);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> val3;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//生成器优化</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* function Co(oG)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  let &#123;value&#125; = oG.next();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  value.then(val1=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    let &#123;value&#125; = oG.next(val1);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    value.then(val2=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      let &#123;value&#125; = oG.next(val2);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      value.then(val3=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">        console.log(val3);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#125; </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">Co(read());</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//递归优化</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Co</span>(<span class="params">oG</span>) </span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">let</span> next = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">let</span> &#123; value, done &#125; = oG.next(data);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span> (done) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        res(value);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125; <span class="keyword">else</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        value.then(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">          next(val);</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#125;, rej);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    next();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">Co(read()).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(value);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>
<hr>
<h3 id="4-async-await异步函数（ES7语法糖）"><a href="#4-async-await异步函数（ES7语法糖）" class="headerlink" title="4.async + await异步函数（ES7语法糖）"></a>4.async + await异步函数（ES7语法糖）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">"co"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readData</span>(<span class="params">path</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    fs.readFile(path, <span class="string">"utf-8"</span>, (err, data)=&gt;&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="keyword">if</span>(data)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        res(data);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        rej(err);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// readData("./data/number.txt").then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   return value;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   return readData(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;).then((value)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//   console.log(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">// &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* function *read()&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  let val1 = yield readData("./data/number.txt");</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  let val2 = yield readData(val1);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  let val3 = yield readData(val2);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  return val3;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//生成器优化</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* function Co(oG)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  let &#123;value&#125; = oG.next();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  value.then(val1=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    let &#123;value&#125; = oG.next(val1);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    value.then(val2=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      let &#123;value&#125; = oG.next(val2);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      value.then(val3=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">        console.log(val3);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#125; </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">Co(read());</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//递归优化</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">/* function Co(oG)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  return new Promise((res, rej)=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    let next = data=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      let &#123;value, done&#125; = oG.next(data);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      if(done)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">        res(value);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &#125;else&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">        value.then(val=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">          next(val);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">        &#125;, rej)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    &#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">    next();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  &#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">Co( read() ).then(value=&gt;&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  console.log(value)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&#125;)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params">url</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">     <span class="keyword">let</span> val1 = <span class="keyword">await</span> readData(url);</span></pre></td></tr><tr><td class="code"><pre><span class="line">     <span class="keyword">let</span> val2 = <span class="keyword">await</span> readData(val1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">     <span class="keyword">let</span> val3 = <span class="keyword">await</span> readData(val2);</span></pre></td></tr><tr><td class="code"><pre><span class="line">     <span class="keyword">return</span> val3;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">     <span class="keyword">return</span> error;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"> &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"> read(<span class="string">"./data/number.txt"</span>).then(<span class="function"><span class="params">val</span>=&gt;</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">   <span class="built_in">console</span>.log(<span class="string">"async ==&gt;&gt;"</span> , val);</span></pre></td></tr><tr><td class="code"><pre><span class="line"> &#125;)</span></pre></td></tr></table></figure>
<hr>
]]></content>
  </entry>
  <entry>
    <title>ES5 --- 应用篇</title>
    <url>/blog/2020/01/03/ES5a/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="一、js数据类型"><a href="#一、js数据类型" class="headerlink" title="一、js数据类型"></a>一、js数据类型</h2><h3 id="（一）原始类型"><a href="#（一）原始类型" class="headerlink" title="（一）原始类型"></a>（一）原始类型</h3><h4 id="1-数字-number"><a href="#1-数字-number" class="headerlink" title="1.数字 number"></a>1.数字 number</h4><blockquote>
<p>直接书写 十进制<br>0前缀 八进制<br>0x前缀  十六进制<br>0b前缀 二进制</p>
</blockquote>
<h4 id="2-字符串-string"><a href="#2-字符串-string" class="headerlink" title="2.字符串 string"></a>2.字符串 string</h4><blockquote>
<p>单引号 ‘’<br>双引号 “”<br>模板 ``</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">转义字符</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#39;</td>
<td align="center">单引号</td>
</tr>
<tr>
<td align="center">&quot;</td>
<td align="center">双引号</td>
</tr>
<tr>
<td align="center">\</td>
<td align="center">反斜杠</td>
</tr>
<tr>
<td align="center">\n</td>
<td align="center">换行</td>
</tr>
<tr>
<td align="center">\t</td>
<td align="center">制表符</td>
</tr>
</tbody></table>
<h4 id="3-布尔-boolean"><a href="#3-布尔-boolean" class="headerlink" title="3.布尔 boolean"></a>3.布尔 boolean</h4><blockquote>
<p>true 真<br>false 假</p>
</blockquote>
<h4 id="4-未定义-undefined"><a href="#4-未定义-undefined" class="headerlink" title="4.未定义 undefined"></a>4.未定义 undefined</h4><blockquote>
<p>undefined</p>
</blockquote>
<h4 id="5-空-null"><a href="#5-空-null" class="headerlink" title="5.空 null"></a>5.空 null</h4><blockquote>
<p>null</p>
</blockquote>
<h3 id="（二）引用类型"><a href="#（二）引用类型" class="headerlink" title="（二）引用类型"></a>（二）引用类型</h3><h4 id="1-对象-object"><a href="#1-对象-object" class="headerlink" title="1.对象 object"></a>1.对象 object</h4><blockquote>
<p>{}</p>
</blockquote>
<h4 id="2-函数-function"><a href="#2-函数-function" class="headerlink" title="2.函数 function"></a>2.函数 function</h4><blockquote>
<p>function () {}</p>
</blockquote>
<hr>
<h2 id="二、变量"><a href="#二、变量" class="headerlink" title="二、变量"></a>二、变量</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><h4 id="（1）什么是变量？"><a href="#（1）什么是变量？" class="headerlink" title="（1）什么是变量？"></a>（1）什么是变量？</h4><ul>
<li>一块内存空间，用于存储数据</li>
</ul>
<h4 id="（2）变量声明"><a href="#（2）变量声明" class="headerlink" title="（2）变量声明"></a>（2）变量声明</h4><blockquote>
<p>var 变量名</p>
</blockquote>
<h4 id="（3）变量赋值"><a href="#（3）变量赋值" class="headerlink" title="（3）变量赋值"></a>（3）变量赋值</h4><blockquote>
<p>变量名 = 数据</p>
</blockquote>
<h3 id="2-特点"><a href="#2-特点" class="headerlink" title="2.特点"></a>2.特点</h3><h4 id="（1）变量的值是可变的"><a href="#（1）变量的值是可变的" class="headerlink" title="（1）变量的值是可变的"></a>（1）变量的值是可变的</h4><ul>
<li>变量可以重复赋值，新的值会覆盖原来的值</li>
</ul>
<h4 id="（2）变量命名规范"><a href="#（2）变量命名规范" class="headerlink" title="（2）变量命名规范"></a>（2）变量命名规范</h4><ul>
<li>只能使用字母、下划线、$、数字</li>
<li>只能以字母、下划线、$开头</li>
<li>不能使用关键字、保留字</li>
<li>做到见名知义</li>
<li>多个单词小驼峰命名法</li>
</ul>
<h4 id="（3）变量声明赋值可以合并书写（语法糖）"><a href="#（3）变量声明赋值可以合并书写（语法糖）" class="headerlink" title="（3）变量声明赋值可以合并书写（语法糖）"></a>（3）变量声明赋值可以合并书写（语法糖）</h4><blockquote>
<p>var name = “huafu”;</p>
</blockquote>
<h4 id="（4）多个变量声明赋值可以合并书写（语法糖）"><a href="#（4）多个变量声明赋值可以合并书写（语法糖）" class="headerlink" title="（4）多个变量声明赋值可以合并书写（语法糖）"></a>（4）多个变量声明赋值可以合并书写（语法糖）</h4><blockquote>
<p>var a = 1, b = 2, c = 3;</p>
</blockquote>
<h4 id="（5）任何书写数据的地方，都可书写变量"><a href="#（5）任何书写数据的地方，都可书写变量" class="headerlink" title="（5）任何书写数据的地方，都可书写变量"></a>（5）任何书写数据的地方，都可书写变量</h4><h4 id="（6）使用未声明的变量时，会产生错误"><a href="#（6）使用未声明的变量时，会产生错误" class="headerlink" title="（6）使用未声明的变量时，会产生错误"></a>（6）使用未声明的变量时，会产生错误</h4><ul>
<li>例外 typeof 判断变量类型使用未声明的变量不会报错</li>
</ul>
<h4 id="（7）js里存在变量声明提升"><a href="#（7）js里存在变量声明提升" class="headerlink" title="（7）js里存在变量声明提升"></a>（7）js里存在变量声明提升</h4><ul>
<li>提升不会超越脚本快</li>
</ul>
<h4 id="（8）js里变量可以重复声明"><a href="#（8）js里变量可以重复声明" class="headerlink" title="（8）js里变量可以重复声明"></a>（8）js里变量可以重复声明</h4><ul>
<li>声明提升后会合并</li>
</ul>
<h3 id="3-变量与对象"><a href="#3-变量与对象" class="headerlink" title="3.变量与对象"></a>3.变量与对象</h3><h4 id="（1）书写"><a href="#（1）书写" class="headerlink" title="（1）书写"></a>（1）书写</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  name: <span class="string">"huafu"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  age: <span class="number">18</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h4 id="（2）属性操作方式"><a href="#（2）属性操作方式" class="headerlink" title="（2）属性操作方式"></a>（2）属性操作方式</h4><blockquote>
<p>user.name</p>
</blockquote>
<blockquote>
<p>user[“name”]</p>
</blockquote>
<h4 id="（3）增删改查"><a href="#（3）增删改查" class="headerlink" title="（3）增删改查"></a>（3）增删改查</h4><ul>
<li>访问不存在的对象时，会产生错误</li>
<li>访问对象不存在的属性时，不会报错，undefined</li>
<li>给对象不存在的属性赋值时，会添加此属性</li>
<li>给对象的属性重新赋值时，修改此属性值</li>
<li>delete 操作符删除对象属性</li>
</ul>
<h4 id="（4）属性表达式"><a href="#（4）属性表达式" class="headerlink" title="（4）属性表达式"></a>（4）属性表达式</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  name: <span class="string">"huafu"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"age"</span>: <span class="number">18</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="number">1</span>: <span class="literal">false</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="string">"??"</span>: <span class="literal">undefined</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> prop = <span class="string">"name"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">user[prop]</span></pre></td></tr></table></figure>
<ul>
<li>实际上，js对属性名没有严格限制，可以是任何形式</li>
<li>访问特殊的属性名，只能使用属性表达式，否则不满足语法要求</li>
<li>使用属性表达式，放置一个变量，改变变量内容，就可以实现访问不同的对象属性</li>
</ul>
<h4 id="（5）全局对象"><a href="#（5）全局对象" class="headerlink" title="（5）全局对象"></a>（5）全局对象</h4><ul>
<li>js大部分的宿主环境，都会提供一个特殊的对象，该对象可以直接访问（全局对象）</li>
<li>在浏览器环境中，全局对象为window，表示整个窗口</li>
<li>全局对象的属性可以直接使用属性名访问，不需要书写对象名</li>
<li>开发者声明的所有变量，实际上都会成为window对象的属性</li>
<li>如果变量没有赋值，该变量不会覆盖window对象的同名属性 </li>
<li>window.name属性比较特殊，任何类型的赋值都会变成字符串类型的内容</li>
<li>变量未经声明就赋值，等于给window对象增加此属性</li>
</ul>
<h4 id="（6）内存空间"><a href="#（6）内存空间" class="headerlink" title="（6）内存空间"></a>（6）内存空间</h4><h5 id="1）变量存储的信息"><a href="#1）变量存储的信息" class="headerlink" title="1）变量存储的信息"></a>1）变量存储的信息</h5><ul>
<li><p>变量赋值原始类型，存放的是数据内容</p>
<ul>
<li>使用变量进行赋值的时候，直接复制变量内存储的数据</li>
<li>当一个变量内容发生改变时，其它变量不会受影响</li>
</ul>
</li>
<li><p>变量赋值引用类型，存放的是数据内容的地址引用</p>
<ul>
<li>使用变量进行赋值的时候，复制的是变量内存储的地址引用</li>
<li>当其中一个变量对引用数据进行操作时，所有相同引用的变量内容都将受影响</li>
</ul>
</li>
<li><p>所有出现对象字面量的地方，都将会在内存空间里开辟新对象</p>
<ul>
<li>对象属性存储的是一个对象时，此属性保存的其实是对一个对象的引用</li>
</ul>
</li>
</ul>
<h5 id="2）垃圾回收"><a href="#2）垃圾回收" class="headerlink" title="2）垃圾回收"></a>2）垃圾回收</h5><ul>
<li>内存中无法访问到的对象（没有任何引用指向），会被视为垃圾</li>
<li>js引擎会在合适的时间将其占用的内存释放</li>
</ul>
<hr>
<h2 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h2><h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h3><h4 id="（1）操作符-amp-操作数"><a href="#（1）操作符-amp-操作数" class="headerlink" title="（1）操作符&amp;操作数"></a>（1）操作符&amp;操作数</h4><ul>
<li>操作符：运算符、参与运算的符号<ul>
<li>操作符不一定只是一个符号</li>
<li>操作符出现在不同的位置，可能具有不同的意义</li>
</ul>
</li>
<li>操作数：参与操作的数据，也称之为“元”</li>
</ul>
<h4 id="（2）分类"><a href="#（2）分类" class="headerlink" title="（2）分类"></a>（2）分类</h4><ul>
<li>按操作数的数量分<ul>
<li>一元（目）：() . [] {}</li>
<li>二元（目）: + - * / % =</li>
<li>三元（目）：?:</li>
</ul>
</li>
</ul>
<h4 id="（3）表达式"><a href="#（3）表达式" class="headerlink" title="（3）表达式"></a>（3）表达式</h4><ul>
<li>表达式 = 操作符 + 操作数</li>
<li>返回值：每个表达式都会返回一个运算结果</li>
<li>返回类型：返回值的类型</li>
<li>表达式就是数据，所有书写数据的地方都可以书写表达式</li>
</ul>
<h4 id="（4）返回值"><a href="#（4）返回值" class="headerlink" title="（4）返回值"></a>（4）返回值</h4><table>
<thead>
<tr>
<th align="center">操作符</th>
<th align="center">含义</th>
<th align="center">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">=</td>
<td align="center">赋值表达式</td>
<td align="center">返回赋值的结果</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center">属性访问表达式</td>
<td align="center">返回该属性的属性值</td>
</tr>
<tr>
<td align="center">[]</td>
<td align="center">属性访问表达式</td>
<td align="center">返回该属性的属性值</td>
</tr>
<tr>
<td align="center">()</td>
<td align="center">函数调用表达式</td>
<td align="center">返回值取决于函数运行</td>
</tr>
<tr>
<td align="center">var</td>
<td align="center">变量声明表达式</td>
<td align="center">返回undefined</td>
</tr>
</tbody></table>
<h3 id="2-算数运算符（数学运算符）"><a href="#2-算数运算符（数学运算符）" class="headerlink" title="2.算数运算符（数学运算符）"></a>2.算数运算符（数学运算符）</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">+</td>
<td align="center">求和表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">-</td>
<td align="center">求差表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">求积表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">/</td>
<td align="center">求商表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">%</td>
<td align="center">求余表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">++</td>
<td align="center">自增表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">–</td>
<td align="center">自减表达式</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="（1）运算细节"><a href="#（1）运算细节" class="headerlink" title="（1）运算细节"></a>（1）运算细节</h4><ul>
<li>数字运算是不精确的</li>
<li>除数为0，结果无穷<ul>
<li>被除数为正数（infinity）</li>
<li>被除数为0（NaN）</li>
<li>被除数为负数（-infinity）</li>
</ul>
</li>
<li>无法运算，返回值为NaN</li>
<li>% 求余与求模有区别（求余返回值符号与被余数保持一致）</li>
<li>typeof返回值类型为string</li>
<li>isNaN()函数返回值类型为boolean</li>
<li>isFinite()函数返回值类型为boolean</li>
</ul>
<h4 id="（2）非number类型运算"><a href="#（2）非number类型运算" class="headerlink" title="（2）非number类型运算"></a>（2）非number类型运算</h4><h5 id="1）-非-运算"><a href="#1）-非-运算" class="headerlink" title="1） 非 + 运算"></a>1） 非 + 运算</h5><ul>
<li>原始值自动转化为数字，再运算</li>
<li>NaN与任何数运算，结果为NaN</li>
<li>Infinity与任何数运算，结果为Infinity<blockquote>
<p>-5<strong>2 ==&gt; 报错<br>(-5)</strong>2 ==&gt; 25</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">转换值</th>
<th align="center">结果</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">boolean：false</td>
<td align="center">0</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">boolean：true</td>
<td align="center">1</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">string：数字</td>
<td align="center">数值</td>
<td align="center">能识别Infinity</td>
</tr>
<tr>
<td align="center">string：非数</td>
<td align="center">NaN</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">string：空串</td>
<td align="center">0</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">string：空格</td>
<td align="center">0</td>
<td align="center">转换会忽略前后空格</td>
</tr>
<tr>
<td align="center">null</td>
<td align="center">0</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">undefined</td>
<td align="center">NaN</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">{}</td>
<td align="center">“[object Object]” ==&gt; NaN</td>
<td align="center">对象转换为字符串</td>
</tr>
</tbody></table>
<ul>
<li>引用值自动转化为字符串，再转换为数字，然后运算<blockquote>
<p>{}<em>5 ==&gt; 报错<br>({})</em>5 ==&gt; NaN</p>
</blockquote>
</li>
</ul>
<h5 id="2）-运算"><a href="#2）-运算" class="headerlink" title="2） + 运算"></a>2） + 运算</h5><ul>
<li>操作数有字符串参与，含义为字符串拼接</li>
<li>若只有一个操作数为字符串，另一个操作数自动转换为字符串，然后拼接</li>
<li>若有一个操作数为对象，对象自动转换为字符串，然后拼接</li>
</ul>
<h4 id="（3）自增自减-–"><a href="#（3）自增自减-–" class="headerlink" title="（3）自增自减 ++ –"></a>（3）自增自减 ++ –</h4><ul>
<li>自增、自减1</li>
<li>操作符在前：表达式返回值为变量自增后的值</li>
<li>操作符在后：表达式返回值为变量自增前的值</li>
<li>操作符在前在后，对于变量来说，结果都一样</li>
<li>操作符在前在后，对于运算来说，由于表达式的返回值不一样，结果也会相应改变</li>
</ul>
<h4 id="（4）优先级"><a href="#（4）优先级" class="headerlink" title="（4）优先级"></a>（4）优先级</h4><h5 id="1）从高到底"><a href="#1）从高到底" class="headerlink" title="1）从高到底"></a>1）从高到底</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">++ --</span></pre></td></tr><tr><td class="code"><pre><span class="line">* <span class="regexp">/ %</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">+ -</span></span></pre></td></tr></table></figure>

<h5 id="2）运算规则"><a href="#2）运算规则" class="headerlink" title="2）运算规则"></a>2）运算规则</h5><ul>
<li>从左到右依次进行</li>
<li>若相连两运算符，左边优先级高于等于右边，则直接运算</li>
<li>若相连两运算符，左边优先级低于右边，则继续往后进行</li>
</ul>
<h4 id="（5）求余与求模"><a href="#（5）求余与求模" class="headerlink" title="（5）求余与求模"></a>（5）求余与求模</h4><ul>
<li>求余 %<blockquote>
<p>x % y<br>x - n * y n的取值为x/y的商取整（==向0取整==）</p>
</blockquote>
</li>
<li>求模<blockquote>
<p>x % y<br>x - n * y n的取值为x/y的商取整（==向下取整==）</p>
</blockquote>
</li>
<li>区别<ul>
<li>只有在余数为负数时才有区别</li>
<li>求余的符号与被除数相同</li>
<li>求模的符号与除数相同</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-比较运算符"><a href="#3-比较运算符" class="headerlink" title="3.比较运算符"></a>3.比较运算符</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&gt;</td>
<td align="center">大于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">&gt;=</td>
<td align="center">大于等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">小于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">&lt;=</td>
<td align="center">小于等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">==</td>
<td align="center">等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">!=</td>
<td align="center">不等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">===</td>
<td align="center">恒等于表达式</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">!==</td>
<td align="center">不恒等于达式</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="（1）比较大小"><a href="#（1）比较大小" class="headerlink" title="（1）比较大小"></a>（1）比较大小</h4><ul>
<li>表达式的返回值类型：boolean</li>
<li>优先级低于算数运算符</li>
<li>两个是数字比较大小</li>
<li>两个是字符串比较ASCII码顺序</li>
<li>原始值的其它类型，自动转化为数字，再比较</li>
<li>NaN与任何比较都是false</li>
<li>+Infinity比任何数都大</li>
<li>-Infinity比任何数都小</li>
<li>引用值的其它类型，自动转化为字符串，再转化为数字，然后比较</li>
</ul>
<h4 id="（2）比较相等"><a href="#（2）比较相等" class="headerlink" title="（2）比较相等"></a>（2）比较相等</h4><ul>
<li>原始值比较数据</li>
<li>引用值比较地址</li>
<li>undefined与null比较相等，与0、false比较则不等</li>
<li>其它原始类型先转换为数字，再比较</li>
<li>NaN与任何比较都不想等，包括自身</li>
<li>+Infinity、-Infinity只跟自身相等，与其它不等</li>
</ul>
<h4 id="（3）严格相等"><a href="#（3）严格相等" class="headerlink" title="（3）严格相等 === !=="></a>（3）严格相等 === !==</h4><ul>
<li>两端数据和类型都必须相同才为true</li>
<li>两端数据和类型只要有一个不同就为false</li>
<li>undefined与null比较：false</li>
<li>NaN与任何比较，包括自身：false</li>
<li>+Infinity、-Infinity只跟自身相等，与其它不等</li>
</ul>
<hr>
<h3 id="4-逻辑运算符"><a href="#4-逻辑运算符" class="headerlink" title="4.逻辑运算符"></a>4.逻辑运算符</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&amp;&amp;</td>
<td align="center">与</td>
<td align="center">并且</td>
</tr>
<tr>
<td align="center">||</td>
<td align="center">或</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">！</td>
<td align="center">非</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="1-A-amp-amp-B"><a href="#1-A-amp-amp-B" class="headerlink" title="(1) A &amp;&amp; B"></a>(1) A &amp;&amp; B</h4><ul>
<li><p>null、undefined、false、NaN、””、0 均为false</p>
</li>
<li><p>若表达式A的结果为fale</p>
<ul>
<li>忽略表达式B（不运行）</li>
<li>返回表达式A的结果</li>
</ul>
</li>
<li><p>若表达式A的结果为true</p>
<ul>
<li>运行表达式B</li>
<li>返回表达式B的结果</li>
</ul>
</li>
</ul>
<h4 id="2-A-B"><a href="#2-A-B" class="headerlink" title="(2) A || B"></a>(2) A || B</h4><ul>
<li><p>null、undefined、false、NaN、””、0 均为false</p>
</li>
<li><p>若表达式A的结果为true</p>
<ul>
<li>忽略表达式B（不运行）</li>
<li>返回表达式A的结果</li>
</ul>
</li>
<li><p>若表达式A的结果为false</p>
<ul>
<li>运行表达式B</li>
<li>返回表达式B的结果</li>
</ul>
</li>
</ul>
<h4 id="（3）-A"><a href="#（3）-A" class="headerlink" title="（3）!A"></a>（3）!A</h4><ul>
<li>表达式A的结果转化为boolean</li>
<li>boolean结果取反返回</li>
</ul>
<hr>
<h3 id="5-三目运算"><a href="#5-三目运算" class="headerlink" title="5.三目运算"></a>5.三目运算</h3><p><strong>A ？B : C</strong></p>
<ul>
<li>如果表达式A的结果为true<ul>
<li>运行并返回表达式B的结果</li>
<li>忽略表达式C（不运行）</li>
</ul>
</li>
<li>如果表达式A的结果为false<ul>
<li>运行并返回表达式C的结果</li>
<li>忽略表达式B（不运行）</li>
</ul>
</li>
</ul>
<hr>
<h3 id="6-赋值运算符"><a href="#6-赋值运算符" class="headerlink" title="6.赋值运算符"></a>6.赋值运算符</h3><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">含义</th>
<th align="center">特性</th>
</tr>
</thead>
<tbody><tr>
<td align="center">=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">+=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">-=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">*=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">/=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">%=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">**=</td>
<td align="center">赋值</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">—</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h3 id="7-其它运算符"><a href="#7-其它运算符" class="headerlink" title="7.其它运算符"></a>7.其它运算符</h3><ul>
<li>typeof(A) 获取表达式A结果的类型，返回值类型为字符串</li>
<li>void(A) 运行表达式A，返回值为undefined</li>
<li>A,B 逗号运算符，依次运算表达式A和表达式B，后一个表达式B的结果（==优先级低于赋值==）</li>
</ul>
<hr>
<h3 id="8-数字的存储"><a href="#8-数字的存储" class="headerlink" title="8.数字的存储"></a>8.数字的存储</h3><h4 id="（1）问题？"><a href="#（1）问题？" class="headerlink" title="（1）问题？"></a>（1）问题？</h4><h5 id="1）js中小数运算精确吗？"><a href="#1）js中小数运算精确吗？" class="headerlink" title="1）js中小数运算精确吗？"></a>1）js中小数运算精确吗？</h5><ul>
<li>不一定<h5 id="2）js中整数运算精确吗？"><a href="#2）js中整数运算精确吗？" class="headerlink" title="2）js中整数运算精确吗？"></a>2）js中整数运算精确吗？</h5></li>
<li>不一定<h5 id="3）js中整数是连续的吗？"><a href="#3）js中整数是连续的吗？" class="headerlink" title="3）js中整数是连续的吗？"></a>3）js中整数是连续的吗？</h5></li>
<li>不是<h5 id="4）js中最大的连续整数？"><a href="#4）js中最大的连续整数？" class="headerlink" title="4）js中最大的连续整数？"></a>4）js中最大的连续整数？</h5></li>
<li>Number.MAX_SAFE_INTEGER</li>
<li>9007199254740991<h5 id="5）js中表示数字的有效位数？"><a href="#5）js中表示数字的有效位数？" class="headerlink" title="5）js中表示数字的有效位数？"></a>5）js中表示数字的有效位数？</h5></li>
<li>16~17位</li>
</ul>
<h4 id="（2）解决"><a href="#（2）解决" class="headerlink" title="（2）解决"></a>（2）解决</h4><p><strong>二进制双精度64位存储标准</strong></p>
<ul>
<li>第一位表示符号<ul>
<li>0 表示正数</li>
<li>1 表示负数</li>
</ul>
</li>
<li>2~12位表示指数</li>
<li>后53位表示小数</li>
</ul>
<h4 id="（3）位运算"><a href="#（3）位运算" class="headerlink" title="（3）位运算"></a>（3）位运算</h4><p><strong>将数字取整按32位二进制存储</strong></p>
<ul>
<li><strong>位与 &amp;</strong><ul>
<li>每一位进行比较，如果都为1，结果为1，否则为0</li>
</ul>
</li>
<li><strong>位或 |</strong><ul>
<li>每一位进行比较，如果都为0，结果为0，否则为1</li>
</ul>
</li>
<li><strong>位非 ~</strong><ul>
<li>每一位进行取反，如果为0，结果为1，如果为1，结果为0</li>
<li>NaN、Infinity、-Infinity都看作0</li>
<li>==- 数字 -1==</li>
<li><blockquote>
<p>~2</p>
</blockquote>
</li>
<li><blockquote>
<p>-2-1</p>
</blockquote>
</li>
<li><blockquote>
<p>-3</p>
</blockquote>
</li>
</ul>
</li>
<li><strong>位异或 ^</strong> <ul>
<li>每一位进行比较，相同为0，不同为1</li>
</ul>
</li>
<li><strong>左位移 &lt;&lt;</strong><ul>
<li>整体向左移动指定位数</li>
<li>x &lt;&lt; n 相当于 x * 2的n次方</li>
</ul>
</li>
<li><strong>右位移 &gt;&gt;</strong><ul>
<li>整体向右移动指定位数</li>
<li>x &gt;&gt; n 相当于 x / 2的n次方</li>
</ul>
</li>
</ul>
<hr>
<h2 id="四、流程控制"><a href="#四、流程控制" class="headerlink" title="四、流程控制"></a>四、流程控制</h2><h3 id="（一）流程图"><a href="#（一）流程图" class="headerlink" title="（一）流程图"></a>（一）流程图</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">graph TD</span></pre></td></tr><tr><td class="code"><pre><span class="line">style st fill:lightblue;</span></pre></td></tr><tr><td class="code"><pre><span class="line">style ed fill:lightblue;</span></pre></td></tr><tr><td class="code"><pre><span class="line">style do fill:lightblue;</span></pre></td></tr><tr><td class="code"><pre><span class="line">style in fill:lightblue;</span></pre></td></tr><tr><td class="code"><pre><span class="line">style if fill:lightblue;</span></pre></td></tr><tr><td class="code"><pre><span class="line">st(圆角矩形)</span></pre></td></tr><tr><td class="code"><pre><span class="line">ed((圆形))</span></pre></td></tr><tr><td class="code"><pre><span class="line">do[矩形]</span></pre></td></tr><tr><td class="code"><pre><span class="line">in&gt;旗帜形]</span></pre></td></tr><tr><td class="code"><pre><span class="line">if&#123;菱形&#125;</span></pre></td></tr></table></figure>

<h3 id="（二）if判断"><a href="#（二）if判断" class="headerlink" title="（二）if判断"></a>（二）if判断</h3><h4 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;&#125;<span class="keyword">else</span>&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;&#125;<span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;<span class="keyword">else</span>&#123;&#125;</span></pre></td></tr></table></figure>
<ul>
<li>一条if判断语句中：<ul>
<li>if块只能出现一个</li>
<li>else if块可以出现多个（包括0个）</li>
<li>else块只能出现0个或一个</li>
</ul>
</li>
</ul>
<h4 id="2-执行顺序"><a href="#2-执行顺序" class="headerlink" title="2.执行顺序"></a>2.执行顺序</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件<span class="number">1</span>)&#123;A&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(条件<span class="number">2</span>)&#123;B&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(条件<span class="number">3</span>)&#123;C&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">else</span>&#123;D&#125;</span></pre></td></tr></table></figure>
<ul>
<li>代码从上到下依次进行：<ul>
<li>如果满足条件1，执行A代码块，后面的直接忽略，语句结束</li>
<li>如果不满足条件1，忽略A代码块，看条件2</li>
<li>如果满足条件2，执行B代码块，后面的直接忽略，语句结束</li>
<li>如果不满足条件2，忽略B代码块，看条件3</li>
<li>如果满足条件3，执行C代码块，后面的直接忽略，语句结束</li>
<li>如果不满足条件3，忽略C代码块，执行D代码块，语句结束</li>
</ul>
</li>
</ul>
<h3 id="（三）switch开关"><a href="#（三）switch开关" class="headerlink" title="（三）switch开关"></a>（三）switch开关</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>(n)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">case</span> a: A; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">case</span> b: B; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">case</span> c: C; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">default</span>: D; <span class="keyword">break</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>代码从上到下依次进行：<ul>
<li>如果n === a，执行A代码块，后面的直接忽略，语句结束</li>
<li>如果n !== a，忽略A代码块，看条件n和b</li>
<li>如果n === b，执行B代码块，后面的直接忽略，语句结束</li>
<li>如果n !== b，忽略B代码块，看条件n和c</li>
<li>如果n === c，执行C代码块，后面的直接忽略，语句结束</li>
<li>如果n !== c，执行D代码块，语句结束</li>
</ul>
</li>
</ul>
<h3 id="（四）while循环"><a href="#（四）while循环" class="headerlink" title="（四）while循环"></a>（四）while循环</h3><h4 id="1-while"><a href="#1-while" class="headerlink" title="1.while(){}"></a>1.while(){}</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  执行</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>判断条件<ul>
<li>条件满足，执行循环体，然后继续判断条件—循环</li>
<li>条件不满足，语句结束</li>
</ul>
</li>
</ul>
<h4 id="2-do-while"><a href="#2-do-while" class="headerlink" title="2.do{}while()"></a>2.do{}while()</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  执行</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;<span class="keyword">while</span>(条件)</span></pre></td></tr></table></figure>
<ul>
<li>执行循环体</li>
<li>判断条件<ul>
<li>条件满足，执行循环体，然后继续判断条件—循环</li>
<li>条件不满足，语句结束</li>
</ul>
</li>
</ul>
<h3 id="（五）for循环"><a href="#（五）for循环" class="headerlink" title="（五）for循环"></a>（五）for循环</h3><h4 id="1-语法-1"><a href="#1-语法-1" class="headerlink" title="1.语法"></a>1.语法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式A; 条件B; 条件改变表达式C)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    循环体D</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式A; 条件B; )&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    循环体D;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    条件改变表达式C;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">初始化表达式A;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>( ; 条件B; )&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    循环体D;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    条件改变表达式C;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr></table></figure>

<h4 id="2-执行顺序-1"><a href="#2-执行顺序-1" class="headerlink" title="2.执行顺序"></a>2.执行顺序</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式A; 条件B; 条件改变表达式C)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    循环体D</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr></table></figure>

<ul>
<li>初始化表达式A</li>
<li>判断条件B，如果条件成立<ul>
<li>执行循环体D</li>
<li>条件改变表达式C</li>
<li>判断条件B—循环</li>
</ul>
</li>
<li>判断条件B，如果条件不成立<ul>
<li>循环结束</li>
</ul>
</li>
</ul>
<h4 id="3-关键字"><a href="#3-关键字" class="headerlink" title="3.关键字"></a>3.关键字</h4><ul>
<li>break 结束最近的循环</li>
<li>continue 终止当前循环体，进行下次循环</li>
</ul>
<hr>
<h2 id="五、数组"><a href="#五、数组" class="headerlink" title="五、数组"></a>五、数组</h2><h3 id="（一）创建"><a href="#（一）创建" class="headerlink" title="（一）创建"></a>（一）创建</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [item1, item2, ...]</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(length)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(item1, item2, ...)</span></pre></td></tr></table></figure>

<h3 id="（二）本质"><a href="#（二）本质" class="headerlink" title="（二）本质"></a>（二）本质</h3><ul>
<li>数组的本质是一个特殊的对象</li>
<li>数组访问使用下标（索引）属性表达式 arr[“0”] 或 arr[0]（数字会自动转换为字符串）</li>
<li>数组的下标正常情况下是连续的，从0开始到length-1</li>
<li>数组的length属性会自动变化，为最大下标+1</li>
<li>数组的length属性手动赋值，可能会导致数组截断（不建议使用）</li>
</ul>
<h3 id="（三）操作"><a href="#（三）操作" class="headerlink" title="（三）操作"></a>（三）操作</h3><h4 id="1-增"><a href="#1-增" class="headerlink" title="1.增"></a>1.增</h4><h5 id="（1）向数组末尾添加一项"><a href="#（1）向数组末尾添加一项" class="headerlink" title="（1）向数组末尾添加一项"></a>（1）向数组末尾添加一项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr[arr.length] = 数据</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">arr.push(数据)</span></pre></td></tr></table></figure>
<ul>
<li>arr[arr.length]可读性不强（不推荐）</li>
<li>可同时添加多项数据</li>
</ul>
<h5 id="（2）向数组开头添加一项"><a href="#（2）向数组开头添加一项" class="headerlink" title="（2）向数组开头添加一项"></a>（2）向数组开头添加一项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.unshift(数据)</span></pre></td></tr></table></figure>
<ul>
<li>每一项的下标依次后移</li>
<li>可同时添加多项数据</li>
</ul>
<h5 id="（3）向数组指定位置添加一项"><a href="#（3）向数组指定位置添加一项" class="headerlink" title="（3）向数组指定位置添加一项"></a>（3）向数组指定位置添加一项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.splice(index, <span class="number">0</span>, 数据)</span></pre></td></tr></table></figure>
<ul>
<li>从指定index位置开始，删除0项，然后在该位置插入数据</li>
<li>如果index超出范围，则按照数组范围的边界进行处理</li>
<li>如果index是负数，则从数组末尾开始反计算</li>
</ul>
<hr>
<h4 id="2-删"><a href="#2-删" class="headerlink" title="2.删"></a>2.删</h4><h5 id="（1）删除数组最后一项"><a href="#（1）删除数组最后一项" class="headerlink" title="（1）删除数组最后一项"></a>（1）删除数组最后一项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.pop()</span></pre></td></tr></table></figure>
<ul>
<li>一次只能删除一项</li>
<li>返回删除项（没有返回undefined）</li>
</ul>
<h5 id="（2）删除数组第一项"><a href="#（2）删除数组第一项" class="headerlink" title="（2）删除数组第一项"></a>（2）删除数组第一项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.shift()</span></pre></td></tr></table></figure>
<ul>
<li>每一项的下标依次前移</li>
<li>一次只能删除一项</li>
<li>返回删除项（没有返回undefined）</li>
</ul>
<h5 id="（3）删除数组指定位置项"><a href="#（3）删除数组指定位置项" class="headerlink" title="（3）删除数组指定位置项"></a>（3）删除数组指定位置项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> arr[index]</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">arr.splice(index, n)</span></pre></td></tr></table></figure>
<ul>
<li>delete删除指定index位置的数据，会导致稀松数组（下标不连续，不利于遍历）</li>
<li>从数组index位置开始，删除n项，返回一个新数组，包含删除项（没有返回空数组）</li>
</ul>
<hr>
<h4 id="3-常用操作"><a href="#3-常用操作" class="headerlink" title="3.常用操作"></a>3.常用操作</h4><h5 id="（1）数组填充指定数据"><a href="#（1）数组填充指定数据" class="headerlink" title="（1）数组填充指定数据"></a>（1）数组填充指定数据</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.fill(数据, start, end)</span></pre></td></tr></table></figure>
<ul>
<li>如果start和end都不指定，则全部填充</li>
<li>如果end不指定，则从start开始，一直到结束</li>
</ul>
<h5 id="（2）克隆数组的指定片段"><a href="#（2）克隆数组的指定片段" class="headerlink" title="（2）克隆数组的指定片段"></a>（2）克隆数组的指定片段</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> newArr = arr.slice(start, end)</span></pre></td></tr></table></figure>
<ul>
<li>如果start和end都不指定，则全部克隆</li>
<li>如果end不指定，则从start开始，一直到结束</li>
<li>不影响原数组</li>
</ul>
<h5 id="（3）数组清空"><a href="#（3）数组清空" class="headerlink" title="（3）数组清空"></a>（3）数组清空</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.length = <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">arr.splice(<span class="number">0</span>, arr.length)</span></pre></td></tr></table></figure>

<h5 id="（4）检索指定数据的下标"><a href="#（4）检索指定数据的下标" class="headerlink" title="（4）检索指定数据的下标"></a>（4）检索指定数据的下标</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.indexOf(数据)</span></pre></td></tr></table></figure>
<ul>
<li>返回第一个检索到的下标</li>
<li>没有返回-1</li>
<li>严格执行===</li>
<li>lastIndexOf() 逆序检索</li>
</ul>
<h5 id="（5）in关键字"><a href="#（5）in关键字" class="headerlink" title="（5）in关键字"></a>（5）in关键字</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a <span class="keyword">in</span> obj</span></pre></td></tr><tr><td class="code"><pre><span class="line">b <span class="keyword">in</span> arr</span></pre></td></tr></table></figure>
<ul>
<li>检索obj中有没有a属性</li>
<li>检索arr中有没有a索引</li>
<li>检索到返回true，否则返回false</li>
</ul>
<h5 id="（6）for-in循环"><a href="#（6）for-in循环" class="headerlink" title="（6）for-in循环"></a>（6）for-in循环</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(obj[prop]);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> arr)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="built_in">console</span>.log(arr[index]);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<ul>
<li>依次遍历obj的属性，将属性名赋值给prop变量，执行循环体（遍历对象）</li>
<li>依次遍历arr的下标，将下标赋值给index变量，执行循环体（遍历数组）</li>
<li>==for循环与for-in循环的区别==<ul>
<li>for循环，会把稀松数组的每一项都遍历到</li>
<li>for-in循环，稀松数组的空项不会遍历到</li>
</ul>
</li>
</ul>
<h5 id="（7）拼接数组项"><a href="#（7）拼接数组项" class="headerlink" title="（7）拼接数组项"></a>（7）拼接数组项</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.join(分隔符)</span></pre></td></tr></table></figure>
<ul>
<li>拼接数组每一项，每一项之间用指定分隔符连接，返回字符串</li>
<li>若分隔符未指定，默认为逗号</li>
</ul>
<h5 id="（8）拼接数组"><a href="#（8）拼接数组" class="headerlink" title="（8）拼接数组"></a>（8）拼接数组</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">new</span> arr = arr1.concat(arr2)</span></pre></td></tr></table></figure>
<ul>
<li>将arr1和arr2拼接成一个新数组并返回</li>
<li>不会影响原数组</li>
</ul>
<h4 id="4-二维数组"><a href="#4-二维数组" class="headerlink" title="4.二维数组"></a>4.二维数组</h4><ul>
<li>数组的每一项又是一个数组</li>
</ul>
<hr>
<h2 id="六、函数"><a href="#六、函数" class="headerlink" title="六、函数"></a>六、函数</h2><h3 id="（一）语法"><a href="#（一）语法" class="headerlink" title="（一）语法"></a>（一）语法</h3><h4 id="1-函数声明（字面量）"><a href="#1-函数声明（字面量）" class="headerlink" title="1.函数声明（字面量）"></a>1.函数声明（字面量）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;<span class="keyword">return</span>&#125;</span></pre></td></tr></table></figure>
<ul>
<li>声明关键字function</li>
<li>函数名fn</li>
<li>参数列表()</li>
<li>函数体{}</li>
<li>返回值return</li>
</ul>
<h4 id="2-函数调用"><a href="#2-函数调用" class="headerlink" title="2.函数调用"></a>2.函数调用</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fn()</span></pre></td></tr></table></figure>
<ul>
<li>函数名</li>
<li>执行操作符()</li>
</ul>
<h4 id="3-函数声明提升"><a href="#3-函数声明提升" class="headerlink" title="3.函数声明提升"></a>3.函数声明提升</h4><ul>
<li>与变量声明提升一样</li>
<li>函数字面量声明会将函数名提升至脚本快顶部</li>
<li>通过字面量声明的函数将会成为全局对象的属性</li>
</ul>
<h4 id="4-局部变量"><a href="#4-局部变量" class="headerlink" title="4.局部变量"></a>4.局部变量</h4><ul>
<li>在函数体内用var关键字声明的变量为局部变量</li>
<li>在函数体内直接给一个未声明的变量赋值，此变量会成为全局变量</li>
<li>局部变量声明会提升至函数顶部，函数外部不可见</li>
</ul>
<h4 id="5-参数"><a href="#5-参数" class="headerlink" title="5.参数"></a>5.参数</h4><ul>
<li>功能实现的未知条件为参数</li>
<li>形参：在函数声明时在（）内定义参数</li>
<li>实参：在函数调用时通过（）实现给函数形参对应传递参数</li>
<li>参数的作用域为局部作用域，只在函数体内可见</li>
<li>没有实参对应的形参为undefined</li>
</ul>
<h4 id="6-返回值"><a href="#6-返回值" class="headerlink" title="6.返回值"></a>6.返回值</h4><ul>
<li>函数执行后返回一个结果为返回值</li>
<li>返回值可以自定义</li>
<li>return之后函数即结束，会忽略return语句之后的其它语句</li>
<li>如果函数没有自定义return语句，则会默认返回undefined</li>
</ul>
<h4 id="7-文档注释"><a href="#7-文档注释" class="headerlink" title="7.文档注释"></a>7.文档注释</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> * 变量：说明</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> * 函数：说明</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> * @param&#123;类型&#125;a 参数</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> * @returns&#123;类型&#125;b 返回值</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"> */</span></span></pre></td></tr></table></figure>
<ul>
<li>文档注释不会执行</li>
<li>文档注释可以很好的给变量、函数进行说明，在使用时能给予使用者做很好的提示</li>
</ul>
<hr>
<h3 id="（二）特性"><a href="#（二）特性" class="headerlink" title="（二）特性"></a>（二）特性</h3><h4 id="1-作用域"><a href="#1-作用域" class="headerlink" title="1.作用域"></a>1.作用域</h4><h5 id="（1）全局作用域"><a href="#（1）全局作用域" class="headerlink" title="（1）全局作用域"></a>（1）全局作用域</h5><ul>
<li>在全局作用域中声明的变量会被提升到脚本块的顶部，并且会成为全局对象的属性</li>
<li>全局作用域中只能使用全局变量（函数）</li>
</ul>
<h5 id="（2）局部作用域（函数作用域）"><a href="#（2）局部作用域（函数作用域）" class="headerlink" title="（2）局部作用域（函数作用域）"></a>（2）局部作用域（函数作用域）</h5><ul>
<li>在局部作用域中声明的变量会被提升到函数的顶部，并且不会成为全局对象的属性</li>
<li>局部变量不会污染全局变量</li>
<li>局部作用域不仅可以使用内部变量（函数），还可以使用外部环境的变量（函数）</li>
<li>==当内部变量和外部变量冲突时，使用内部变量==</li>
</ul>
<h5 id="（3）闭包-closure"><a href="#（3）闭包-closure" class="headerlink" title="（3）闭包 closure"></a>（3）闭包 closure</h5><ul>
<li>闭包是一种现象，内部函数可以使用外部环境的变量</li>
</ul>
<h4 id="2-函数表达式"><a href="#2-函数表达式" class="headerlink" title="2.函数表达式"></a>2.函数表达式</h4><h5 id="1-立即执行函数"><a href="#1-立即执行函数" class="headerlink" title="(1)立即执行函数"></a>(1)立即执行函数</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;)();</span></pre></td></tr></table></figure>
<ul>
<li>==当函数成为一个表达式时，既不会提升，也不会污染全局对象==</li>
<li>将函数变成函数表达式之一的方法是用小括号将函数括起来，但是声明即结束，之后无法调用</li>
<li>将这种形式的函数表达式返回函数本身，即可以加执行符号立即执行，称之为<strong>立即执行函数 IIFE</strong></li>
<li>第一个小括号将函数变成表达式，返回函数本身</li>
<li>第二个小括号将函数立即执行，返回执行结果</li>
</ul>
<h5 id="2-匿名函数"><a href="#2-匿名函数" class="headerlink" title="(2)匿名函数"></a>(2)匿名函数</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;)();</span></pre></td></tr></table></figure>
<ul>
<li>函数表达式的函数名没有意义，可以省略，称之为<strong>匿名函数</strong></li>
</ul>
<h5 id="3-函数引用"><a href="#3-函数引用" class="headerlink" title="(3)函数引用"></a>(3)函数引用</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">fn</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;]</span></pre></td></tr></table></figure>
<ul>
<li>函数也是一种引用数据，可以赋值给变量/属性</li>
<li>变量保存的是对函数的地址引用</li>
</ul>
<h5 id="4-回调函数"><a href="#4-回调函数" class="headerlink" title="(4)回调函数"></a>(4)回调函数</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span> (<span class="params">call</span>)</span>&#123;call()&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">fn2(fn1)</span></pre></td></tr></table></figure>
<ul>
<li>将函数做为参数传递给另一个函数使用，称之为<strong>回调函数</strong></li>
</ul>
<h4 id="3-this关键字"><a href="#3-this关键字" class="headerlink" title="3.this关键字"></a>3.this关键字</h4><ul>
<li>在全局环境作用域中，this指代全局对象</li>
<li>在函数作用域中<ul>
<li>直接调用：this指代全局对象</li>
<li>对象调用：this指代调用对象</li>
</ul>
</li>
</ul>
<hr>
<h3 id="（三）构造函数"><a href="#（三）构造函数" class="headerlink" title="（三）构造函数"></a>（三）构造函数</h3><h4 id="1-普通函数创建对象"><a href="#1-普通函数创建对象" class="headerlink" title="1.普通函数创建对象"></a>1.普通函数创建对象</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateUser</span>(<span class="params">name, age</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    name,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    age,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    say()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user1 = CreateUser(<span class="string">"huafu"</span>, <span class="number">18</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user2 = CreateUser(<span class="string">"zhang"</span>, <span class="number">40</span>);</span></pre></td></tr></table></figure>
<ul>
<li>用函数创建对象可以减少繁琐的对象创建流程</li>
<li>函数可以返回任意的返回值，可用于返回一个对象</li>
</ul>
<h4 id="2-构造函数"><a href="#2-构造函数" class="headerlink" title="2.构造函数"></a>2.构造函数</h4><h5 id="（1）语法"><a href="#（1）语法" class="headerlink" title="（1）语法"></a>（1）语法</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span>(<span class="params">name, age</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">// this = &#123;&#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">// return this</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user1 = <span class="keyword">new</span> User(<span class="string">"huafu"</span>, <span class="number">18</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user2 = <span class="keyword">new</span> User(<span class="string">"zhang"</span>, <span class="number">40</span>);</span></pre></td></tr></table></figure>
<ul>
<li>构造函数命名规约：大驼峰、尽量不使用动词</li>
<li>new关键字来调用构造函数创建对象</li>
<li>this默认指向新创建的对象</li>
</ul>
<h5 id="（2）返回值"><a href="#（2）返回值" class="headerlink" title="（2）返回值"></a>（2）返回值</h5><ul>
<li>默认隐式返回一个新对象</li>
<li>如果显式返回值<ul>
<li>返回值是原始类型：直接忽略，默认返回</li>
<li>返回值是引用类型：覆盖默认返回</li>
</ul>
</li>
</ul>
<h5 id="（3）原理"><a href="#（3）原理" class="headerlink" title="（3）原理"></a>（3）原理</h5><ul>
<li>第一步隐式创建了this = {}; </li>
<li>最后一步隐式返回了this这个对象</li>
</ul>
<h5 id="（4）new-target"><a href="#（4）new-target" class="headerlink" title="（4）new.target"></a>（4）new.target</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">User</span>(<span class="params">name, age</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">if</span>(<span class="keyword">new</span>.target === User)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">// this = &#123;&#125;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.name = name;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.age = age;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">// return this</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;<span class="keyword">else</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      name,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      age,</span></pre></td></tr><tr><td class="code"><pre><span class="line">      say()&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        <span class="built_in">console</span>.log(<span class="string">`我的名字是<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,今年<span class="subst">$&#123;age&#125;</span>岁`</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user1 = <span class="keyword">new</span> User(<span class="string">"huafu"</span>, <span class="number">18</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user2 = User(<span class="string">"zhang"</span>, <span class="number">40</span>);</span></pre></td></tr></table></figure>
<ul>
<li>构造函数通过new调用，new.target指向构造函数本身</li>
<li>构造函数没通过new调用，new.target为undefined</li>
</ul>
<hr>
<h3 id="（四）本质"><a href="#（四）本质" class="headerlink" title="（四）本质"></a>（四）本质</h3><h4 id="1-函数的本质就是对象"><a href="#1-函数的本质就是对象" class="headerlink" title="1.函数的本质就是对象"></a>1.函数的本质就是对象</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;<span class="keyword">return</span> a + b&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"return a + b"</span>);</span></pre></td></tr></table></figure>
<ul>
<li>所有的对象都是通过构造函数创建的，使用new关键字</li>
<li>函数的本质就是对象，自然也是构造函数创建，可以使用new操作符</li>
<li>实际上，所有的函数都是构造函数创建的</li>
<li>这样构造函数是js引擎启动时就已经创建好</li>
<li>new Function()创建的是函数</li>
<li>new 自定义函数()创建的是对象</li>
</ul>
<h4 id="2-函数的属性"><a href="#2-函数的属性" class="headerlink" title="2.函数的属性"></a>2.函数的属性</h4><ul>
<li>函数的本质是对象，自然也可以拥有属性</li>
</ul>
<h4 id="3-包装类"><a href="#3-包装类" class="headerlink" title="3.包装类"></a>3.包装类</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">a = <span class="number">3.14159</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">a.toFixed(<span class="number">2</span>);   <span class="comment">// (new Number(a)).toFixed(2)</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">Boolean</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">String</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span></span></pre></td></tr></table></figure>
<ul>
<li>js为了增强原始类型的功能，为boolean、string、number分别创建了一个构造函数</li>
<li>如果语法上，将原始类型当做对象使用（一般是使用属性），js会自动的在该位置利用对应的构造函数，创建对象来访问原始类型的属性</li>
<li>在js中类就相当于构造函数</li>
<li>成员/实例方法（属性）：通过构造函数创建的对象调用</li>
<li>静态/类方法（属性）：通过构造函数调用</li>
</ul>
<hr>
<h3 id="（五）递归"><a href="#（五）递归" class="headerlink" title="（五）递归"></a>（五）递归</h3><h4 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1.概念"></a>1.概念</h4><ul>
<li>在函数内部直接或间接调用自身</li>
</ul>
<h4 id="2-执行栈"><a href="#2-执行栈" class="headerlink" title="2.执行栈"></a>2.执行栈</h4><ul>
<li>任何代码的执行都必须有一个执行环境，执行环境为代码的执行提供支持</li>
<li>执行环境会放到执行栈中</li>
<li>函数每次执行都会创建一个新的执行环境，执行完毕即销毁</li>
<li>执行栈的空间大小有限，执行环境过多可能导致执行栈溢出</li>
</ul>
<h4 id="3-无限递归与死循环"><a href="#3-无限递归与死循环" class="headerlink" title="3.无限递归与死循环"></a>3.无限递归与死循环</h4><ul>
<li>无限递归，函数每次调用都会产生新环境，所以会导致栈溢出报错</li>
<li>死循环每次循环并不会产生新环境，也不会导致栈溢出，会导致卡死</li>
</ul>
<h4 id="4-尾递归"><a href="#4-尾递归" class="headerlink" title="4.尾递归"></a>4.尾递归</h4><ul>
<li>如果一个函数最后一条语句是调用函数，并且调用函数不是表达式的一部分，则该语句称之为尾调用，如若尾调用是调用函数自身称之为尾递归</li>
<li>某些语言或执行环境会对尾调用进行优化，它们会理解销毁当前函数，避免执行栈空间被占用</li>
<li>在浏览器环境中没有优化</li>
<li>在node环境中有优化</li>
</ul>
<hr>
<h2 id="七、标准库"><a href="#七、标准库" class="headerlink" title="七、标准库"></a>七、标准库</h2><h3 id="（一）Object（构造函数）"><a href="#（一）Object（构造函数）" class="headerlink" title="（一）Object（构造函数）"></a>（一）Object（构造函数）</h3><h4 id="1-静态成员"><a href="#1-静态成员" class="headerlink" title="1.静态成员"></a>1.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Object.keys(obj)</strong></td>
<td align="left">方法</td>
<td align="left">{Object}</td>
<td align="left">可枚举的属性</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left"><strong>Object.values(obj)</strong></td>
<td align="left">方法</td>
<td align="left">{Object}</td>
<td align="left">可枚举的属性值</td>
<td align="left">{Array&lt;T&gt;}</td>
</tr>
<tr>
<td align="left"><strong>Object.entries(obj)</strong></td>
<td align="left">方法</td>
<td align="left">{Object}</td>
<td align="left">可枚举的属性/属性值</td>
<td align="left">{Array&lt;Array&gt;}</td>
</tr>
</tbody></table>
<h4 id="2-实例成员"><a href="#2-实例成员" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>obj.toString()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">转换为字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>obj.valueOf()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">返回自身</td>
<td align="left">{Object}</td>
</tr>
<tr>
<td align="left">- 实例成员可重写属性或方法</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 自动类型转换的本质</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">+ 先调用valueOf()得到结果</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">* 如果结果是原始类型，则该结果就是最终结果</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">* 如果结果是引用类型，则该结果再调用toString()得到最终结果</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（二）Function（构造函数）"><a href="#（二）Function（构造函数）" class="headerlink" title="（二）Function（构造函数）"></a>（二）Function（构造函数）</h3><h4 id="1-特性"><a href="#1-特性" class="headerlink" title="1.特性"></a>1.特性</h4><ul>
<li>所有函数都具有Function中的实例成员</li>
<li>arguments（==类数组==）在函数中使用，得到函数调用时的实参列表</li>
<li>arguments 会与实参列表一一映射（一个改变对应另一个也改变）</li>
</ul>
<h4 id="2-实例成员-1"><a href="#2-实例成员-1" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>fn.length</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">获取形参数量</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>fn.call()</strong></td>
<td align="left">方法</td>
<td align="left">{obj, Array&lt;T&gt;}</td>
<td align="left">临时改变this指向，调用函数</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>fn.apply()</strong></td>
<td align="left">方法</td>
<td align="left">{obj, T}</td>
<td align="left">临时改变this指向，调用函数</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>fn.bind()</strong></td>
<td align="left">方法</td>
<td align="left">{obj, T}</td>
<td align="left">永久绑定this指向，不调用函数，返回新函数</td>
<td align="left">{Function}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（三）Array（构造函数）"><a href="#（三）Array（构造函数）" class="headerlink" title="（三）Array（构造函数）"></a>（三）Array（构造函数）</h3><h4 id="1-静态成员-1"><a href="#1-静态成员-1" class="headerlink" title="1.静态成员"></a>1.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Array.form()</strong></td>
<td align="left">方法</td>
<td align="left">{类数组}</td>
<td align="left">将类数组转换为数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>Array.isArray()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定数组</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Array.of()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">用指定数据创建数组</td>
<td align="left">{Array}</td>
</tr>
</tbody></table>
<h4 id="2-实例成员-2"><a href="#2-实例成员-2" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>arr.fill()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start, end}</td>
<td align="left">用指定数据填充数组，返回当前数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.slice()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start, end}</td>
<td align="left">复制指定的数组片段，返回新数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.pop()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">删除数组尾项，返回删除项</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>arr.shift()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">删除数组首项，返回删除项</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>arr.push()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">在数组尾部添加数据，返回当前数组新length</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.unshift()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">在数组首部添加数据，返回当前数组新length</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.reverse()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">将数组颠倒顺序，返回当前数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.sort()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(a, b){}}</td>
<td align="left">对数组进行排序/乱序，返回当前数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.concat()</strong></td>
<td align="left">方法</td>
<td align="left">{Array}</td>
<td align="left">对数组进行合并，返回新数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.includes()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start}</td>
<td align="left">查询指定数据（严格相等）,返回true/false</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>arr.indexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start}</td>
<td align="left">顺序查询指定数据（严格相等）,返回index</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.lastIndexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{T, start}</td>
<td align="left">逆序查询指定数据（严格相等）,返回index</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.join()</strong></td>
<td align="left">方法</td>
<td align="left">{连接符}</td>
<td align="left">将数组项以指定连接符进行拼接成字符串并返回</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>arr.forEach()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组</td>
<td align="left">{undefined}</td>
</tr>
<tr>
<td align="left"><strong>arr.every()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组，是否每一项都满足条件</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>arr.some()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组，是否有一项满足条件</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>arr.filter()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">遍历数组，筛选满足条件的所有元素并返回</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left"><strong>arr.find()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">顺序查询满足条件的第一个元素并返回</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left"><strong>arr.findIndex()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">顺序查询满足条件的第一个元素的下标并返回</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>arr.map()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(item, index, arr){}}</td>
<td align="left">将数组每一项映射成为指定条件的数据并返回</td>
<td align="left">{Array&lt;Object&gt;}</td>
</tr>
<tr>
<td align="left"><strong>arr.reduce()</strong></td>
<td align="left">方法</td>
<td align="left">{fn(a, b){}, first}</td>
<td align="left">将数组每两项为一个结果进行累计迭代并返回最后一次迭代的结果</td>
<td align="left">{T}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（四）Number（构造函数）"><a href="#（四）Number（构造函数）" class="headerlink" title="（四）Number（构造函数）"></a>（四）Number（构造函数）</h3><h4 id="1-特性-1"><a href="#1-特性-1" class="headerlink" title="1.特性"></a>1.特性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span>()</span></pre></td></tr></table></figure>
<ul>
<li>类型转换</li>
<li>用new调用返回对象</li>
<li>直接调用返回的是原始值</li>
</ul>
<h4 id="2-静态成员"><a href="#2-静态成员" class="headerlink" title="2.静态成员"></a>2.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Number.isNaN()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定NaN</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Number.isFinite()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定Infinity</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Number.isInteger()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">判定整数</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>Number.parseInt()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">转化为整数</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Number.parseFloat()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">转换为小数</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left">- parseInt参数为字符串，若不是字符串，会先转换为字符串，再进行转换为整数</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- parseInt从左往右看从第一个有效数字开始到第一个非有效数字字符结束，忽略两边的空白字符，直接舍弃小数部分，转换不了返回NaN</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- parseInt可选第二位参数，用于指定参数的进制（2-32），参数与进制不符，会取开端符合进制的部分，舍弃不符部分，取不到则返回NaN</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- parseInt的返回值为十进制</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="3-实例成员"><a href="#3-实例成员" class="headerlink" title="3.实例成员"></a>3.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>num.toFixed()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">保留指定小数位数，返回数字字符串（四舍五入）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>num.toPrecision()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">保留指定精度，返回数字字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（五）Boolean（构造函数）"><a href="#（五）Boolean（构造函数）" class="headerlink" title="（五）Boolean（构造函数）"></a>（五）Boolean（构造函数）</h3><ul>
<li>0、””、false、undefined、null、NaN 判定为假</li>
<li>其它判定为真 Boolean(“false”) ==&gt; true</li>
</ul>
<hr>
<h3 id="（六）String（构造函数）"><a href="#（六）String（构造函数）" class="headerlink" title="（六）String（构造函数）"></a>（六）String（构造函数）</h3><h4 id="1-静态成员-2"><a href="#1-静态成员-2" class="headerlink" title="1.静态成员"></a>1.静态成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>String.fromCharCode()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">用Unicode编码创建字符</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left">- 参数取值范围0-65535</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- infinity返回” “;</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="2-实例成员-3"><a href="#2-实例成员-3" class="headerlink" title="2.实例成员"></a>2.实例成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>str.length</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">字符串长度（字符个数）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.charAt()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">取得指定位置的字符</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.charCodeAt()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">取得指定位置的字符的Unicode码</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.concat()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">字符串拼接</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.includes()</strong></td>
<td align="left">方法</td>
<td align="left">{string, start}</td>
<td align="left">检索字符串中是否包含指定字符串</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>str.startsWith()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中是以指定字符串开始</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>str.endsWith()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中是以指定字符串结尾</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>str.indexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中指定字符串首次出现索引</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.lastIndexOf()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">检索字符串中指定字符串末次出现索引</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.padStart()</strong></td>
<td align="left">方法</td>
<td align="left">{length, string}</td>
<td align="left">填充字符串至指定长度（首部填充）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.padEnd()</strong></td>
<td align="left">方法</td>
<td align="left">{length, string}</td>
<td align="left">填充字符串至指定长度（末部填充）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.repeat()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">重复字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.slice()</strong></td>
<td align="left">方法</td>
<td align="left">{start, end}</td>
<td align="left">复制字符串片段（从某个位置取到某个位置）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.substr()</strong></td>
<td align="left">方法</td>
<td align="left">{start, length}</td>
<td align="left">复制字符串片段（从某个位置开始取指定长度）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.substring()</strong></td>
<td align="left">方法</td>
<td align="left">{start, end}</td>
<td align="left">复制字符串片段（从某个位置取到某个位置）</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.toLowerCase()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">字符串转换为小写</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.toUpperCase()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">字符串转换为大写</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.trim()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">忽略字符串两端空格</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.trimStart()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">忽略字符串开端空格</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.trimEnd()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">忽略字符串末端空格</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>str.split()</strong></td>
<td align="left">方法</td>
<td align="left">{T}</td>
<td align="left">将字符串以分隔符拆分成数组</td>
<td align="left">{Array}</td>
</tr>
<tr>
<td align="left">- 字符串是==类数组==</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- charAt(index) 和 [index]取得指定索引的字符</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- charAt(index) 中index超出范围返回””;</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 数组中index超出范围返回undefined</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- slice、substr参数可为负数，负数时，倒序计算；参数位置不可换</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- substring参数不可为负数，否则自动转换为0；参数位置可换</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（七）Math（对象）"><a href="#（七）Math（对象）" class="headerlink" title="（七）Math（对象）"></a>（七）Math（对象）</h3><h4 id="1-常量"><a href="#1-常量" class="headerlink" title="1.常量"></a>1.常量</h4><ul>
<li>永远不会变化的数据</li>
<li>命名规约：所有字母大写，多单词下划线连接</li>
</ul>
<h4 id="2-对象成员"><a href="#2-对象成员" class="headerlink" title="2.对象成员"></a>2.对象成员</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Math.PI</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">圆周率</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.abs()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">绝对值</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.floor()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">向下取整</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.ceil()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">向上取整</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.round()</strong></td>
<td align="left">方法</td>
<td align="left">{number}</td>
<td align="left">四舍五入</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.max()</strong></td>
<td align="left">方法</td>
<td align="left">{number…}</td>
<td align="left">最大值</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.min()</strong></td>
<td align="left">方法</td>
<td align="left">{number…}</td>
<td align="left">最小值</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>Math.random()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">伪随机数</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（八）Date（构造函数）"><a href="#（八）Date（构造函数）" class="headerlink" title="（八）Date（构造函数）"></a>（八）Date（构造函数）</h3><h4 id="1-术语"><a href="#1-术语" class="headerlink" title="1.术语"></a>1.术语</h4><h5 id="（1）时间单位"><a href="#（1）时间单位" class="headerlink" title="（1）时间单位"></a>（1）时间单位</h5><ul>
<li>年：year</li>
<li>月：month</li>
<li>日：date</li>
<li>小时：hour</li>
<li>分钟：minute</li>
<li>秒钟：second</li>
<li>毫秒：millisecond</li>
<li>微妙：microsecond</li>
<li>纳秒：nanosecond</li>
</ul>
<h5 id="（2）UTC和GMT"><a href="#（2）UTC和GMT" class="headerlink" title="（2）UTC和GMT"></a>（2）UTC和GMT</h5><ul>
<li>UTC：世界协调时（原子时，精确到纳秒）</li>
<li>GMT：格林威治世界时（太阳时，精确毫秒）</li>
<li>UTC与GMT时差不超过0.9秒，UTF自动校正</li>
</ul>
<h5 id="（3）时间戳"><a href="#（3）时间戳" class="headerlink" title="（3）时间戳"></a>（3）时间戳</h5><ul>
<li>1970年1月1日0时0分0秒0毫秒起（GMT）</li>
<li>到某个时间所经过的毫秒数</li>
</ul>
<h4 id="2-创建"><a href="#2-创建" class="headerlink" title="2.创建"></a>2.创建</h4><ul>
<li>Date() 直接调用，会忽略参数，返回当前系统时间</li>
<li>new Data()创建日期对象<ul>
<li>一个参数：时间戳</li>
<li>多个参数：年、月、日、时、分、秒、毫秒</li>
</ul>
</li>
</ul>
<h4 id="3-实例成员-1"><a href="#3-实例成员-1" class="headerlink" title="3.实例成员"></a>3.实例成员</h4><h5 id="（1）获取"><a href="#（1）获取" class="headerlink" title="（1）获取"></a>（1）获取</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>d.getTime()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取时间戳</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getFullYear()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取年</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getmonth()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取月（0-11）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getDay()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取周（0-6）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getDate()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取日</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getHours()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取时）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getMinutes()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取分）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.getSeconds()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">获取秒</td>
<td align="left">{number}</td>
</tr>
</tbody></table>
<h5 id="（2）设置"><a href="#（2）设置" class="headerlink" title="（2）设置"></a>（2）设置</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>d.setTime()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置时间戳</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setFullYear()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置年</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setmonth()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置月（0-11）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setDay()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置周（0-6）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setDate()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置日</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setHours()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置时）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setMinutes()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置分）</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>d.setSeconds()</strong></td>
<td align="left">方法</td>
<td align="left">——</td>
<td align="left">重置秒</td>
<td align="left">{number}</td>
</tr>
</tbody></table>
<h4 id="4-日期运算"><a href="#4-日期运算" class="headerlink" title="4.日期运算"></a>4.日期运算</h4><ul>
<li>重写了Object中的valueOf方法，返回的是一个数字类型的时间戳</li>
</ul>
<hr>
<h3 id="（九）RegExp（构造函数）"><a href="#（九）RegExp（构造函数）" class="headerlink" title="（九）RegExp（构造函数）"></a>（九）RegExp（构造函数）</h3><h4 id="1-字符"><a href="#1-字符" class="headerlink" title="1.字符"></a>1.字符</h4><h5 id="（1）字面量"><a href="#（1）字面量" class="headerlink" title="（1）字面量"></a>（1）字面量</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">/.../ 匹配直接书写的字符</span></pre></td></tr><tr><td class="code"><pre><span class="line">/ABC/ 匹配ABC字符</span></pre></td></tr></table></figure>
<h5 id="（2）特殊字符"><a href="#（2）特殊字符" class="headerlink" title="（2）特殊字符"></a>（2）特殊字符</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）   /^<span class="regexp">/ 开始</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">        /</span>$/ 结束</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">2</span>）   /./ 任意字符</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">3</span>）   /\n/  n是特殊字符（将特殊字符转换为普通字符）</span></pre></td></tr></table></figure>
<h5 id="（3）转义字符"><a href="#（3）转义字符" class="headerlink" title="（3）转义字符"></a>（3）转义字符</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）   /\n/  换行符</span></pre></td></tr><tr><td class="code"><pre><span class="line">        /\t/  制表符</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">2</span>）   /\s/  空白字符</span></pre></td></tr><tr><td class="code"><pre><span class="line">        /\S/  非空白字符</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">3</span>）   /\b/  单词边界</span></pre></td></tr><tr><td class="code"><pre><span class="line">        /\B/  非单词边界</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">4</span>）   /\d/  数字[<span class="number">0</span><span class="number">-9</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line">        /\D/  非数字[^<span class="number">0</span><span class="number">-9</span>]</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">5</span>）   /\w/  字母、数字、下划线[A-Za_z0<span class="number">-9</span>_]</span></pre></td></tr><tr><td class="code"><pre><span class="line">        /\W/  非字母、数字、下划线[^A-Za_z0<span class="number">-9</span>_]</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">6</span>）   /\un/ n是四位十六进制的Unicode码</span></pre></td></tr></table></figure>
<h5 id="（4）字符集"><a href="#（4）字符集" class="headerlink" title="（4）字符集"></a>（4）字符集</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">/[ABC]/  匹配ABC中任意一位</span></pre></td></tr><tr><td class="code"><pre><span class="line">/[<span class="number">0</span><span class="number">-9</span>]/  匹配任意一位字符</span></pre></td></tr><tr><td class="code"><pre><span class="line">/^[<span class="number">0</span><span class="number">-9</span>]/  必须以一位数字开始</span></pre></td></tr><tr><td class="code"><pre><span class="line">/[^<span class="number">0</span><span class="number">-9</span>]/  非数字</span></pre></td></tr><tr><td class="code"><pre><span class="line">/[\u4E00-\u9FA5]/ 匹配任意一位中文（除生僻字）</span></pre></td></tr></table></figure>

<h4 id="2-量词"><a href="#2-量词" class="headerlink" title="2.量词"></a>2.量词</h4><h5 id="（1）特殊字符"><a href="#（1）特殊字符" class="headerlink" title="（1）特殊字符"></a>（1）特殊字符</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）   /[...]*<span class="regexp">/ 0或多个</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">（2）   /</span>[...]+<span class="regexp">/ 1或多个</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">（3）   /</span>[...]?<span class="regexp">/ 0或1个</span></span></pre></td></tr></table></figure>
<h5 id="（2）自定义量词"><a href="#（2）自定义量词" class="headerlink" title="（2）自定义量词"></a>（2）自定义量词</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）   /[...]&#123;n&#125;/ n个</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">2</span>）   /[...]&#123;n,&#125;/ 至少n个</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">3</span>）   /[...]&#123;n,m&#125;/ n到m个</span></pre></td></tr></table></figure>

<h4 id="3-符号"><a href="#3-符号" class="headerlink" title="3.符号"></a>3.符号</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）   /|<span class="regexp">/ 或者</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp"></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="regexp">（2）   /</span>()/ 子集（捕获组）</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">3</span>）   /[]/ 字符集</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">（<span class="number">3</span>）   /&#123;&#125;/ 自定义量词</span></pre></td></tr></table></figure>

<h4 id="4-创建"><a href="#4-创建" class="headerlink" title="4.创建"></a>4.创建</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/规则/</span>flag</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(规则, flag)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="built_in">RegExp</span>(规则, flag)</span></pre></td></tr></table></figure>
<blockquote>
<p>reg = /规则/<br>reg1 = new RegExp(reg)<br>reg2 = RegExp(reg)</p>
</blockquote>
<ul>
<li>当用一个正则作为参数创建正则时，用不用new就会有区别<ul>
<li>reg1 === reg ==&gt; false</li>
<li>reg2 === reg ==&gt; true</li>
</ul>
</li>
<li>flag<ul>
<li>g 全局匹配</li>
<li>i 忽略大小写</li>
<li>m 多行匹配</li>
</ul>
</li>
</ul>
<hr>
<h4 id="5-实例成员"><a href="#5-实例成员" class="headerlink" title="5.实例成员"></a>5.实例成员</h4><h5 id="（1）正则"><a href="#（1）正则" class="headerlink" title="（1）正则"></a>（1）正则</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>reg.global</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">是否开启全局</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.ignoreCase</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">是否开启忽略大小写</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.multiline</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">是否开启多行</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.source</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">当前规则</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><strong>reg.lastIndex</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">匹配位置</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>reg.test()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">是否匹配到</td>
<td align="left">{boolean}</td>
</tr>
<tr>
<td align="left"><strong>reg.exec()</strong></td>
<td align="left">方法</td>
<td align="left">{string}</td>
<td align="left">匹配到的结果</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left">- test当开启全局匹配的时候受lastIndex属性控制匹配位置</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- exec当开启全局匹配的时候受lastIndex属性控制匹配位置</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"aaa"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/a+/g</span>;   贪婪模式 ==&gt; <span class="string">"aaa"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/a+?/g</span>;  非贪婪模式 ==&gt; <span class="string">"a"</span></span></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 默认匹配模式为贪婪模式（尽可能的多），在量词后加？更改为非贪婪模式</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h5 id="（2）字符串"><a href="#（2）字符串" class="headerlink" title="（2）字符串"></a>（2）字符串</h5><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>str.search()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp}</td>
<td align="left">第一次匹配到的index</td>
<td align="left">{number}</td>
</tr>
<tr>
<td align="left"><strong>str.match()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp}</td>
<td align="left">匹配到的结果</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left"><strong>str.split()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp}</td>
<td align="left">按正则分隔字符串</td>
<td align="left">{Array&lt;string&gt;}</td>
</tr>
<tr>
<td align="left"><strong>str.replace()</strong></td>
<td align="left">方法</td>
<td align="left">{RegExp, string|function}</td>
<td align="left">按正则替换指定字符并返回新字符串</td>
<td align="left">{string}</td>
</tr>
<tr>
<td align="left"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello world"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> newStr = str.replace(<span class="regexp">/\s*\b[a-z]\s*/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span> match.toUpperCase().trim();</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- replace替换可以使用函数</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">+ match为匹配到的内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">+ return返回值为替换的内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="6-捕获组"><a href="#6-捕获组" class="headerlink" title="6.捕获组"></a>6.捕获组</h4><h5 id="（1）匿名捕获组"><a href="#（1）匿名捕获组" class="headerlink" title="（1）匿名捕获组"></a>（1）匿名捕获组</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(《[\u4e00-\u9fa5]+》)[\u4e00-\u9fa5]+(\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)[\u4e00-\u9fa5]+/gim</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">reg.exec(str) ==&gt; </span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">0</span>: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">1</span>: <span class="string">"《中华人民共和国安全生产法》"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">2</span>: <span class="string">"2002年11月1日"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">groups: <span class="literal">undefined</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">index: <span class="number">0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">input: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">length: <span class="number">3</span></span></pre></td></tr></table></figure>
<ul>
<li>一个()代表一个捕获组，从左往右一次计算（例子中有2个捕获组）</li>
<li>当()发生嵌套的时候，从左往右，从外层往内层计算</li>
<li>匹配的结果返回的数组中，从index[1]位开始一次对应捕获组匹配的子集<ul>
<li>[0]代表匹配到的结果</li>
<li>[1]代表从左往右第一个()捕获组的内容</li>
<li>[2]代表从左往右第二个()捕获组的内容</li>
</ul>
</li>
</ul>
<h5 id="（2）具名捕获组"><a href="#（2）具名捕获组" class="headerlink" title="（2）具名捕获组"></a>（2）具名捕获组</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;name&gt;《[\u4e00-\u9fa5]+》)[\u4e00-\u9fa5]+(?&lt;time&gt;\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)[\u4e00-\u9fa5]+/gim</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">reg.exec(str) ==&gt; </span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">0</span>: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">1</span>: <span class="string">"《中华人民共和国安全生产法》"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">2</span>: <span class="string">"2002年11月1日"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">groups: &#123;<span class="attr">name</span>: <span class="string">"《中华人民共和国安全生产法》"</span>, <span class="attr">time</span>: <span class="string">"2002年11月1日"</span>&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">index: <span class="number">0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">input: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">length: <span class="number">3</span></span></pre></td></tr></table></figure>
<ul>
<li>一个()代表一个捕获组，以 ==<strong>（ ？&lt;name&gt;</strong>== 的形式给当前()捕获组命名</li>
<li>具名捕获组会对应到返回结果的数组属性groups对象中<ul>
<li>命名为属性名</li>
<li>捕获组内容为属性值</li>
</ul>
</li>
</ul>
<h5 id="（3）非捕获组"><a href="#（3）非捕获组" class="headerlink" title="（3）非捕获组"></a>（3）非捕获组</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?:《[\u4e00-\u9fa5]+》)[\u4e00-\u9fa5]+(?&lt;time&gt;\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)[\u4e00-\u9fa5]+/gim</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">reg.exec(str) ==&gt; </span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">0</span>: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="number">1</span>: <span class="string">"2002年11月1日"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">groups: &#123;<span class="attr">time</span>: <span class="string">"2002年11月1日"</span>&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">index: <span class="number">0</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">input: <span class="string">"《中华人民共和国安全生产法》自2002年11月1日起施行。"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">length: <span class="number">3</span></span></pre></td></tr></table></figure>
<ul>
<li>一个()代表一个捕获组，以 ==<strong>（ ？：</strong>== 的形式设定当前()为非捕获组</li>
<li>非捕获组不会再捕获子集，节约性能</li>
</ul>
<h5 id="（4）replace运用捕获组"><a href="#（4）replace运用捕获组" class="headerlink" title="（4）replace运用捕获组"></a>（4）replace运用捕获组</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">str.replace(reg, <span class="function"><span class="keyword">function</span>(<span class="params">match, g1, g2</span>)</span>&#123;&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">str.replace(reg, <span class="string">"$1/$2"</span>)</span></pre></td></tr></table></figure>
<ul>
<li>replace替换可以使用函数,函数第二个参数开始对应捕获组<ul>
<li>match为匹配到的内容</li>
<li>g1为第一个捕获组的内容</li>
<li>g2为第二个捕获组的内容</li>
<li>return返回值为替换的内容</li>
</ul>
</li>
<li>replace替换可以使用字符串,字符串中的特殊字符$1、$2…对应捕获组<ul>
<li>$1为第一个捕获组的内容</li>
<li>$2为第二个捕获组的内容</li>
</ul>
</li>
</ul>
<h5 id="（5）反向引用"><a href="#（5）反向引用" class="headerlink" title="（5）反向引用"></a>（5）反向引用</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/(1&#123;2&#125;)(a&#123;2&#125;)\1/</span>; ==&gt; <span class="number">11</span>aa11</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/(1&#123;2&#125;)(a&#123;2&#125;)\2/</span>; ==&gt; <span class="number">11</span>aaaa</span></pre></td></tr></table></figure>
<ul>
<li>在正则表达式中，匿名捕获组以 ==<strong>\n</strong>== 的形式对()捕获组进行引用，n代表要引用第几个捕获组<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/(?&lt;num1&gt;1&#123;2&#125;)(?&lt;num2&gt;a&#123;2&#125;)\k&lt;num1&gt;/</span>; ==&gt; <span class="number">11</span>aa11</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/(?&lt;num1&gt;1&#123;2&#125;)(?&lt;num2&gt;a&#123;2&#125;)\k&lt;num2&gt;/</span>; ==&gt; <span class="number">11</span>aaaa</span></pre></td></tr></table></figure></li>
<li>在正则表达式中，具名捕获组以 ==<strong>\k&lt;name&gt;</strong>== 的形式对()捕获组进行引用，name代表要引用的捕获组名称</li>
</ul>
<h4 id="7-断言-预查"><a href="#7-断言-预查" class="headerlink" title="7.断言/预查"></a>7.断言/预查</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/[a-z](?=\d+)/g</span>; ==&gt; ab11 ==&gt; b</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/[a-z](?!=\d+)/g</span>; ==&gt; ab11 ==&gt; a</span></pre></td></tr></table></figure>
<ul>
<li>在正则表达式中，以 ==<strong>（ ？=规则）</strong>== 的形式对匹配进行正向预查</li>
<li>在正则表达式中，以 ==<strong>（ ？！=规则）</strong>== 的形式对匹配进行负向预查</li>
<li>此形式的()不会成为捕获组，亦不会成为匹配结果的一部分</li>
<li>reg1匹配一个小写字母，且要满足后面跟随的是数字</li>
<li>reg2匹配一个小写字母，且要满足后面跟随的不是数字<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1234567890"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\B(?=(\d&#123;3&#125;)+$)/g</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s = str.replace(reg, <span class="string">","</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(s); ==&gt; <span class="string">"1,234,567,890"</span></span></pre></td></tr></table></figure></li>
<li>钱数表示法<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"aA123.10"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&amp;*()&lt;&gt;+-/.]).&#123;6,8&#125;$/</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> resault = reg.test(str);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(resault);</span></pre></td></tr></table></figure></li>
<li>密码强度检查<ul>
<li>(?=.*[a-z]) 有没有包含一个小写字母</li>
<li>(?=.*[A-Z]) 有没有包含一个大写字母</li>
<li>(?=.*\d) 有没有包含一个数字</li>
<li>(?=.*[!@#$%^&amp;*()&lt;&gt;+-/.]) 有没有包含一个特殊字符</li>
</ul>
</li>
<li>==预查不会消耗字符，预查完后匹配位置依然从0开始==</li>
</ul>
<hr>
<h3 id="（十）Error（构造函数）"><a href="#（十）Error（构造函数）" class="headerlink" title="（十）Error（构造函数）"></a>（十）Error（构造函数）</h3><h4 id="1-错误类型"><a href="#1-错误类型" class="headerlink" title="1.错误类型"></a>1.错误类型</h4><ul>
<li>语法错误：导致当前脚本块不执行</li>
<li>运行错误<ul>
<li>运行报错：导致当前脚本块后续代码不执行</li>
<li>运行结果不符合预期</li>
</ul>
</li>
</ul>
<h4 id="2-调试错误"><a href="#2-调试错误" class="headerlink" title="2.调试错误"></a>2.调试错误</h4><ul>
<li>控制台打印</li>
<li>断点调试（Chrome）</li>
</ul>
<h4 id="3-抛出错误"><a href="#3-抛出错误" class="headerlink" title="3.抛出错误"></a>3.抛出错误</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> e = <span class="keyword">new</span> <span class="built_in">Error</span>(msg);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">throw</span> e;</span></pre></td></tr></table></figure>

<h4 id="4-错误家族"><a href="#4-错误家族" class="headerlink" title="4.错误家族"></a>4.错误家族</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Error()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>SyntaxError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">语法错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>TypeError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">类型错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>ReferenceError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">引用错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>RangeError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">越界错误</td>
<td align="left">{Error}</td>
</tr>
<tr>
<td align="left"><strong>URLError()</strong></td>
<td align="left">构造函数</td>
<td align="left">{T}</td>
<td align="left">路径错误</td>
<td align="left">{Error}</td>
</tr>
</tbody></table>
<h4 id="5-捕获错误"><a href="#5-捕获错误" class="headerlink" title="5.捕获错误"></a>5.捕获错误</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//错误捕获区</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">catch</span>(e)&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//错误处理区</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">finally</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">//最终执行区</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<hr>
<h2 id="八、DOM核心"><a href="#八、DOM核心" class="headerlink" title="八、DOM核心"></a>八、DOM核心</h2><h3 id="（一）获取"><a href="#（一）获取" class="headerlink" title="（一）获取"></a>（一）获取</h3><h4 id="1-获取DOM节点"><a href="#1-获取DOM节点" class="headerlink" title="1.获取DOM节点"></a>1.获取DOM节点</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>document.documentElement</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">html节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.head</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">head节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.body</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">body节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.links</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">超链接节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.anchors</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">锚链接（name属性）节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.forms</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">form节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementById()</strong></td>
<td align="left">方法</td>
<td align="left">{string/ID属性值}</td>
<td align="left">id属性节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementsByTagName()</strong></td>
<td align="left">方法</td>
<td align="left">{string/元素名}</td>
<td align="left">元素节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementsByName()</strong></td>
<td align="left">方法</td>
<td align="left">{string/name属性值}</td>
<td align="left">name属性节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>document.getElementsByClassName()</strong></td>
<td align="left">方法</td>
<td align="left">{string/class属性值}</td>
<td align="left">class属性节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>document.querySelector()</strong></td>
<td align="left">方法</td>
<td align="left">{string/css选择器}</td>
<td align="left">class属性节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE8及以上</td>
</tr>
<tr>
<td align="left"><strong>document.querySelectorAll()</strong></td>
<td align="left">方法</td>
<td align="left">{string/css选择器}</td>
<td align="left">class属性节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">IE8及以上</td>
</tr>
<tr>
<td align="left">- querySelectorAll()获取的是静态快照，其它的均是实时更新的</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- 定义ID属性的DOM节点会成为window对象的属性，它是一个实时的单对象，会与同名全局变量冲突</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">- getElementsByTagName()/getElementsByClassName()/querySelector()/querySelectorAll()在元素节点上均有定义</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="2-节点关系"><a href="#2-节点关系" class="headerlink" title="2.节点关系"></a>2.节点关系</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>node.parentNode</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">父节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.previousSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">前兄弟节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.nextSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">后兄弟节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.childNodes</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">子节点</td>
<td align="left">{Array&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.firstChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.lastChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>node.attributes</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">属性节点</td>
<td align="left">{Array&lt;Node&gt;}</td>
<td align="left">——</td>
</tr>
</tbody></table>
<h4 id="3-元素关系"><a href="#3-元素关系" class="headerlink" title="3.元素关系"></a>3.元素关系</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>ele.parentElement</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">父节点、父元素</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>ele.previousElementSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">前兄弟节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>ele.nextElementSibling</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">后兄弟节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>ele.children</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">子节点</td>
<td align="left">{Array&lt;DOM&gt;}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>ele.firstElementChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
<tr>
<td align="left"><strong>ele.lastElementChild</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">第一个子节点</td>
<td align="left">{Object&lt;DOM&gt;}</td>
<td align="left">IE9及以上</td>
</tr>
</tbody></table>
<h4 id="4-节点属性"><a href="#4-节点属性" class="headerlink" title="4.节点属性"></a>4.节点属性</h4><table>
<thead>
<tr>
<th align="left">API</th>
<th align="left">类型</th>
<th align="left">参数</th>
<th align="left">作用/返回值</th>
<th align="left">返回值类型</th>
<th align="left">兼容性</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>dom.nodeName</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">节点名</td>
<td align="left">{STRING}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>dom.tagName</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">元素名</td>
<td align="left">{STRING}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>dom.nodeValue</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">节点内容</td>
<td align="left">{string}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>dom.nodeType</strong></td>
<td align="left">属性</td>
<td align="left">——</td>
<td align="left">节点类型</td>
<td align="left">{number}</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="（二）操作"><a href="#（二）操作" class="headerlink" title="（二）操作"></a>（二）操作</h3><h4 id="1-操作DOM属性"><a href="#1-操作DOM属性" class="headerlink" title="1.操作DOM属性"></a>1.操作DOM属性</h4><h5 id="（1）可识别属性（HTML正常属性）"><a href="#（1）可识别属性（HTML正常属性）" class="headerlink" title="（1）可识别属性（HTML正常属性）"></a>（1）可识别属性（HTML正常属性）</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.id</span></pre></td></tr><tr><td class="code"><pre><span class="line">div.className</span></pre></td></tr><tr><td class="code"><pre><span class="line">label.htmlFor</span></pre></td></tr><tr><td class="code"><pre><span class="line">input.value = <span class="string">"请输入内容"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">img.src = <span class="string">"./1.jpg"</span>;</span></pre></td></tr></table></figure>
<ul>
<li>正常的属性即使没有赋值也有默认值</li>
<li>布尔属性获取的是Boolean值，并非原始书写值</li>
<li>正常的属性名与关键字/保留字冲突时，修改属性名</li>
<li>有些HTML元素并不存在的属性也可以正常使用</li>
</ul>
<h5 id="（2）自定义属性"><a href="#（2）自定义属性" class="headerlink" title="（2）自定义属性"></a>（2）自定义属性</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">abc</span>=<span class="string">"123"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-abc</span>=<span class="string">"123"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.getAttribute(<span class="string">"abc"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">div.setAttribute(<span class="string">"abc"</span>, <span class="string">"123"</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">div.removeAttribute(<span class="string">"abc"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">div.dataset.abc;</span></pre></td></tr><tr><td class="code"><pre><span class="line">div.dataset.abc = <span class="string">"123"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> div.dataset.abc;</span></pre></td></tr></table></figure>

<h4 id="2-操作DOM内容"><a href="#2-操作DOM内容" class="headerlink" title="2.操作DOM内容"></a>2.操作DOM内容</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.innerHtml</span></pre></td></tr><tr><td class="code"><pre><span class="line">div.innerHtml = <span class="string">"&lt;p&gt;段落&lt;/p&gt;"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">p.innerText</span></pre></td></tr><tr><td class="code"><pre><span class="line">p.innerText = <span class="string">"段落"</span></span></pre></td></tr></table></figure>
<ul>
<li>innerHtml可识别HTML元素内容</li>
<li>innerText可见并且显示的纯文本内容，有兼容性问题</li>
<li>textContent源代码纯文本内容，有兼容性问题</li>
</ul>
<h4 id="3-操作DOM结构"><a href="#3-操作DOM结构" class="headerlink" title="3.操作DOM结构"></a>3.操作DOM结构</h4><h5 id="（1）操作页面元素对象"><a href="#（1）操作页面元素对象" class="headerlink" title="（1）操作页面元素对象"></a>（1）操作页面元素对象</h5><ul>
<li><strong>A父元素.appendChild(元素1)</strong><ul>
<li>将元素1剪切，追加到A元素的最后一个子元素位置</li>
</ul>
</li>
<li><strong>A父元素.append(元素1、2、3…)</strong><ul>
<li>将元素1、2、3剪切，依次追加到A元素的最后一个子元素位置</li>
</ul>
</li>
<li><strong>A父元素.insertBefore(元素1，子元素a)</strong><ul>
<li>将元素1剪切，插入到A元素的子元素a前面的位置</li>
</ul>
</li>
<li><strong>A父元素.insertBefore(元素1，子元素a.nextElementSibling)</strong><ul>
<li>将元素1剪切，插入到A元素的子元素a后面的位置</li>
</ul>
</li>
<li><strong>A父元素.replaceChild(元素1，子元素a)</strong><ul>
<li>将元素1剪切，替换掉A元素的子元素a的位置</li>
</ul>
</li>
</ul>
<h5 id="（2）创建新元素对象"><a href="#（2）创建新元素对象" class="headerlink" title="（2）创建新元素对象"></a>（2）创建新元素对象</h5><ul>
<li><strong>document.createElement(元素名)</strong> 创建元素</li>
<li><strong>document.createDocumentFragment()</strong> 创建文档片段</li>
</ul>
<h5 id="（3）克隆页面元素对象"><a href="#（3）克隆页面元素对象" class="headerlink" title="（3）克隆页面元素对象"></a>（3）克隆页面元素对象</h5><ul>
<li><strong>dom.cloneNode(是否深度克隆)</strong> 克隆元素</li>
<li>浅克隆：仅仅克隆自身</li>
<li>深克隆：克隆自身包含所有子元素及后代</li>
</ul>
<h5 id="（4）删除页面元素对象"><a href="#（4）删除页面元素对象" class="headerlink" title="（4）删除页面元素对象"></a>（4）删除页面元素对象</h5><ul>
<li><strong>A父元素.removeChild(子元素a)</strong> 谋杀</li>
<li><strong>子元素a.remove()</strong> 自杀</li>
</ul>
<h4 id="4-操作DOM样式"><a href="#4-操作DOM样式" class="headerlink" title="4.操作DOM样式"></a>4.操作DOM样式</h4><h5 id="（1）类样式"><a href="#（1）类样式" class="headerlink" title="（1）类样式"></a>（1）类样式</h5><ul>
<li><strong>dom.className</strong>：预先定义好css类样式，通过className改变类来对应实现类样式（兼容性好）</li>
<li><strong>dom.classList</strong>：预先定义好css类样式，通过classList.add/remove/contains/toggle方法来控制类（兼容性不好）</li>
</ul>
<h5 id="（2）样式属性"><a href="#（2）样式属性" class="headerlink" title="（2）样式属性"></a>（2）样式属性</h5><ul>
<li><strong>dom.style</strong>：行内样式对象</li>
<li>css-书写方式应转换为小驼峰书写方式</li>
<li>只能操作行内书写样式，得到的是声明值</li>
<li>==设置样式：只能设置行内样式==</li>
</ul>
<h5 id="（3）计算样式"><a href="#（3）计算样式" class="headerlink" title="（3）计算样式"></a>（3）计算样式</h5><ul>
<li><strong>window.getComputeStyle(dom, 伪元素)</strong>： 获取计算样式对象</li>
<li>获取的是最终经过计算的绝对值</li>
</ul>
<hr>
<h3 id="（三）事件"><a href="#（三）事件" class="headerlink" title="（三）事件"></a>（三）事件</h3><h4 id="1-术语-1"><a href="#1-术语-1" class="headerlink" title="1.术语"></a>1.术语</h4><ul>
<li>事件：发生一件事</li>
<li>事件类型：事件发生的类型</li>
<li>事件处理程序：事件发生时，运行的函数</li>
<li>事件注册：将事件处理程序挂载到事件上</li>
<li>事件源：事件目标元素</li>
</ul>
<h4 id="2-事件流"><a href="#2-事件流" class="headerlink" title="2.事件流"></a>2.事件流</h4><ul>
<li>概念：某个事件发生时，哪些元素会监听到该事件，这些元素触发该事件的顺序</li>
<li>规则：当一个元素的事件发生时，其所有的祖先元素均发生了该事件（与元素结构有关，与视觉效果无关）</li>
<li>冒泡：事件从最里层事件源开始，依次向祖先元素传递</li>
<li>捕获：事件从最外层祖先元素开始，依次向事件源传递</li>
<li>顺序：事件捕获阶段 –&gt; 事件目标阶段 –&gt; 事件冒泡阶段</li>
<li>标准：默认事件冒泡</li>
</ul>
<h4 id="3-事件注册-注销"><a href="#3-事件注册-注销" class="headerlink" title="3.事件注册/注销"></a>3.事件注册/注销</h4><h5 id="（1）事件属性"><a href="#（1）事件属性" class="headerlink" title="（1）事件属性"></a>（1）事件属性</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div onclick=<span class="string">"console.log("</span><span class="string">")"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">div.onclick = <span class="literal">null</span>;</span></pre></td></tr></table></figure>
<ul>
<li>事件属性只能给同一事件类型注册一个事件处理程序</li>
</ul>
<h5 id="（2）事件注册方法"><a href="#（2）事件注册方法" class="headerlink" title="（2）事件注册方法"></a>（2）事件注册方法</h5><p><strong>标准</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.addEventListener(<span class="string">"click"</span>, <span class="keyword">do</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">do</span>(<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">div.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="literal">false</span>)<span class="comment">//冒泡</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">div.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="literal">true</span>)<span class="comment">//捕获</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">div.removeEventLister(<span class="string">"click"</span>, <span class="keyword">do</span>)</span></pre></td></tr></table></figure>
<ul>
<li>事件方法可以给同一事件类型注册多个事件处理程序，按照注册顺序依次执行</li>
<li>移除事件不能使用匿名函数</li>
<li>==可以用第三个参数==<ul>
<li>boolean 指定事件处理阶段,默认false：冒泡，true：捕获（对事件目标阶段的事件无效）</li>
<li>Object 配置属性capture默认false：冒泡，true：捕获/属性once默认false：执行多次，true：仅仅执行一次</li>
</ul>
</li>
</ul>
<p><strong>兼容</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.attachEvent(<span class="string">"click"</span>, <span class="keyword">do</span>)</span></pre></td></tr><tr><td class="code"><pre><span class="line">div.detachEvent(<span class="string">"click"</span>, <span class="keyword">do</span>)</span></pre></td></tr></table></figure>


<h4 id="4-事件对象"><a href="#4-事件对象" class="headerlink" title="4.事件对象"></a>4.事件对象</h4><h5 id="（1）获取-1"><a href="#（1）获取-1" class="headerlink" title="（1）获取"></a>（1）获取</h5><p><strong>标准</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;&#125;</span></pre></td></tr></table></figure>
<ul>
<li>事件处理程序的第一个参数</li>
</ul>
<p><strong>兼容</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.event</span></pre></td></tr></table></figure>
<ul>
<li>全局属性event</li>
</ul>
<h5 id="（2）成员"><a href="#（2）成员" class="headerlink" title="（2）成员"></a>（2）成员</h5><ul>
<li><strong>事件源:</strong> <ul>
<li>标准e.target </li>
<li>兼容e.srcElement</li>
<li>事件委托：通过给父元素注册事件，通过事件源来实现子元素的事件处理</li>
</ul>
</li>
<li><strong>当前目标：</strong> e.currentTarget指代绑定事件的元素，与this等效</li>
<li><strong>事件类型：</strong> e.type</li>
<li><strong>阻止浏览器默认行为：</strong><ul>
<li>标准e.preventDefault()方法 </li>
<li>兼容e.returnValue属性默认true，更改为false</li>
<li>事件属性方式返回布尔值false</li>
<li>a元素href=”javascript:void(0)”</li>
</ul>
</li>
<li><strong>阻止冒泡：</strong><ul>
<li>标准e.stopPropagation()方法</li>
<li>兼容e.cancelBubble属性默认false，更改为true</li>
</ul>
</li>
<li><strong>处理阶段：</strong> e.eventPhase<ul>
<li>1 捕获</li>
<li>2 目标</li>
<li>3 冒泡</li>
</ul>
</li>
</ul>
<h5 id="（3）鼠标事件对象MouseEvent"><a href="#（3）鼠标事件对象MouseEvent" class="headerlink" title="（3）鼠标事件对象MouseEvent"></a>（3）鼠标事件对象MouseEvent</h5><ul>
<li><strong>辅助键</strong><ul>
<li>e.altKey:true/false 是否搭配使用了键盘alt辅助键</li>
<li>e.ctrlKey:true/false 是否搭配使用了键盘ctrl辅助键</li>
<li>e.shiftKey:true/false 是否搭配使用了键盘shift辅助键</li>
</ul>
</li>
<li><strong>使用键</strong><ul>
<li>e.button:0/1/2 使用的是左、中、右键（默认值为0）</li>
</ul>
</li>
<li><strong>位置</strong><ul>
<li>e.pageX 相对于页面left的横坐标</li>
<li>e.pageY 相对于页面top的纵坐标</li>
<li>e.clientX/e.x 相对于视口left的横坐标</li>
<li>e.clientY/e.y 相对于视口top的纵坐标</li>
<li>e.offsetX 相对于事件源填充盒left的横坐标</li>
<li>e.offsetY 相对于事件源填充盒top的纵坐标</li>
<li>e.screenX 相对于屏幕left的横坐标</li>
<li>e.screenY 相对于屏幕top的纵坐标</li>
<li>e.movementX 相对于鼠标上一次位置的横向偏移量</li>
<li>e.movementY 相对于鼠标上一次位置的纵向偏移量</li>
</ul>
</li>
</ul>
<h5 id="（4）键盘事件对象KeyboardEvent"><a href="#（4）键盘事件对象KeyboardEvent" class="headerlink" title="（4）键盘事件对象KeyboardEvent"></a>（4）键盘事件对象KeyboardEvent</h5><ul>
<li>e.code 按键字符串，适应键盘布局 KeyD</li>
<li>e.key 按键字符串，不适应键盘布局  d</li>
</ul>
<h5 id="（5）窗口事件对象"><a href="#（5）窗口事件对象" class="headerlink" title="（5）窗口事件对象"></a>（5）窗口事件对象</h5><ul>
<li>document.documentElement.scrollTop/scrollLeft 获取/设置网页滚动距离</li>
<li>dom.scrollTop/scrollLeft scrollTop/scrollLeft 获取/设置当前元素滚动距离</li>
<li>screen.width/height 屏幕尺寸</li>
<li>window.outerWidth/outerHeight 窗口外尺寸</li>
<li>window.innerWidth/innerHeight 窗口内尺寸（包含滚动条）</li>
<li>document.documentElement.clientWidth/clientHeight视口尺寸（不包含滚动条）</li>
<li>dom.clientWidth/clientHeight可视填充盒尺寸（不包含滚动条、边框）</li>
<li>dom.offsetWidth/offsetHeight可视元素尺寸（包含滚动条、边框）</li>
<li>dom.scrollWidth/scrollHeight实际内容尺寸（包含滚动条、边框）</li>
<li>dom.offsetParent 最近的祖先定位元素<ul>
<li>dom.offsetLeft 相对于e.offsetParent的横向偏移量</li>
<li>dom.offsetTop 相对于e.offsetParent的纵向偏移量</li>
</ul>
</li>
<li>dom.getBoundingClientRect()获取对象rect<ul>
<li>rect.left 相对于视口的横向偏移量</li>
<li>rect.top 相对于视口的纵向偏移量</li>
</ul>
</li>
<li>window.scrollTo(x, y) 定位到指定位置</li>
<li>window.scrollBy(x, y) 相对偏移量（递增、递减）</li>
</ul>
<h4 id="5-事件类型"><a href="#5-事件类型" class="headerlink" title="5.事件类型"></a>5.事件类型</h4><h5 id="（1）鼠标事件类型"><a href="#（1）鼠标事件类型" class="headerlink" title="（1）鼠标事件类型"></a>（1）鼠标事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">应用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>click</strong></td>
<td align="center">鼠标点击事件</td>
<td align="center">一般是左键</td>
</tr>
<tr>
<td align="center"><strong>dblclick</strong></td>
<td align="center">鼠标双击事件</td>
<td align="center">一般是左键</td>
</tr>
<tr>
<td align="center"><strong>mousedown</strong></td>
<td align="center">鼠标按下事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>mouseup</strong></td>
<td align="center">鼠标抬起事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>mousemove</strong></td>
<td align="center">鼠标移动事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>mouseover</strong></td>
<td align="center">鼠标进入事件</td>
<td align="center">冒泡</td>
</tr>
<tr>
<td align="center"><strong>mouseout</strong></td>
<td align="center">鼠标离开事件</td>
<td align="center">冒泡</td>
</tr>
<tr>
<td align="center"><strong>mouseenter</strong></td>
<td align="center">鼠标进入事件</td>
<td align="center">不冒泡</td>
</tr>
<tr>
<td align="center"><strong>mouseleave</strong></td>
<td align="center">鼠标离开事件</td>
<td align="center">不冒泡</td>
</tr>
</tbody></table>
<ul>
<li>over/out不包含子元素，从父元素到子元素就算离开了父元素</li>
<li>enter/leave包含子元素，从父元素进入子元素仍然算在父元素中</li>
</ul>
<h5 id="（2）键盘事件类型"><a href="#（2）键盘事件类型" class="headerlink" title="（2）键盘事件类型"></a>（2）键盘事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">应用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>keydown</strong></td>
<td align="center">键盘按下事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>keyup</strong></td>
<td align="center">键盘抬起事件</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center"><strong>keypress</strong></td>
<td align="center">键盘字符按下事件</td>
<td align="center">只监听字符键</td>
</tr>
<tr>
<td align="center">- keydown / keypress如果阻止了默认行为则对应输入内容不会显示</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h5 id="3-表单事件类型"><a href="#3-表单事件类型" class="headerlink" title="(3)表单事件类型"></a>(3)表单事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">应用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>focus</strong></td>
<td align="center">聚焦事件</td>
<td align="center">e.bubbles/false不会冒泡</td>
</tr>
<tr>
<td align="center"><strong>blur</strong></td>
<td align="center">失去焦点</td>
<td align="center">e.bubbles/false不会冒泡</td>
</tr>
<tr>
<td align="center"><strong>submit</strong></td>
<td align="center">提交事件</td>
<td align="center">e.bubbles/true会冒泡</td>
</tr>
<tr>
<td align="center"><strong>change</strong></td>
<td align="center">文本改变事件</td>
<td align="center">e.bubbles/true会冒泡</td>
</tr>
<tr>
<td align="center"><strong>input</strong></td>
<td align="center">输入事件</td>
<td align="center">e.bubbles/true会冒泡</td>
</tr>
</tbody></table>
<h5 id="（4）窗口事件类型"><a href="#（4）窗口事件类型" class="headerlink" title="（4）窗口事件类型"></a>（4）窗口事件类型</h5><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">含义</th>
<th align="center">宿主</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>load</strong></td>
<td align="center">资源全部加载完毕</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>DOMContentLoaded</strong></td>
<td align="center">DOM树构建完毕</td>
<td align="center">document</td>
</tr>
<tr>
<td align="center"><strong>readystatechange</strong></td>
<td align="center">document.readyState改变</td>
<td align="center">document</td>
</tr>
<tr>
<td align="center"><strong>beforeunload</strong></td>
<td align="center">窗口关闭前</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>unload</strong></td>
<td align="center">窗口关闭</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>scroll</strong></td>
<td align="center">滚动条滚动</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>resize</strong></td>
<td align="center">视口尺寸改变</td>
<td align="center">window</td>
</tr>
<tr>
<td align="center"><strong>contextmenu</strong></td>
<td align="center">右键菜单</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>paste</strong></td>
<td align="center">粘贴</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>copy</strong></td>
<td align="center">复制</td>
<td align="center">*</td>
</tr>
<tr>
<td align="center"><strong>cut</strong></td>
<td align="center">剪切</td>
<td align="center">*</td>
</tr>
</tbody></table>
<h4 id="6-浏览器渲染"><a href="#6-浏览器渲染" class="headerlink" title="6.浏览器渲染"></a>6.浏览器渲染</h4><h5 id="（1）渲染顺序"><a href="#（1）渲染顺序" class="headerlink" title="（1）渲染顺序"></a>（1）渲染顺序</h5><ul>
<li>1.网络：获取页面源代码</li>
<li>2.创建：document文档节点</li>
<li>3.预渲染：<ul>
<li>源代码从上到下，依次构建dom树</li>
<li>遇到（link/script）外部资源默认同步加载，外部资源加载完即立即执行</li>
<li>遇到（img/video/audio）外部资源默认异步加载，外部资源加载完即立即执行</li>
</ul>
</li>
<li>4.按照DOM树依次渲染子节点</li>
</ul>
<h5 id="（2）document-readyState状态"><a href="#（2）document-readyState状态" class="headerlink" title="（2）document.readyState状态"></a>（2）document.readyState状态</h5><ul>
<li>loading 资源开始加载</li>
<li>interactive DOM树构建完成 触发DOMContentLoaded</li>
<li>complete 资源加载完毕 触发load</li>
</ul>
<h4 id="7-事件模拟"><a href="#7-事件模拟" class="headerlink" title="7.事件模拟"></a>7.事件模拟</h4><ul>
<li>dom.click() 手动触发click事件</li>
<li>dom.submit() 手动触发submit事件</li>
<li>其它事件模拟<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//自定义事件</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="keyword">new</span> MouseEvent(<span class="string">"事件类型"</span>, &#123;配置&#125;)</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">//分发事件</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">dom.dispatchEvent(event)</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="九、BOM核心"><a href="#九、BOM核心" class="headerlink" title="九、BOM核心"></a>九、BOM核心</h2><h3 id="（一）计时器（异步）"><a href="#（一）计时器（异步）" class="headerlink" title="（一）计时器（异步）"></a>（一）计时器（异步）</h3><h4 id="1-Timeout"><a href="#1-Timeout" class="headerlink" title="1.Timeout"></a>1.Timeout</h4><h5 id="（1）setTimeout-fn-time"><a href="#（1）setTimeout-fn-time" class="headerlink" title="（1）setTimeout(fn, time)"></a>（1）setTimeout(fn, time)</h5><ul>
<li>返回计时器编号timer，等待time之后，运行fn</li>
<li>fn内的this指向window<h5 id="（2）clearTimeout-timer"><a href="#（2）clearTimeout-timer" class="headerlink" title="（2）clearTimeout(timer)"></a>（2）clearTimeout(timer)</h5></li>
<li>清除计时器</li>
</ul>
<h4 id="2-Interval"><a href="#2-Interval" class="headerlink" title="2.Interval"></a>2.Interval</h4><h5 id="（1）setInterval-fn-time"><a href="#（1）setInterval-fn-time" class="headerlink" title="（1）setInterval(fn, time)"></a>（1）setInterval(fn, time)</h5><ul>
<li>返回计时器编号timer，没间隔time，运行一次fn</li>
<li>fn内的this指向window<h5 id="（2）clearInterval-timer"><a href="#（2）clearInterval-timer" class="headerlink" title="（2）clearInterval(timer)"></a>（2）clearInterval(timer)</h5></li>
<li>清除计时器</li>
</ul>
<hr>
<h2 id="十、进阶"><a href="#十、进阶" class="headerlink" title="十、进阶"></a>十、进阶</h2><h3 id="（一）原型与原型链"><a href="#（一）原型与原型链" class="headerlink" title="（一）原型与原型链"></a>（一）原型与原型链</h3><h4 id="1-原型prototype"><a href="#1-原型prototype" class="headerlink" title="1.原型prototype"></a>1.原型prototype</h4><ul>
<li>所有的对象都是通过<strong>new 函数</strong>来创建的</li>
<li>所有的函数也都是对象，函数也可以有属性</li>
<li>所有的函数都有一个prototype属性，叫做原型<ul>
<li>默认是一个普通对象{}</li>
<li>有一个默认属性constructor，默认指向该构造函数<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">Test.prototype = &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">constructor</span>: Test</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="2-隐式原型proto"><a href="#2-隐式原型proto" class="headerlink" title="2.隐式原型proto"></a>2.隐式原型<strong>proto</strong></h4><ul>
<li>所有的对象都有一个默认属性<strong>proto</strong>，叫隐式原型<ul>
<li>默认指向该对象的构造函数的原型</li>
</ul>
</li>
<li>对象成员访问顺序：<ul>
<li>对象自身中是否有该成员，如果有则直接访问</li>
<li>对象隐式原型<strong>proto</strong>中是否有该成员，如果有则直接访问</li>
<li>在原型链中依次查找<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> Test()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = <span class="keyword">new</span> Test()</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">Test.prototype === obj1.__proto__ === obj2.__proto__  ==&gt; <span class="literal">true</span></span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="3-原型链"><a href="#3-原型链" class="headerlink" title="3.原型链"></a>3.原型链</h4><ul>
<li>特殊指向：<ul>
<li>Function的隐式原型<strong>proto</strong>指向自身的原型prototype</li>
<li>Object的原型prototype的隐式原型<strong>proto</strong>指向null</li>
</ul>
</li>
<li>利用原型链访问顺序的特点，即可就近重写继承的成员<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">Test.prototype === Test.__proto__</span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4-API"><a href="#4-API" class="headerlink" title="4.API"></a>4.API</h4><ul>
<li><strong>Object.getPrototypeOf(obj)</strong> 获取隐式原型（<strong>proto</strong>系统成员不推荐使用）</li>
<li><strong>Object.create(obj)</strong> 以obj为隐式原型创建一个对象</li>
<li><strong>objPrototype.isPrototypeOf(obj)</strong> 判断objPrototype是否在obj的原型链上</li>
<li><strong>obj instanceOf Fn</strong> 判断obj的原型链上是否有Fn的原型（obj 是不是一个 Fn）</li>
<li><strong>obj.hasOwnProperty(x)</strong> 判断x是否是obj自身的属性（遍历对象默认会遍历原型链上的可枚举属性）</li>
</ul>
<h4 id="5-继承（圣杯模式）"><a href="#5-继承（圣杯模式）" class="headerlink" title="5.继承（圣杯模式）"></a>5.继承（圣杯模式）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">son, father</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  son.prototype = <span class="built_in">Object</span>.create(father.prototype);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  son.prototype.constructor = son;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  son.prototype.uber = father.prototype;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">son, father</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> Temp = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  Temp.prototype = father.prototype;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  son.prototype = <span class="keyword">new</span> Temp();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  son.prototype.constructor = son;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  son.prototype.uber = father.prototype;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">var</span> Temp = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">return</span>   <span class="function"><span class="keyword">function</span>(<span class="params">son, father</span>)</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    Temp.prototype = father.prototype;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    son.prototype = <span class="keyword">new</span> Temp();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    son.prototype.constructor = son;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    son.prototype.uber = father.prototype;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;())</span></pre></td></tr></table></figure>
<hr>
<h3 id="（二）属性描述符"><a href="#（二）属性描述符" class="headerlink" title="（二）属性描述符"></a>（二）属性描述符</h3><h4 id="1-术语-2"><a href="#1-术语-2" class="headerlink" title="1.术语"></a>1.术语</h4><ul>
<li>元数据：描述数据的数据</li>
<li>数据属性：普通（正常）的属性（默认用数据描述符）</li>
<li>存取属性：添加了访问器（get/set）的属性（用存取描述符）</li>
<li>可读 value</li>
<li>可写 writeable</li>
<li>可枚举 enumerable</li>
<li>可配置 configurable</li>
</ul>
<h4 id="2-描述符可同时具有的键值"><a href="#2-描述符可同时具有的键值" class="headerlink" title="2.描述符可同时具有的键值"></a>2.描述符可同时具有的键值</h4><table>
<thead>
<tr>
<th align="left"></th>
<th align="center">数据描述符</th>
<th align="center">存取描述符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="center">√</td>
<td align="center">×</td>
</tr>
<tr>
<td align="left">writeable</td>
<td align="center">√</td>
<td align="center">×</td>
</tr>
<tr>
<td align="left">enumerable</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">configurable</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">get</td>
<td align="center">×</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">set</td>
<td align="center">×</td>
<td align="center">√</td>
</tr>
</tbody></table>
<h4 id="3-API"><a href="#3-API" class="headerlink" title="3.API"></a>3.API</h4><ul>
<li><strong>Object.defineProperty(obj, prop, descriptor)</strong> 配置属性描述</li>
<li><strong>Object.getOwnPropertyDescriptor(obj, prop)</strong> 获取属性描述<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">"x"</span>, &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">get</span>: function () &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//当获取obj.x值时，会运行此函数，此函数返回值始终为表达式的值（属性值）</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="string">"abc"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="keyword">set</span>: function (value) &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">//当设置obj.x = "abc"值时，会运行此函数，赋的值始终为函数的value参数值（非属性值）</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="（三）作用域与作用域链"><a href="#（三）作用域与作用域链" class="headerlink" title="（三）作用域与作用域链"></a>（三）作用域与作用域链</h3><h4 id="1-执行上下文"><a href="#1-执行上下文" class="headerlink" title="1.执行上下文"></a>1.执行上下文</h4><ul>
<li>全局执行上下文：js代码执行前，创建的一块内存空间，存储着代码执行所需的数据，为代码执行提供支持</li>
<li>函数执行上下文：函数运行前，创建的一块内存空间，存储着函数运行所需的数据，为函数运行提供支持</li>
<li>执行上下文栈：call stack所有执行上下文组成的内存空间，js引擎始终执行的是栈顶的上下文</li>
<li>VO：Variable Object 执行上下文对象，记录了该环境中声明的参数、变量、函数</li>
<li>GO：Global Object 全局执行上下文对象，记录了全局环境中声明的变量、函数</li>
<li>AO：Active Object 当前执行上下文对象，记录了当前环境中声明的参数、变量、函数</li>
</ul>
<h4 id="2-执行上下文内容"><a href="#2-执行上下文内容" class="headerlink" title="2.执行上下文内容"></a>2.执行上下文内容</h4><h5 id="（1）this指向"><a href="#（1）this指向" class="headerlink" title="（1）this指向"></a>（1）this指向</h5><ul>
<li>全局环境this指向window对象</li>
<li>函数直接调用this指向window对象</li>
<li>对象方法调用this指向调用对象</li>
<li>new操作符调用this指向创建的新对象</li>
</ul>
<h5 id="（2）预编译"><a href="#（2）预编译" class="headerlink" title="（2）预编译"></a>（2）预编译</h5><ul>
<li>变量声明、函数声明提升，赋默认值：undefined<ul>
<li>若变量声明已存在，则忽略</li>
<li>若函数声明已存在，则覆盖</li>
</ul>
</li>
<li>形参变量赋值为实参值</li>
<li>函数变量赋值为函数对象</li>
</ul>
<h5 id="（3）代码依次执行"><a href="#（3）代码依次执行" class="headerlink" title="（3）代码依次执行"></a>（3）代码依次执行</h5><ul>
<li>遇到赋值语句，对应修改上下文内容</li>
</ul>
<h4 id="3-作用域链"><a href="#3-作用域链" class="headerlink" title="3.作用域链"></a>3.作用域链</h4><ul>
<li>函数自身有一个隐式属性<code>[[scope]]</code>指向该函数定义时的AO</li>
<li>函数执行时，访问一个变量<ul>
<li>在当前执行上下文中查找</li>
<li>若当前VO中不存在，则依次从<code>[[scope]]</code>指向的VO中查找</li>
<li>若最终都没有找到，则会报错</li>
</ul>
</li>
</ul>
<h4 id="4-闭包"><a href="#4-闭包" class="headerlink" title="4.闭包"></a>4.闭包</h4><ul>
<li>每次函数运行都会创建一个新的执行上下文，运行结束即销毁</li>
<li>当函数运行中定义并返回了一个函数，该函数的<code>[[scope]]</code>会保留当前AO</li>
<li>若返回函数的引用存在，导致执行上下文无法销毁，会造成内存泄露</li>
</ul>
<h3 id="（四）事件循环"><a href="#（四）事件循环" class="headerlink" title="（四）事件循环"></a>（四）事件循环</h3><h4 id="1-浏览器线程"><a href="#1-浏览器线程" class="headerlink" title="1.浏览器线程"></a>1.浏览器线程</h4><ul>
<li>JS引擎线程：负责执行js代码</li>
<li>渲染线程：负责渲染页面</li>
<li>计时器线程：负责计时</li>
<li>事件监听线程：负责事件监听</li>
<li>HTTP网络线程：负责网络通信</li>
</ul>
<h4 id="2-事件队列"><a href="#2-事件队列" class="headerlink" title="2.事件队列"></a>2.事件队列</h4><ul>
<li>js是单线程，并不具备处理代码执行以外的事情，只是通过间接的通知其它线程去异步做某些事</li>
<li>当某些条件成熟才运行的函数为异步函数，其它线程并不具备执行函数的功能，只是等条件成熟后将异步函数放入事件队列</li>
<li>js引擎只有当执行栈空闲时，才会去执行事件队列中的第一个异步函数</li>
<li>事件队列是一个堆结构（先进先出）</li>
</ul>
<h4 id="3-事件循环"><a href="#3-事件循环" class="headerlink" title="3.事件循环"></a>3.事件循环</h4><ul>
<li>event loop 是指函数在执行栈、宿主线程、事件队列中的循环移动</li>
</ul>
<hr>
<h3 id="（五）功能与性能"><a href="#（五）功能与性能" class="headerlink" title="（五）功能与性能"></a>（五）功能与性能</h3><h4 id="1-对象混合mixin"><a href="#1-对象混合mixin" class="headerlink" title="1.对象混合mixin"></a>1.对象混合mixin</h4><h4 id="2-对象克隆clone"><a href="#2-对象克隆clone" class="headerlink" title="2.对象克隆clone"></a>2.对象克隆clone</h4><h4 id="3-函数防抖debounce"><a href="#3-函数防抖debounce" class="headerlink" title="3.函数防抖debounce"></a>3.函数防抖debounce</h4><h4 id="4-函数节流throttle"><a href="#4-函数节流throttle" class="headerlink" title="4.函数节流throttle"></a>4.函数节流throttle</h4><h4 id="5-函数科里化curry"><a href="#5-函数科里化curry" class="headerlink" title="5.函数科里化curry"></a>5.函数科里化curry</h4><h4 id="6-函数管道pipe"><a href="#6-函数管道pipe" class="headerlink" title="6.函数管道pipe"></a>6.函数管道pipe</h4>]]></content>
  </entry>
  <entry>
    <title>CSS3 --- 应用篇</title>
    <url>/blog/2020/01/02/CSS3a/</url>
    <content><![CDATA[<h1 id="一、css3’s-compatible-history"><a href="#一、css3’s-compatible-history" class="headerlink" title="一、css3’s compatible history"></a>一、css3’s compatible history</h1><h2 id="（一）前缀与浏览器"><a href="#（一）前缀与浏览器" class="headerlink" title="（一）前缀与浏览器"></a>（一）前缀与浏览器</h2><h3 id="1-前缀与内核"><a href="#1-前缀与内核" class="headerlink" title="1.前缀与内核"></a>1.前缀与内核</h3><table>
<thead>
<tr>
<th align="center">prefix</th>
<th align="center">browser</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-webkit-</td>
<td align="center">chrome/safari</td>
</tr>
<tr>
<td align="center">-moz-</td>
<td align="center">firefox</td>
</tr>
<tr>
<td align="center">-ms-</td>
<td align="center">IE</td>
</tr>
<tr>
<td align="center">-o-</td>
<td align="center">opera</td>
</tr>
</tbody></table>
<h3 id="2-兼容性处理"><a href="#2-兼容性处理" class="headerlink" title="2.兼容性处理"></a>2.兼容性处理</h3><ul>
<li>手册：<a href="http://css.doyoe.com" target="_blank" rel="noopener">http://css.doyoe.com</a></li>
<li>权威：<a href="http://www.caniuse.com" target="_blank" rel="noopener">http://www.caniuse.com</a></li>
<li>插件：autoprefixer 插件自动添加前缀</li>
</ul>
<h2 id="（二）预处理器与后处理器"><a href="#（二）预处理器与后处理器" class="headerlink" title="（二）预处理器与后处理器"></a>（二）预处理器与后处理器</h2><h3 id="1-pre-processor"><a href="#1-pre-processor" class="headerlink" title="1.pre-processor"></a>1.pre-processor</h3><ul>
<li>less</li>
<li>sass</li>
<li>cssNext</li>
</ul>
<h3 id="2-post-processor"><a href="#2-post-processor" class="headerlink" title="2.post-processor"></a>2.post-processor</h3><ul>
<li>autoprefixer</li>
</ul>
<h3 id="3-postCss"><a href="#3-postCss" class="headerlink" title="3.postCss"></a>3.postCss</h3><ul>
<li>用 js 实现的 css 抽象语法树 AST（Abstract Syntax Tree）</li>
<li>剩下的事留给插件去做</li>
</ul>
<hr>
<h1 id="二、selectors-of-css3"><a href="#二、selectors-of-css3" class="headerlink" title="二、selectors of css3"></a>二、selectors of css3</h1><h2 id="（一）relationship-selector"><a href="#（一）relationship-selector" class="headerlink" title="（一）relationship selector"></a>（一）relationship selector</h2><table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">E F</td>
<td align="left">后代所有满足条件的子元素</td>
</tr>
<tr>
<td align="left">E &gt; F</td>
<td align="left">直接子元素</td>
</tr>
<tr>
<td align="left">E + F</td>
<td align="left">下一个满足条件的兄弟元素</td>
</tr>
<tr>
<td align="left">E ~ F</td>
<td align="left">之后所有满足条件的兄弟元素</td>
</tr>
</tbody></table>
<h2 id="（二）attribute-selector"><a href="#（二）attribute-selector" class="headerlink" title="（二）attribute selector"></a>（二）attribute selector</h2><table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">E[attr ~= “a”]</td>
<td align="left">属性值中有单独 a 的元素</td>
</tr>
<tr>
<td align="left">E[attr |= “a”]</td>
<td align="left">属性值中以 a 或 a- 开头的元素</td>
</tr>
<tr>
<td align="left">E[attr ^= “a”]</td>
<td align="left">属性值中以 a 开头的元素</td>
</tr>
<tr>
<td align="left">E[attr $= “a”]</td>
<td align="left">属性值中以 a 结尾的元素</td>
</tr>
<tr>
<td align="left">E[attr *= “a”]</td>
<td align="left">属性值中包含 a 的元素</td>
</tr>
</tbody></table>
<h2 id="（三）pseudo-element-selector"><a href="#（三）pseudo-element-selector" class="headerlink" title="（三）pseudo-element selector"></a>（三）pseudo-element selector</h2><table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">E::placeholder</td>
<td align="left">输入框提示文字，仅仅可以设置 color</td>
</tr>
<tr>
<td align="left">E::selection]</td>
<td align="left">文本选中效果，仅仅可以设置 color、background-color、text-shadow</td>
</tr>
</tbody></table>
<h2 id="（四）pseudo-classes-selector"><a href="#（四）pseudo-classes-selector" class="headerlink" title="（四）pseudo-classes selector"></a>（四）pseudo-classes selector</h2><ul>
<li><p>被选中元素的一种状态</p>
<table>
<thead>
<tr>
<th align="left">selector</th>
<th align="left">mean</th>
</tr>
</thead>
<tbody><tr>
<td align="left">:root</td>
<td align="left">根节点</td>
</tr>
<tr>
<td align="left">E:not(selector)</td>
<td align="left">排除</td>
</tr>
<tr>
<td align="left">E:target</td>
<td align="left">锚点选中</td>
</tr>
<tr>
<td align="left">E:first-child</td>
<td align="left">第一个子元素</td>
</tr>
<tr>
<td align="left">E:last-child</td>
<td align="left">最后一个子元素</td>
</tr>
<tr>
<td align="left">E:only-child</td>
<td align="left">仅仅一个子元素</td>
</tr>
<tr>
<td align="left">E:nth-child(n)</td>
<td align="left">顺序第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:nth-last-child(n)</td>
<td align="left">逆序第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:nth-child(odd)</td>
<td align="left">奇数个子元素</td>
</tr>
<tr>
<td align="left">E:nth-child(even)</td>
<td align="left">偶数个子元素</td>
</tr>
<tr>
<td align="left">E:first-of-type</td>
<td align="left">同类型第一个子元素</td>
</tr>
<tr>
<td align="left">E:last-of-type</td>
<td align="left">同类型最后一个子元素</td>
</tr>
<tr>
<td align="left">E:only-of-type</td>
<td align="left">同类型仅仅一个子元素</td>
</tr>
<tr>
<td align="left">E:nth-of-type(n)</td>
<td align="left">顺序同类型第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:nth-last-of-type(n)</td>
<td align="left">逆序同类型第 n 个子元素</td>
</tr>
<tr>
<td align="left">E:empty</td>
<td align="left">内容为空的元素</td>
</tr>
<tr>
<td align="left">E:checked</td>
<td align="left">被选中表单元素</td>
</tr>
<tr>
<td align="left">E:enabled</td>
<td align="left">可用表单元素</td>
</tr>
<tr>
<td align="left">E:disabled</td>
<td align="left">被禁用表单元素</td>
</tr>
<tr>
<td align="left">E:read-only</td>
<td align="left">仅仅可读表单元素</td>
</tr>
<tr>
<td align="left">E:read-write</td>
<td align="left">可读可写用表单元素</td>
</tr>
</tbody></table>
</li>
</ul>
<hr>
<h1 id="三、border-of-css3"><a href="#三、border-of-css3" class="headerlink" title="三、border of css3"></a>三、border of css3</h1><h2 id="（一）border-radius"><a href="#（一）border-radius" class="headerlink" title="（一）border-radius"></a>（一）border-radius</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">10px</span> <span class="number">10px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span> / <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><img src="./border-radius.png" alt="图解"></p>
<h2 id="（二）border-image"><a href="#（二）border-image" class="headerlink" title="（二）border-image"></a>（二）border-image</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-width</span>: <span class="number">10px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-style</span>: solid;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-color</span>: red;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-image-source</span>: <span class="built_in">url</span>(); <span class="comment">/*linear-gradient redial-gradient*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-image-slice</span>: <span class="number">10</span> <span class="number">10</span> <span class="number">10</span> <span class="number">10</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-image-repeat</span>: stretch; <span class="comment">/*repeat round space*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-image-width</span>: <span class="number">1</span>; <span class="comment">/*倍数，若默认auto则取slice值加上px*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">border-image-outset</span>: <span class="number">0px</span>; <span class="comment">/*向外偏移*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>border-image-repeat 重复<ul>
<li>stretch 默认拉伸</li>
<li>repeat 对称重复填充</li>
<li>round 适当缩放填充</li>
<li>space 空白填充</li>
</ul>
</li>
</ul>
<p><img src="./border-image.png" alt="图解"></p>
<h2 id="（三）box-shadow"><a href="#（三）box-shadow" class="headerlink" title="（三）box-shadow"></a>（三）box-shadow</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> red, <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> green,</span></pre></td></tr><tr><td class="code"><pre><span class="line">              <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> blue, <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> pink;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> red;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>内阴影</li>
<li>水平偏移（正右负左）</li>
<li>垂直偏移（正下负上）</li>
<li>模糊半径</li>
<li>缩放（四个方向同时增减设置值）</li>
<li>颜色<br><img src="./box-shadow.png" alt="图解"></li>
<li>文字在阴影之上，背景在阴影之下</li>
</ul>
<h1 id="四、background-of-css3"><a href="#四、background-of-css3" class="headerlink" title="四、background of css3"></a>四、background of css3</h1><h2 id="（一）background-color"><a href="#（一）background-color" class="headerlink" title="（一）background-color"></a>（一）background-color</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: black;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(0, 0, 0);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（二）background-image"><a href="#（二）background-image" class="headerlink" title="（二）background-image"></a>（二）background-image</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">url</span>(), <span class="built_in">url</span>(); <span class="comment">/*多张图片*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">linear-gradient</span>(); <span class="comment">/*线性渐变*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">radial-gradient</span>(); <span class="comment">/*径向渐变*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（三）background-repeat"><a href="#（三）background-repeat" class="headerlink" title="（三）background-repeat"></a>（三）background-repeat</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: repeat; <span class="comment">/*默认水平、垂直重复平铺*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: repeat-x; <span class="comment">/*水平重复，垂直不重复*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: repeat-y; <span class="comment">/*水平不重复，垂直重复*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: no-repeat; <span class="comment">/*水平、垂直不重复平铺*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-repeat</span>: round space; <span class="comment">/*水平适当缩放填充、垂直空白填充*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（四）background-origin"><a href="#（四）background-origin" class="headerlink" title="（四）background-origin"></a>（四）background-origin</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-origin</span>: padding-box; <span class="comment">/*默认从填充盒开始*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-origin</span>: border-box; <span class="comment">/*从边框盒开始*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-origin</span>: content-box; <span class="comment">/*从内容盒开始*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（五）background-clip"><a href="#（五）background-clip" class="headerlink" title="（五）background-clip"></a>（五）background-clip</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: border-box; <span class="comment">/*默认到边框盒结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: padding-box; <span class="comment">/*到填充盒结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: content-box; <span class="comment">/*到内容盒结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-clip</span>: text; <span class="comment">/*反向剪切非文字区域*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">-webkit-text-fill-color</span>: transparent;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（六）background-position"><a href="#（六）background-position" class="headerlink" title="（六）background-position"></a>（六）background-position</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: center; <span class="comment">/*默认水平、垂直居中*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: top left; <span class="comment">/*靠上靠左*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: <span class="number">100px</span>; <span class="comment">/*水平相对于origin偏移100px, 垂直居中*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>; <span class="comment">/*水平相对于origin偏移50%, 垂直偏移50%*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（七）background-size"><a href="#（七）background-size" class="headerlink" title="（七）background-size"></a>（七）background-size</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: auto; <span class="comment">/*默认不改变图片大小和比例*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: cover; <span class="comment">/*按图片比例缩放，图片覆盖整个容器，图片可能会有溢出*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: contain; <span class="comment">/*按图片比例缩放，容器包含整个图片，容器可能会有留白*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: <span class="number">100px</span>; <span class="comment">/*宽度100px, 高度按比例自动缩放*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: <span class="number">100px</span> <span class="number">200px</span>; <span class="comment">/*宽度100px, 高度200px, 图片可能会变形*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>; <span class="comment">/*宽高缩小至原始大小的一半*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（八）background-attachment"><a href="#（八）background-attachment" class="headerlink" title="（八）background-attachment"></a>（八）background-attachment</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-attachment</span>: scroll; <span class="comment">/*默认相对于容器固定*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-attachment</span>: local; <span class="comment">/*相对于内容固定*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-attachment</span>: fixed; <span class="comment">/*相对于视口固定*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（九）渐变生成器"><a href="#（九）渐变生成器" class="headerlink" title="（九）渐变生成器"></a>（九）渐变生成器</h2><h3 id="1-linear-gradient"><a href="#1-linear-gradient" class="headerlink" title="1.linear-gradient()"></a>1.linear-gradient()</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(red, orange); <span class="comment">/*默认重上到下渐变*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(red, 50%, orange); <span class="comment">/*改变中心点*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to bottom, red, orange); <span class="comment">/*设置方向*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to bottom right, red, orange); <span class="comment">/*对角渐变*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(180deg, red, orange); <span class="comment">/*设置角度*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(180deg, red 20%, orange 100%); <span class="comment">/*设置每种颜色渐变起点*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><img src="./angle.jpg" alt="图解angle"></p>
<h3 id="2-radial-gradient"><a href="#2-radial-gradient" class="headerlink" title="2.radial-gradient()"></a>2.radial-gradient()</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(red, orange); <span class="comment">/*默认重上到下渐变*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(at 0% 0%, red, orange); <span class="comment">/*改变中心点*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(at 0% 0%, red 20%, orange 80%); <span class="comment">/*设置每种颜色渐变起点*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(circle at 0% 0%, red 20%, orange 80%); <span class="comment">/*圆形放射*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse at 0% 0%, red 20%, orange 80%); <span class="comment">/*椭圆放射*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse closest-side at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最近的边结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse closest-corner at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最近的角结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse farthest-side at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最远的边结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(ellipse farthest-corner at 0% 0%, red 20%, orange 80%); <span class="comment">/*放射至最远的角结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="3-repeating-linear-gradient"><a href="#3-repeating-linear-gradient" class="headerlink" title="3.repeating-linear-gradient()"></a>3.repeating-linear-gradient()</h3><h3 id="4-repeating-radial-gradient"><a href="#4-repeating-radial-gradient" class="headerlink" title="4.repeating-radial-gradient()"></a>4.repeating-radial-gradient()</h3><hr>
<h1 id="五、text"><a href="#五、text" class="headerlink" title="五、text"></a>五、text</h1><h2 id="（一）text-shadow"><a href="#（一）text-shadow" class="headerlink" title="（一）text-shadow"></a>（一）text-shadow</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> red;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>水平偏移量</li>
<li>垂直偏移量</li>
<li>模糊半径</li>
<li>颜色</li>
</ul>
<h2 id="（二）text-stroke"><a href="#（二）text-stroke" class="headerlink" title="（二）text-stroke"></a>（二）text-stroke</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">-webkit-text-stroke</span>: <span class="number">0px</span> red;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>描边宽度</li>
<li>描边颜色</li>
</ul>
<h2 id="（三）-font-face"><a href="#（三）-font-face" class="headerlink" title="（三）@font-face"></a>（三）@font-face</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">"fontName"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>() <span class="built_in">format</span>();</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">font-family</span>: <span class="string">"fontName"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="（四）column"><a href="#（四）column" class="headerlink" title="（四）column"></a>（四）column</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">column-width</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">column-count</span>: <span class="number">4</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">column-gap</span>: <span class="number">20px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">column-rule</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">column-span</span>: all;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">column-fill</span>: balance;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>最小宽度</li>
<li>最大列数</li>
<li>间隙</li>
<li>分割线</li>
<li>跨列</li>
<li>列高</li>
</ul>
<hr>
<h1 id="六、box"><a href="#六、box" class="headerlink" title="六、box"></a>六、box</h1><h2 id="（一）混杂模式-box"><a href="#（一）混杂模式-box" class="headerlink" title="（一）混杂模式 box"></a>（一）混杂模式 box</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">box-sizing</span>: content-box;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li><p>W3C standards mode:</p>
<ul>
<li>boxWidth = width + padding(2) + border(2)</li>
<li>boxHeight = height + padding(2) + border(2)</li>
</ul>
</li>
<li><p>IE6 quirks mode:</p>
<ul>
<li>boxWidth = width</li>
<li>boxHeight = height</li>
</ul>
</li>
</ul>
<h2 id="（二）overflow"><a href="#（二）overflow" class="headerlink" title="（二）overflow"></a>（二）overflow</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: visible;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: hidden;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: scroll;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: auto;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>默认溢出显示</li>
<li>溢出隐藏</li>
<li>溢出滚动</li>
<li>溢出滚动</li>
<li>当一个方向设置非 visible 值，另一个就默认设置为 auto</li>
<li>resize 调整元素大小需要配合 overflow 属性使用才有效果</li>
</ul>
<hr>
<h2 id="（三）弹性盒子-flex"><a href="#（三）弹性盒子-flex" class="headerlink" title="（三）弹性盒子 flex"></a>（三）弹性盒子 flex</h2><h3 id="1-容器"><a href="#1-容器" class="headerlink" title="1.容器"></a>1.容器</h3><h4 id="（1）声明一个弹性容器"><a href="#（1）声明一个弹性容器" class="headerlink" title="（1）声明一个弹性容器"></a>（1）声明一个弹性容器</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="comment">/*弹性容器*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">display</span>: flex;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">display</span>: inline-flex;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（2）主轴方向"><a href="#（2）主轴方向" class="headerlink" title="（2）主轴方向"></a>（2）主轴方向</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: row; <span class="comment">/*默认横向从左至右*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: row-reverse; <span class="comment">/*主轴横向从右至左*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: column; <span class="comment">/*主轴纵向从上至下*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-direction</span>: column-reverse; <span class="comment">/*主轴纵向从下至上*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（3）换行规则"><a href="#（3）换行规则" class="headerlink" title="（3）换行规则"></a>（3）换行规则</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-wrap</span>: nowrap; <span class="comment">/*默认不换行,若排列不下，则进行压缩*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-wrap</span>: wrap; <span class="comment">/*向下换行，不会压缩，排列不下就进行换行*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-wrap</span>: wrap-reverse; <span class="comment">/*向上换行，不会压缩，排列不下就进行换行*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><font color=red size=5>flex-flow: row nowrap; 复合属性：主轴方向 + 换行规则</font></p>
<h4 id="（4）主轴上项目排列规则"><a href="#（4）主轴上项目排列规则" class="headerlink" title="（4）主轴上项目排列规则"></a>（4）主轴上项目排列规则</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: flex-start; <span class="comment">/*默认头部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: center; <span class="comment">/*中部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: flex-end; <span class="comment">/*尾部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: space-between; <span class="comment">/*两端对齐，间隙均匀*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">justify-content</span>: space-around; <span class="comment">/*分散对齐，项目margin均匀*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（5）交叉轴上项目排列规则"><a href="#（5）交叉轴上项目排列规则" class="headerlink" title="（5）交叉轴上项目排列规则"></a>（5）交叉轴上项目排列规则</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: stretch; <span class="comment">/*若没有设置高度，默认自适应容器高度*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: flex-start; <span class="comment">/*头部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: center; <span class="comment">/*中部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: flex-end; <span class="comment">/*尾部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-items</span>: baseline; <span class="comment">/*基线对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（6）主轴在容器中的排列规则（基于多轴操作）"><a href="#（6）主轴在容器中的排列规则（基于多轴操作）" class="headerlink" title="（6）主轴在容器中的排列规则（基于多轴操作）"></a>（6）主轴在容器中的排列规则（基于多轴操作）</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: stretch; <span class="comment">/*默认占满交叉轴,一端对齐交叉轴头部，间隙均匀*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: flex-start; <span class="comment">/*对齐交叉轴头部，无间隙排列*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: center; <span class="comment">/*对齐交叉轴中部，无间隙排列*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: flex-end; <span class="comment">/*对齐交叉轴尾部，无间隙排列*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: space-between; <span class="comment">/*两端对齐，间隙均匀*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-content</span>: space-around; <span class="comment">/*分散对齐，margin均匀*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h3 id="2-项目"><a href="#2-项目" class="headerlink" title="2.项目"></a>2.项目</h3><h4 id="（1）项目的排列顺序"><a href="#（1）项目的排列顺序" class="headerlink" title="（1）项目的排列顺序"></a>（1）项目的排列顺序</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">order</span>: <span class="number">0</span>; <span class="comment">/*默认按结构顺序顺主轴顺序依次排列*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>order 数值越小在主轴平面上越靠前，在视觉层面上越靠后（类似于依次上升的台阶面）</strong></p>
<h4 id="（2）项目分配剩余空间的规则"><a href="#（2）项目分配剩余空间的规则" class="headerlink" title="（2）项目分配剩余空间的规则"></a>（2）项目分配剩余空间的规则</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">0</span>; <span class="comment">/*默认不延伸*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>兄弟项目按照分配比例占有剩余空间</strong></p>
<h4 id="（3）项目分摊超出空间的规则"><a href="#（3）项目分摊超出空间的规则" class="headerlink" title="（3）项目分摊超出空间的规则"></a>（3）项目分摊超出空间的规则</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-shrink</span>: <span class="number">0</span>; <span class="comment">/*默认不压缩*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>1.兄弟项目按照分摊比例和自身实际内容盒大小退让空间</strong><br><strong>2.被不折行内容撑开的项目不参与分摊</strong><br><strong>3.项目的 margin、border、padding 不参与分摊，即使超出也不会压缩</strong><br><img src="./shrink.png" alt="图解"></p>
<h4 id="（4）项目所占主轴的基础空间"><a href="#（4）项目所占主轴的基础空间" class="headerlink" title="（4）项目所占主轴的基础空间"></a>（4）项目所占主轴的基础空间</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">flex-basis</span>: auto; <span class="comment">/*默认项目的原大小*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>1.basis 基础空间通常是 min-width, width 空间通常是 max-width</strong><br><strong>2.empty 空元素通常以 basis 基础空间占有真实空间</strong><br><strong>3.若 basis 基础空间设置比 width 大，则 width 失去意义</strong><br><strong>4.若 basis 基础空间设置比 width 小，内容不折行把项目撑大，则 width 是可撑大的 max 最大极限</strong><br><font color=red size=5>flex: 0 0 auto; 复合属性：分配规则 + 分摊规则 + 基础空间</font></p>
<h4 id="（5）项目在交叉轴上的个性排列规则"><a href="#（5）项目在交叉轴上的个性排列规则" class="headerlink" title="（5）项目在交叉轴上的个性排列规则"></a>（5）项目在交叉轴上的个性排列规则</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: auto; <span class="comment">/*默认继承，若没有继承则等同于stretch*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: flex-start; <span class="comment">/*头部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: center; <span class="comment">/*中部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: flex-end; <span class="comment">/*尾部对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: baseline; <span class="comment">/*基线对齐*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">align-self</span>: stretch; <span class="comment">/*若没有设置高度，自适应高度*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p><strong>项目设置的交叉轴个性排列 align-self 优于容器设置的交叉轴排列 align-items</strong><br><strong>项目设置的交叉轴个性排列 align-self 依然受容器设置的主轴排列 align-content 约束</strong></p>
<hr>
<h1 id="七、transition"><a href="#七、transition" class="headerlink" title="七、transition"></a>七、transition</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> ease <span class="number">1s</span>; <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transition-property</span>: all; <span class="comment">/*监听属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">1s</span>; <span class="comment">/*总时长*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transition-timing-function</span>: <span class="built_in">cubic-bezier</span>(t1, s1, t2, s2); <span class="comment">/*运动曲线*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transition-delay</span>: <span class="number">1s</span>; <span class="comment">/*延迟*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h1 id="八、animation"><a href="#八、animation" class="headerlink" title="八、animation"></a>八、animation</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> name &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  0% &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  25% &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  50% &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  75% &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  100% &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation</span>: name <span class="number">1s</span> ease <span class="number">1s</span>; <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-name</span>: name; <span class="comment">/*动画名与keyframes对应*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">1s</span>; <span class="comment">/*总时长*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: <span class="built_in">cubic-bezier</span>(t1, s1, t2, s2); <span class="comment">/*运动曲线*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: ease; <span class="comment">/*运动曲线*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: <span class="built_in">steps</span>(</span></pre></td></tr><tr><td class="code"><pre><span class="line">    count,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    end</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ); <span class="comment">/*运动步数, end保留当前帧直到这段动画时间结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-timing-function</span>: <span class="built_in">steps</span>(</span></pre></td></tr><tr><td class="code"><pre><span class="line">    count,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    start</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ); <span class="comment">/*运动步数, start保留下一帧直到这段动画时间结束*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">1s</span>; <span class="comment">/*延迟*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-iteration-count</span>: <span class="number">1</span>; <span class="comment">/*循环次数,默认循环一次*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-iteration-count</span>: infinite; <span class="comment">/*无限循环*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: normal; <span class="comment">/*方向，默认正向运行*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: reverse; <span class="comment">/*反向运行*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: alternate; <span class="comment">/*单数次正向，双数次反向*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-direction</span>: alternate-reverse; <span class="comment">/*双数次正向，当数次反向*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-play-state</span>: running; <span class="comment">/*运动状态*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-play-state</span>: paused; <span class="comment">/*暂停状态*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: none; <span class="comment">/*默认不应用*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: forwards; <span class="comment">/*结束保留最后一帧状态*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: backwards; <span class="comment">/*开始应用第一帧状态*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">animation-fill-mode</span>: both; <span class="comment">/*开始、结束都应用*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>from 可代替 0%，to 代替 100%，也可混合使用</li>
<li>运动曲线会应用在每一段动画上，无法单段控制，也不是控制整个动画</li>
<li>延迟只会用在第一次动画之前，循环多次的看作整体动画，每一次之前并不会延迟</li>
<li>在 steps 中，end 丢失最后一针可以用 forwards 弥补，但 start 丢失的第一帧无法用 backwords 弥补，除非有延迟</li>
<li>steps(1, end) 可简写成 step-end; steps(1, start) 可以简写成 step-start</li>
</ul>
<hr>
<h1 id="九、transform"><a href="#九、transform" class="headerlink" title="九、transform"></a>九、transform</h1><h2 id="（一）rotate-旋转"><a href="#（一）rotate-旋转" class="headerlink" title="（一）rotate 旋转"></a>（一）rotate 旋转</h2><h3 id="1-rotate-angle"><a href="#1-rotate-angle" class="headerlink" title="1.rotate(angle)"></a>1.rotate(angle)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(90deg);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0.25turn);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform-origin</span>: center center;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 旋转</li>
<li>正度数顺时针，负度数逆时针</li>
<li>transform-origin 设置旋转中心（0，0）相当于左上角点</li>
</ul>
<h3 id="2-rotateX-angle-、rotateY-angle-、rotateZ-angle"><a href="#2-rotateX-angle-、rotateY-angle-、rotateZ-angle" class="headerlink" title="2.rotateX(angle)、rotateY(angle)、rotateZ(angle)"></a>2.rotateX(angle)、rotateY(angle)、rotateZ(angle)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateX</span>(45deg);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(45deg);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-45deg);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 旋转</li>
<li>沿着坐标轴旋转</li>
<li>在 3d 旋转中坐标轴会跟随旋转一起变化，旋转顺序不同，即使旋转角度一样，旋转效果也不一样</li>
</ul>
<h3 id="3-rotate3d-x-y-z-angle"><a href="#3-rotate3d-x-y-z-angle" class="headerlink" title="3.rotate3d(x,y,z,angle)"></a>3.rotate3d(x,y,z,angle)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate3d</span>(1, 1, 0, 45deg);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 旋转</li>
<li>x,y,z 的比例定义一条空间矢量射线，这条射线即为旋转轴</li>
</ul>
<hr>
<h2 id="（二）scale-伸缩"><a href="#（二）scale-伸缩" class="headerlink" title="（二）scale 伸缩"></a>（二）scale 伸缩</h2><h3 id="1-scale-x-y"><a href="#1-scale-x-y" class="headerlink" title="1.scale(x, y)"></a>1.scale(x, y)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1, 1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 伸缩</li>
<li>scale 伸缩的是变化坐标轴的刻度</li>
<li>伸缩轴会随旋转而发生变化</li>
<li>伸缩会保留影响，所以伸缩顺序的不同，效果也不同</li>
<li>书写多个不会覆盖，而是叠加操作，例如 scale(0.5, 0.5), scale(3, 3)相当于 scale(1.5, 1.5)</li>
<li>书写只设置一个值，相当于设置了两个一样的值</li>
</ul>
<h3 id="2-scaleX-num-、scaleY-num-、scaleZ-num-、scale3d-x-y-z"><a href="#2-scaleX-num-、scaleY-num-、scaleZ-num-、scale3d-x-y-z" class="headerlink" title="2.scaleX(num)、scaleY(num)、scaleZ(num)、scale3d(x,y,z)"></a>2.scaleX(num)、scaleY(num)、scaleZ(num)、scale3d(x,y,z)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(2); <span class="comment">/*X轴刻度为原来的2倍*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(3); <span class="comment">/*Y轴刻度为原来的3倍*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleZ</span>(0.5); <span class="comment">/*Z轴刻度为原来的0.5倍*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale3d</span>(2, 3, 0.5); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 伸缩</li>
<li>scale3d 为简写属性</li>
</ul>
<hr>
<h2 id="（三）skew-扭曲"><a href="#（三）skew-扭曲" class="headerlink" title="（三）skew 扭曲"></a>（三）skew 扭曲</h2><h3 id="1-skew-angle-angle-、skewX-angle-、skewY-angle"><a href="#1-skew-angle-angle-、skewX-angle-、skewY-angle" class="headerlink" title="1.skew(angle,angle)、skewX(angle)、skewY(angle)"></a>1.skew(angle,angle)、skewX(angle)、skewY(angle)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skew</span>(45deg, 90deg); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skewX</span>(45deg); <span class="comment">/*y轴顺时针向x轴倾斜45度*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skewY</span>(-45deg); <span class="comment">/*x轴逆时针向y轴倾斜45度*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 扭曲</li>
<li>skew 倾斜的是坐标轴，会保留影响</li>
<li>skew 不仅倾斜坐标轴，而且也会拉伸坐标轴刻度</li>
</ul>
<hr>
<h2 id="（四）translate-平移"><a href="#（四）translate-平移" class="headerlink" title="（四）translate 平移"></a>（四）translate 平移</h2><h3 id="1-translate-x-y-、translateX-num-、translateY-num"><a href="#1-translate-x-y-、translateX-num-、translateY-num" class="headerlink" title="1.translate(x, y)、translateX(num)、translateY(num)"></a>1.translate(x, y)、translateX(num)、translateY(num)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(100px, 100px); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(100px); <span class="comment">/*沿着x轴正方向平移100px*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-100px); <span class="comment">/*沿着y轴负方向平移100px*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>2d 平移</li>
</ul>
<h3 id="2-translate3d-x-y-z-、translateX-num-、translateY-num-、translateZ-num"><a href="#2-translate3d-x-y-z-、translateX-num-、translateY-num-、translateZ-num" class="headerlink" title="2.translate3d(x, y, z)、translateX(num)、translateY(num)、translateZ(num)"></a>2.translate3d(x, y, z)、translateX(num)、translateY(num)、translateZ(num)</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(100px, 100px, -100px); <span class="comment">/*复合属性*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(100px); <span class="comment">/*沿着x轴正方向平移100px*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-100px); <span class="comment">/*沿着y轴负方向平移100px*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(-100px); <span class="comment">/*沿着z轴负方向平移100px*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>3d 平移</li>
</ul>
<hr>
<h2 id="（五）perspective-景深"><a href="#（五）perspective-景深" class="headerlink" title="（五）perspective 景深"></a>（五）perspective 景深</h2><ul>
<li><font color=red size=5>视觉所看到的效果全都是元素的投影</font></li>
</ul>
<h3 id="1-容器上的景深"><a href="#1-容器上的景深" class="headerlink" title="1.容器上的景深"></a>1.容器上的景深</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">perspective</span>: <span class="number">800px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">perspective-origin</span>: center center;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="（1）-元素不动，无论景深大小，元素始终不变"><a href="#（1）-元素不动，无论景深大小，元素始终不变" class="headerlink" title="（1）.元素不动，无论景深大小，元素始终不变"></a>（1）.元素不动，无论景深大小，元素始终不变</h4><img src="./perspective (1).png">
<img src="./perspective (2).png">

<h4 id="（2）-景深不变，元素在-Z-轴方向上，越向正方形移动则月大；越向负方向移动则越小"><a href="#（2）-景深不变，元素在-Z-轴方向上，越向正方形移动则月大；越向负方向移动则越小" class="headerlink" title="（2）.景深不变，元素在 Z 轴方向上，越向正方形移动则月大；越向负方向移动则越小"></a>（2）.景深不变，元素在 Z 轴方向上，越向正方形移动则月大；越向负方向移动则越小</h4><img src="./perspective (3).png">
<img src="./perspective (4).png">

<h4 id="（3）-元素在-Z-轴负方上的时候，景深越小，元素越小"><a href="#（3）-元素在-Z-轴负方上的时候，景深越小，元素越小" class="headerlink" title="（3）.元素在 Z 轴负方上的时候，景深越小，元素越小"></a>（3）.元素在 Z 轴负方上的时候，景深越小，元素越小</h4><img src="./perspective (5).png">
<img src="./perspective (6).png">

<h3 id="2-项目上的景深"><a href="#2-项目上的景深" class="headerlink" title="2.项目上的景深"></a>2.项目上的景深</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(800px);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<ul>
<li>项目上的景深视角可不设置，默认在元素的 center center；</li>
<li>景深的取值范围 1 到正无穷，默认值 none；</li>
<li>景深的效果可叠加</li>
</ul>
<h3 id="3-容器-3d-堆叠上下文"><a href="#3-容器-3d-堆叠上下文" class="headerlink" title="3.容器 3d 堆叠上下文"></a>3.容器 3d 堆叠上下文</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform-style</span>: flat; <span class="comment">/*默认2d*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d; <span class="comment">/*3d*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="4-项目上的空间变换中心"><a href="#4-项目上的空间变换中心" class="headerlink" title="4.项目上的空间变换中心"></a>4.项目上的空间变换中心</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="5-背面是否可见"><a href="#5-背面是否可见" class="headerlink" title="5.背面是否可见"></a>5.背面是否可见</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">backface-visibility</span>: visible; <span class="comment">/*默认可见*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">backface-visibility</span>: hidden; <span class="comment">/*不可见*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<hr>
<h2 id="（六）matrix-矩阵"><a href="#（六）matrix-矩阵" class="headerlink" title="（六）matrix 矩阵"></a>（六）matrix 矩阵</h2><h3 id="1-2D-matrix-a-b-c-d-e-f"><a href="#1-2D-matrix-a-b-c-d-e-f" class="headerlink" title="1.2D matrix(a,b,c,d,e,f)"></a>1.2D matrix(a,b,c,d,e,f)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|a|c|e| * |X| &#x3D; |aX + cY + 0|</span></pre></td></tr><tr><td class="code"><pre><span class="line">|b|d|f| * |Y| &#x3D; |bX + dY + 0|</span></pre></td></tr><tr><td class="code"><pre><span class="line">|0|0|1| * |0| &#x3D; |0|</span></pre></td></tr></table></figure>

<h3 id="2-3D-matrix-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16"><a href="#2-3D-matrix-1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16" class="headerlink" title="2.3D matrix(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)"></a>2.3D matrix(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|1|5|9 |13| * |X| &#x3D; |1X + 5Y + 9Z + 0|</span></pre></td></tr><tr><td class="code"><pre><span class="line">|2|6|10|14| * |Y| &#x3D; |2X + 6Y + 10Z + 0|</span></pre></td></tr><tr><td class="code"><pre><span class="line">|3|7|11|15| * |Z| &#x3D; |3X + 7Y + 11Z + 0|</span></pre></td></tr><tr><td class="code"><pre><span class="line">|4|8|12|16| * |0| &#x3D; |4X + 8Y + 12Z + 0|</span></pre></td></tr></table></figure>
<hr>
<h1 id="十、网页设计"><a href="#十、网页设计" class="headerlink" title="十、网页设计"></a>十、网页设计</h1><h2 id="（一）显示器成像原理"><a href="#（一）显示器成像原理" class="headerlink" title="（一）显示器成像原理"></a>（一）显示器成像原理</h2><h3 id="1-空间混色法"><a href="#1-空间混色法" class="headerlink" title="1.空间混色法"></a>1.空间混色法</h3><h4 id="（1）像点"><a href="#（1）像点" class="headerlink" title="（1）像点"></a>（1）像点</h4><ul>
<li>一个像素由r、g、b三个像点构成</li>
<li>像点材料实际是平铺的<img src="./pin.png">
<img src="./shange.png">

</li>
</ul>
<h4 id="（2）点距"><a href="#（2）点距" class="headerlink" title="（2）点距"></a>（2）点距</h4><ul>
<li>相同像点的间距<img src="./pin-x.png">
<img src="./shange-x.png">

</li>
</ul>
<h4 id="（3）CRT显示屏"><a href="#（3）CRT显示屏" class="headerlink" title="（3）CRT显示屏"></a>（3）CRT显示屏</h4><ul>
<li>电子枪 → 高频电子束 → 荫罩层 → 荧光粉<img src="./CRT.png">

</li>
</ul>
<h4 id="（4）LCD液晶屏"><a href="#（4）LCD液晶屏" class="headerlink" title="（4）LCD液晶屏"></a>（4）LCD液晶屏</h4><ul>
<li>光 → 磁场A → 液晶 → 磁场B → 滤光片<img src="./LCD.png">
</li>
</ul>
<hr>
<h3 id="2-像素"><a href="#2-像素" class="headerlink" title="2.像素"></a>2.像素</h3><h4 id="（1）物理像素"><a href="#（1）物理像素" class="headerlink" title="（1）物理像素"></a>（1）物理像素</h4><ul>
<li>设备出厂时，像素的大小</li>
<li>ppi 一英寸所能容纳的像素点数/点距数（1 in = 2.54 cm）</li>
<li>dpi 一英寸所能打印的墨点数</li>
</ul>
<h4 id="（2）参照像素、css像素、逻辑像素"><a href="#（2）参照像素、css像素、逻辑像素" class="headerlink" title="（2）参照像素、css像素、逻辑像素"></a>（2）参照像素、css像素、逻辑像素</h4><ul>
<li>标杆：96dpi 一臂距离的视角去看，显示出的具体大小</li>
<li>我们也管css编程的逻辑像素方式，叫做逻辑屏</li>
</ul>
<h4 id="（3）设备像素比-dpr"><a href="#（3）设备像素比-dpr" class="headerlink" title="（3）设备像素比 dpr"></a>（3）设备像素比 dpr</h4><ul>
<li>dpr = 物理像素/逻辑像素</li>
<li>在设备上，一个逻辑像素用多少个物理像素去实现</li>
</ul>
<hr>
<h3 id="3-分辨率"><a href="#3-分辨率" class="headerlink" title="3.分辨率"></a>3.分辨率</h3><ul>
<li>固定宽高下，展示的像素点数</li>
</ul>
<hr>
<h2 id="（二）layout"><a href="#（二）layout" class="headerlink" title="（二）layout"></a>（二）layout</h2><h3 id="1-浏览器渲染引擎"><a href="#1-浏览器渲染引擎" class="headerlink" title="1.浏览器渲染引擎"></a>1.浏览器渲染引擎</h3><img src="./render.png">

<h3 id="2-reflow"><a href="#2-reflow" class="headerlink" title="2.reflow"></a>2.reflow</h3><ul>
<li>改变窗口大小</li>
<li>改变文字大小</li>
<li>改变元素大小、位置</li>
<li>内容的改变、输入框输入文字</li>
<li>激活伪类，例如：hover</li>
<li>操作class属性</li>
<li>脚本操作dom</li>
<li>计算offsetWidth、offsetHeight</li>
<li>设置style属性</li>
</ul>
<h3 id="3-repaint"><a href="#3-repaint" class="headerlink" title="3.repaint"></a>3.repaint</h3><ul>
<li>改变元素背景色、文字颜色、边框颜色、不影响周围布局的属性</li>
</ul>
<h3 id="4-css3性能优化"><a href="#4-css3性能优化" class="headerlink" title="4.css3性能优化"></a>4.css3性能优化</h3><ul>
<li>will-change: transform;</li>
</ul>
<hr>
<h2 id="（三）响应式"><a href="#（三）响应式" class="headerlink" title="（三）响应式"></a>（三）响应式</h2><h3 id="1-mate"><a href="#1-mate" class="headerlink" title="1.mate"></a>1.mate</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0， user-scalable=no"</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>width=device-width在iphone、ipad中横竖屏宽度一致</li>
<li>initial-scale=1.0在windows中iphone IE浏览器的横竖屏抗毒一致</li>
<li>user-scalable=no是否允许用户缩放</li>
<li>将页面大小根据不同分辨率进行调节，以示用户的大小感觉上差不多</li>
</ul>
<h3 id="2-媒体查询"><a href="#2-媒体查询" class="headerlink" title="2.媒体查询"></a>2.媒体查询</h3><ul>
<li>在不同的设备上均展示合适的页面</li>
<li>主要断点：设备宽度的临界点</li>
<li>媒体查询并不加强权重</li>
</ul>
<h3 id="3-媒体查询引用"><a href="#3-媒体查询引用" class="headerlink" title="3.媒体查询引用"></a>3.媒体查询引用</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"index.css"</span> <span class="attr">media</span>=<span class="string">"screen and (max-width=300px)"</span>/&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen and (max-width=300px)"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">  @<span class="keyword">import</span> <span class="string">"index.css"</span> screen and (max-width=<span class="number">300px</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="css">  @<span class="keyword">media</span> screen and (max-width=<span class="number">300px</span>)&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>在link标签的media属性定义</li>
<li>在style标签的media属性定义</li>
<li>在@import引入语句中定义</li>
<li>在样式表内部通过@media规则定义</li>
</ul>
<h3 id="4-单位"><a href="#4-单位" class="headerlink" title="4.单位"></a>4.单位</h3><ul>
<li>px 逻辑像素</li>
<li>em 相对于自身的font-size倍数（font-size会继承）</li>
<li>rem 相对于root的font-size倍数</li>
<li>vw/vh 相对于视口宽高的均分100份</li>
<li>vmax 相对于视口宽高较大的均分100份</li>
<li>vmin 相对于视口宽高较小的均分100份</li>
</ul>
<hr>
]]></content>
  </entry>
  <entry>
    <title>CSS --- 兼容篇</title>
    <url>/blog/2020/01/02/CSS2b/</url>
    <content><![CDATA[<h2 id="（一）主浏览器"><a href="#（一）主浏览器" class="headerlink" title="（一）主浏览器"></a>（一）主浏览器</h2><ul>
<li>shell：外壳</li>
<li>core：内核</li>
<li><strong>主流浏览器</strong>：<ul>
<li><strong>IE</strong> &gt; trident</li>
<li><strong>Firefox</strong> &gt; Gecko</li>
<li><strong>Chrome</strong> &gt; Webkit / Blink</li>
<li><strong>Safari</strong> &gt; webkit</li>
<li><strong>Opera</strong> &gt; presto / Blink</li>
</ul>
</li>
</ul>
<h2 id="（二）兼容"><a href="#（二）兼容" class="headerlink" title="（二）兼容"></a>（二）兼容</h2><h3 id="1-原因"><a href="#1-原因" class="headerlink" title="1.原因"></a>1.原因</h3><ul>
<li><p>市场竞争</p>
<ul>
<li>标准制定发布缓慢</li>
<li>各浏览器快速更新，增加新东西</li>
</ul>
</li>
<li><p>标准版本的变化</p>
<ul>
<li>同一浏览器的不同版本支持不一</li>
</ul>
</li>
</ul>
<h3 id="2-厂商前缀"><a href="#2-厂商前缀" class="headerlink" title="2.厂商前缀"></a>2.厂商前缀</h3><ul>
<li>IE：-ms-</li>
<li>CHrome：-webkit-</li>
<li>Opera：-o-</li>
<li>Firefox: -moz-</li>
</ul>
<h3 id="3-多背景图"><a href="#3-多背景图" class="headerlink" title="3.多背景图"></a>3.多背景图</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  background-img：-webkit-image-set(url() 1x, url() 2x);</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="4-css-hack"><a href="#4-css-hack" class="headerlink" title="4.css hack"></a>4.css hack</h3><h4 id="（1）特殊符号（主要针对IE）"><a href="#（1）特殊符号（主要针对IE）" class="headerlink" title="（1）特殊符号（主要针对IE）"></a>（1）特殊符号（主要针对IE）</h4><ul>
<li>*属性：兼容IE5、IE6、IE7</li>
<li>_属性：兼容IE5~IE6</li>
<li>属性值\9：兼容IE5~IE11</li>
<li>属性值\0：兼容IE8~IE11</li>
<li>属性值\9\0：兼容IE9~IE10</li>
</ul>
<h4 id="（2）条件判断（主要针对IE）"><a href="#（2）条件判断（主要针对IE）" class="headerlink" title="（2）条件判断（主要针对IE）"></a>（2）条件判断（主要针对IE）</h4><ul>
<li>识别注释中的特殊字符<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if IE]&gt; </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  这是IE浏览器</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  &lt;link href=""&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&lt;![endif]--&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if !(IE)]&gt;&lt;--&gt;</span> </span></pre></td></tr><tr><td class="code"><pre><span class="line">  这是非IE浏览器</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--&lt;![endif]--&gt;</span></span></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if lt IE8]&gt; </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  这是低于IE8的浏览器</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">  &lt;link href=""&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">&lt;![endif]--&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（3）解决兼容的思路"><a href="#（3）解决兼容的思路" class="headerlink" title="（3）解决兼容的思路"></a>（3）解决兼容的思路</h4><ul>
<li><p>渐近增强</p>
<ul>
<li>先适应大部分浏览器</li>
<li>再针对新版本浏览器加入新样式</li>
</ul>
</li>
<li><p>优雅降级</p>
<ul>
<li>先制作完整的功能</li>
<li>再针对低版本的浏览器做特殊处理</li>
</ul>
</li>
</ul>
<h4 id="（4）caniuse"><a href="#（4）caniuse" class="headerlink" title="（4）caniuse"></a>（4）caniuse</h4><ul>
<li><a href="https://www.caniuse.com/" target="_blank" rel="noopener">兼容性查询</a></li>
</ul>
<hr>
]]></content>
  </entry>
  <entry>
    <title>CSS2 --- 应用篇</title>
    <url>/blog/2020/01/02/CSS2a/</url>
    <content><![CDATA[<h2 id="（一）概述"><a href="#（一）概述" class="headerlink" title="（一）概述"></a>（一）概述</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><ul>
<li>CSS：是w3c组织定义的语言标准，用于定义网页文档的样式</li>
<li>css：层叠样式表 Cascading Style Sheets </li>
<li><strong>样式</strong>：东西如何布局， 该东西展示出什么效果</li>
</ul>
<h3 id="2-术语"><a href="#2-术语" class="headerlink" title="2.术语"></a>2.术语</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h4 id="（1）选择器"><a href="#（1）选择器" class="headerlink" title="（1）选择器"></a>（1）选择器</h4><ul>
<li>ID选择器</li>
<li>class选择器</li>
<li>元素选择器</li>
</ul>
<h4 id="（2）声明块"><a href="#（2）声明块" class="headerlink" title="（2）声明块"></a>（2）声明块</h4><ul>
<li>属性名</li>
<li>属性值</li>
</ul>
<h4 id="（3）样式表"><a href="#（3）样式表" class="headerlink" title="（3）样式表"></a>（3）样式表</h4><ul>
<li>内部样式表 style元素</li>
<li>内联样式 style属性</li>
<li>外部样式表 link元素<ul>
<li>有利于样式复用</li>
<li>有利于浏览器缓存，提高页面响应</li>
<li>有利于HTML和CSS代码分离，利于维护</li>
</ul>
</li>
</ul>
<hr>
<h2 id="（二）选择器"><a href="#（二）选择器" class="headerlink" title="（二）选择器"></a>（二）选择器</h2><h3 id="1-常用选择器"><a href="#1-常用选择器" class="headerlink" title="1.常用选择器"></a>1.常用选择器</h3><table>
<thead>
<tr>
<th align="left">名称</th>
<th align="left">写法</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ID</td>
<td align="left">#id</td>
<td align="left">ID选择器</td>
</tr>
<tr>
<td align="left">Class</td>
<td align="left">.class</td>
<td align="left">类选择器</td>
</tr>
<tr>
<td align="left">通配符</td>
<td align="left">*</td>
<td align="left">选择所有的元素</td>
</tr>
<tr>
<td align="left">属性</td>
<td align="left">[xxx]</td>
<td align="left">=、~=、8=、^=、$=</td>
</tr>
<tr>
<td align="left">伪类</td>
<td align="left">:link/:visited/:hover/:active</td>
<td align="left">爱恨法则</td>
</tr>
<tr>
<td align="left">伪元素</td>
<td align="left">::before/::after</td>
<td align="left">content</td>
</tr>
<tr>
<td align="left">————————————</td>
<td align="left">————————————</td>
<td align="left">————————————</td>
</tr>
<tr>
<td align="left">并且</td>
<td align="left">AB</td>
<td align="left">选择器连写</td>
</tr>
<tr>
<td align="left">并列</td>
<td align="left">A,B</td>
<td align="left">逗号分隔（语法糖）</td>
</tr>
<tr>
<td align="left">后代</td>
<td align="left">A B</td>
<td align="left">空格分隔</td>
</tr>
<tr>
<td align="left">直接子元素</td>
<td align="left">A&gt;b</td>
<td align="left">&gt;连接</td>
</tr>
<tr>
<td align="left">弟元素</td>
<td align="left">A~B</td>
<td align="left">所有自身之后出现的兄弟元素</td>
</tr>
<tr>
<td align="left">直接弟元素</td>
<td align="left">A+B</td>
<td align="left">自身之后出现的第一个兄弟元素</td>
</tr>
<tr>
<td align="left">————————————</td>
<td align="left">————————————</td>
<td align="left">————————————</td>
</tr>
<tr>
<td align="left">伪类</td>
<td align="left">:fist-child/last-child/nth-child(n)</td>
<td align="left">第n个子元素</td>
</tr>
<tr>
<td align="left">伪类</td>
<td align="left">:first-of-type/last-of-type/nth-of-type(n)</td>
<td align="left">第n个指定类型的子元素</td>
</tr>
<tr>
<td align="left">伪元素</td>
<td align="left">::first-letter</td>
<td align="left">第一个字符</td>
</tr>
<tr>
<td align="left">伪元素</td>
<td align="left">::first-line</td>
<td align="left">第一行</td>
</tr>
<tr>
<td align="left">伪元素</td>
<td align="left">::selection</td>
<td align="left">选中字符</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="2-层叠"><a href="#2-层叠" class="headerlink" title="2.层叠"></a>2.层叠</h3><h4 id="（1）声明冲突"><a href="#（1）声明冲突" class="headerlink" title="（1）声明冲突"></a>（1）声明冲突</h4><ul>
<li>同一个样式重复应用到了同一个元素上</li>
<li><strong>层叠：</strong> 浏览器自动解决冲突的过程</li>
</ul>
<h4 id="（2）权重计算"><a href="#（2）权重计算" class="headerlink" title="（2）权重计算"></a>（2）权重计算</h4><h5 id="1）比较重要性"><a href="#1）比较重要性" class="headerlink" title="1）比较重要性"></a>1）比较重要性</h5><ul>
<li>!important</li>
<li>普通样式</li>
<li>浏览器默认样式</li>
</ul>
<h5 id="2）比较特殊性"><a href="#2）比较特殊性" class="headerlink" title="2）比较特殊性"></a>2）比较特殊性</h5><ul>
<li>选择器范围越窄越特殊</li>
<li>通过选择器计算出4位数（xxxx）比大小（<font color=red>256进制</font>）<ul>
<li><strong>千位：</strong> 行内样式计1,否则为0</li>
<li><strong>百位：</strong> ID选择器数量之和</li>
<li><strong>十位：</strong> 类、伪类、属性选择器数量之和</li>
<li><strong>个位：</strong> 元素、伪元素选择器数量之和</li>
</ul>
</li>
</ul>
<h5 id="3）比较源次序"><a href="#3）比较源次序" class="headerlink" title="3）比较源次序"></a>3）比较源次序</h5><ul>
<li>源代码书写靠后的胜出</li>
</ul>
<hr>
<h2 id="（三）样式"><a href="#（三）样式" class="headerlink" title="（三）样式"></a>（三）样式</h2><h3 id="1-常用样式"><a href="#1-常用样式" class="headerlink" title="1.常用样式"></a>1.常用样式</h3><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">属性值</th>
<th align="left">含义</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>color</strong></td>
<td align="left">预设值（单词）、色值（rgb）、十六进制（hex）</td>
<td align="left">字体颜色</td>
<td align="left">rgba（透明通道）</td>
</tr>
<tr>
<td align="left"><strong>background-color</strong></td>
<td align="left">预设值（单词）、色值（rgb）、十六进制（hex）</td>
<td align="left">背景色</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>font-size</strong></td>
<td align="left">像素（px）、相对父元素（em）</td>
<td align="left">字体大小</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>font-weight</strong></td>
<td align="left">预设值、数字</td>
<td align="left">粗体</td>
<td align="left">（b/strong）</td>
</tr>
<tr>
<td align="left"><strong>font-family</strong></td>
<td align="left">预设值、数字</td>
<td align="left">字体</td>
<td align="left">（sans-serif默认非衬线字体）</td>
</tr>
<tr>
<td align="left"><strong>font-style</strong></td>
<td align="left">normal、italic</td>
<td align="left">斜体</td>
<td align="left">（i/em）</td>
</tr>
<tr>
<td align="left"><strong>text-decoration</strong></td>
<td align="left">none、line-through</td>
<td align="left">修饰</td>
<td align="left">（s/del）</td>
</tr>
<tr>
<td align="left"><strong>text-indent</strong></td>
<td align="left">em</td>
<td align="left">首行文本缩进</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>text-align</strong></td>
<td align="left">left、center、right</td>
<td align="left">水平对齐方式</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>line-height</strong></td>
<td align="left">px、数字（自身高度的倍数）</td>
<td align="left">行距</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>letter-spacing</strong></td>
<td align="left">px、em</td>
<td align="left">字间距</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>width</strong></td>
<td align="left">px、%</td>
<td align="left">容器宽度</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>height</strong></td>
<td align="left">px、%</td>
<td align="left">容器高度</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">————————————</td>
<td align="left">————————————</td>
<td align="left">————————————</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>opcity</strong></td>
<td align="left">0~1</td>
<td align="left">盒子透明度</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>cursor</strong></td>
<td align="left">pointer</td>
<td align="left">鼠标样式</td>
<td align="left">图片格式.ico/.cur</td>
</tr>
<tr>
<td align="left"><strong>display</strong></td>
<td align="left">none</td>
<td align="left">不生成盒子</td>
<td align="left">不占空间</td>
</tr>
<tr>
<td align="left"><strong>visibility</strong></td>
<td align="left">hidden</td>
<td align="left">视觉隐藏</td>
<td align="left">占空间</td>
</tr>
<tr>
<td align="left"><strong>background-image</strong></td>
<td align="left">URL</td>
<td align="left">背景图片</td>
<td align="left">仅用于美化作用时，若属网页内容应用img</td>
</tr>
<tr>
<td align="left">————————————</td>
<td align="left">————————————</td>
<td align="left">————————————</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><strong>display</strong></td>
<td align="left">list-item</td>
<td align="left">仍然是块盒，但会生成一个附带的次盒子</td>
<td align="left">次盒子排列在前 ul&gt;li 元素（可继承）</td>
</tr>
<tr>
<td align="left"><strong>list-style</strong></td>
<td align="left">none</td>
<td align="left">设置次盒子样式</td>
<td align="left">清空次盒子</td>
</tr>
<tr>
<td align="left"><strong>text-align</strong></td>
<td align="left">justify</td>
<td align="left">除最后一行外，分散对齐</td>
<td align="left">平均分布空白</td>
</tr>
<tr>
<td align="left"><strong>direction</strong></td>
<td align="left">ltr</td>
<td align="left">开始到结束的方向</td>
<td align="left">rtl从右到左</td>
</tr>
<tr>
<td align="left"><strong>writing-mode</strong></td>
<td align="left">vertical-rtl</td>
<td align="left">设置文字书写方向</td>
<td align="left">垂直书写</td>
</tr>
</tbody></table>
<h3 id="2-重置样式（reset-css）"><a href="#2-重置样式（reset-css）" class="headerlink" title="2.重置样式（reset.css）"></a>2.重置样式（reset.css）</h3><ul>
<li>重置浏览器默认样式</li>
<li>常见重置样式表：normalize.css | reset.css | meyer.css</li>
</ul>
<h3 id="3-爱恨法则（love-hate）"><a href="#3-爱恨法则（love-hate）" class="headerlink" title="3.爱恨法则（love hate）"></a>3.爱恨法则（love hate）</h3><ul>
<li>a:link 未访问过</li>
<li>a:visited 已访问过</li>
<li>a:hover 获得鼠标焦点</li>
<li>a:active 鼠标按下</li>
</ul>
<h3 id="4-继承"><a href="#4-继承" class="headerlink" title="4.继承"></a>4.继承</h3><ul>
<li>子元素会继承父元素的某些css样式（代代相传）</li>
<li>通常，跟文字相关的样式会继承</li>
</ul>
<h3 id="5-属性值的计算过程"><a href="#5-属性值的计算过程" class="headerlink" title="5.属性值的计算过程"></a>5.属性值的计算过程</h3><h4 id="（1）渲染"><a href="#（1）渲染" class="headerlink" title="（1）渲染"></a>（1）渲染</h4><ul>
<li>元素一个一个依次渲染，顺序按照DOMTree的顺序（深度优先）</li>
<li>元素要渲染必须所有的css属性都有值</li>
</ul>
<h4 id="（2）从无属性值到所有属性都有值的过程，为css属性值计算过程"><a href="#（2）从无属性值到所有属性都有值的过程，为css属性值计算过程" class="headerlink" title="（2）从无属性值到所有属性都有值的过程，为css属性值计算过程"></a>（2）从无属性值到所有属性都有值的过程，为css属性值计算过程</h4><h5 id="1）确定声明值："><a href="#1）确定声明值：" class="headerlink" title="1）确定声明值："></a>1）确定声明值：</h5><ul>
<li>将没有冲突的属性声明值直接确定css属性值（<font color=red>浏览器默认值为声明值</font>）</li>
</ul>
<h5 id="2）层叠冲突："><a href="#2）层叠冲突：" class="headerlink" title="2）层叠冲突："></a>2）层叠冲突：</h5><ul>
<li>将有冲突的属性声明值按照层叠规则确定css属性值</li>
</ul>
<h5 id="3）使用继承："><a href="#3）使用继承：" class="headerlink" title="3）使用继承："></a>3）使用继承：</h5><ul>
<li>对没有值的属性，若可以继承，则继承父元素的值</li>
</ul>
<h5 id="4）使用默认值："><a href="#4）使用默认值：" class="headerlink" title="4）使用默认值："></a>4）使用默认值：</h5><ul>
<li>对没有值的属性，使用默认值（<font color=red>此默认值非浏览器默认值</font>）</li>
</ul>
<hr>
<h2 id="（四）布局"><a href="#（四）布局" class="headerlink" title="（四）布局"></a>（四）布局</h2><h3 id="1-盒模型"><a href="#1-盒模型" class="headerlink" title="1.盒模型"></a>1.盒模型</h3><h4 id="（1）属性"><a href="#（1）属性" class="headerlink" title="（1）属性"></a>（1）属性</h4><table>
<thead>
<tr>
<th align="left">设置</th>
<th align="left">参数</th>
<th align="left">块盒</th>
<th align="left">行盒</th>
<th align="left">行块盒</th>
</tr>
</thead>
<tbody><tr>
<td align="left">内容</td>
<td align="left">width/height</td>
<td align="left">有效</td>
<td align="left">无效</td>
<td align="left">有效</td>
</tr>
<tr>
<td align="left">内边距</td>
<td align="left">padding</td>
<td align="left">有效</td>
<td align="left">仅水平有效</td>
<td align="left">有效</td>
</tr>
<tr>
<td align="left">边框</td>
<td align="left">border</td>
<td align="left">有效</td>
<td align="left">仅水平有效</td>
<td align="left">有效</td>
</tr>
<tr>
<td align="left">外边距</td>
<td align="left">margin</td>
<td align="left">有效</td>
<td align="left">仅水平有效</td>
<td align="left">有效</td>
</tr>
</tbody></table>
<h4 id="（2）组成"><a href="#（2）组成" class="headerlink" title="（2）组成"></a>（2）组成</h4><table>
<thead>
<tr>
<th align="left">组成</th>
<th align="left">参数</th>
<th align="center">内容盒</th>
<th align="center">填充盒</th>
<th align="center">边框盒</th>
</tr>
</thead>
<tbody><tr>
<td align="left">内容</td>
<td align="left">width/height</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">内边距</td>
<td align="left">padding</td>
<td align="center">——</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">边框</td>
<td align="left">border</td>
<td align="center">——</td>
<td align="center">——</td>
<td align="center">√</td>
</tr>
<tr>
<td align="left">外边距</td>
<td align="left">margin</td>
<td align="center">——</td>
<td align="center">——</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="（3）特点"><a href="#（3）特点" class="headerlink" title="（3）特点"></a>（3）特点</h4><table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">特点</th>
<th align="left">处理</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>宽高</strong></td>
<td align="left">默认设置的是内容盒</td>
<td align="left">css3中box-sizing属性可更改</td>
</tr>
<tr>
<td align="left"><strong>背景</strong></td>
<td align="left">默认覆盖范围是边框盒</td>
<td align="left">background-clip属性可更改</td>
</tr>
<tr>
<td align="left"><strong>内容溢出</strong></td>
<td align="left">默认可见</td>
<td align="left">overflow属性可更改</td>
</tr>
<tr>
<td align="left"><strong>断词规则</strong></td>
<td align="left">中文字符折断，英文单词折断</td>
<td align="left">Word-break属性可更改</td>
</tr>
<tr>
<td align="left"><strong>空白处理</strong></td>
<td align="left">文字溢出显示</td>
<td align="left">单行文本固定处理方式、多行文本人工处理</td>
</tr>
<tr>
<td align="left"><strong>空白折叠</strong></td>
<td align="left">所有的空白字符折叠为一个空格</td>
<td align="left">发生在行盒（行块盒）内部、发生在行盒（行块盒）之间；white-space 属性可更改</td>
</tr>
<tr>
<td align="left"><strong>img图片</strong></td>
<td align="left">设置一个属性，另一个会跟随图片比例变化</td>
<td align="left">object-fit 属性可设置图片比例与盒子之间的适应情况</td>
</tr>
<tr>
<td align="left"><strong>匿名行盒</strong></td>
<td align="left">文字直接出现在块盒中时，浏览器会自动生成一个莫名行盒（不可见）包裹内容</td>
<td align="left">==行框==承载文字内容的必要条件</td>
</tr>
<tr>
<td align="left"><strong>可替换元素</strong></td>
<td align="left">显示结果取决于元素属性</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left"><strong>不可替换元素</strong></td>
<td align="left">显示结果取决于元素内容</td>
<td align="left">——</td>
</tr>
<tr>
<td align="left">—</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="2-视觉格式化模型"><a href="#2-视觉格式化模型" class="headerlink" title="2.视觉格式化模型"></a>2.视觉格式化模型</h3><h4 id="（1）常规流"><a href="#（1）常规流" class="headerlink" title="（1）常规流"></a>（1）常规流</h4><h5 id="1）概念"><a href="#1）概念" class="headerlink" title="1）概念"></a>1）概念</h5><ul>
<li>常规流、文档流、普通文档流、常规文档流</li>
<li>所有元素默认都属于常规流布局</li>
<li>总体规则：块盒独占一行、行盒水平依次排列</li>
</ul>
<h5 id="2）包含块"><a href="#2）包含块" class="headerlink" title="2）包含块"></a>2）包含块</h5><ul>
<li>包含块决定了盒子的排列区域</li>
<li>包含块通常是父元素的内容盒</li>
</ul>
<h5 id="3）水平布局"><a href="#3）水平布局" class="headerlink" title="3）水平布局"></a>3）水平布局</h5><ul>
<li><font color=red>盒子的总宽度必须等于包含块宽度</font></li>
<li>width：auto =&gt;&gt; 默认吸收剩余空间</li>
<li>margin：auto =&gt;&gt; 两边平均吸收剩余空间（==剩余空间的吸收：width强于margin==）</li>
<li>margin：0（默认值）若width、padding、border吸收后还有剩余空间，则剩余的全由margin-right/margin-left吸收</li>
<li>在常规流中，块盒在包含块中的居中，可以定宽，左右margin设置为auto</li>
</ul>
<h5 id="4）垂直布局"><a href="#4）垂直布局" class="headerlink" title="4）垂直布局"></a>4）垂直布局</h5><ul>
<li>height：auto =&gt;&gt; 自适应</li>
<li>margin：auto =&gt;&gt; 相当于0（默认值）</li>
<li>外边距合并：块盒上下相连外边距会发生合并（兄弟元素、父子元素）</li>
<li>解决外边距合并问题只要中间增加任意东西，使之不在相连即可（元素、边框、内边距）</li>
</ul>
<h5 id="5）百分比取值"><a href="#5）百分比取值" class="headerlink" title="5）百分比取值"></a>5）百分比取值</h5><ul>
<li>width、padding、border、margin百分比取值相对于包含块的宽度（与高度无关）</li>
<li>height百分比取值<ul>
<li>包含块的高度取决于子元素高度时，设置百分比无效</li>
<li>包含块的高度不取决于子元素高度时，百分比取决于父元素高度</li>
</ul>
</li>
</ul>
<hr>
<h4 id="（2）浮动"><a href="#（2）浮动" class="headerlink" title="（2）浮动"></a>（2）浮动</h4><h5 id="1）应用"><a href="#1）应用" class="headerlink" title="1）应用"></a>1）应用</h5><ul>
<li>文字环绕</li>
<li>水平排列</li>
</ul>
<h5 id="2）基本特点"><a href="#2）基本特点" class="headerlink" title="2）基本特点"></a>2）基本特点</h5><ul>
<li>修改float属性<ul>
<li>none 默认（常规流布局）</li>
<li>left 靠上靠左浮动（脱离文档流）</li>
<li>right 靠上考右浮动（脱离文档流）</li>
</ul>
</li>
<li>强制更改display属性为block（==块盒才能浮动==）</li>
<li>浮动元素的包含块与常规流一致（父元素内容盒）</li>
<li>浮动元素将脱离文档流（文档正常布局不会考虑脱离文档流的元素）</li>
</ul>
<h5 id="3）盒子尺寸"><a href="#3）盒子尺寸" class="headerlink" title="3）盒子尺寸"></a>3）盒子尺寸</h5><ul>
<li>width：auto 适应内容（不吸收剩余空间）</li>
<li>height：auto 适应内容（与常规流一致）</li>
<li>margin：auto 相当于设置0（不吸收剩余空间）</li>
<li>内边距、边框、外边距、百分比与常规流一致</li>
</ul>
<h5 id="4）盒子排列"><a href="#4）盒子排列" class="headerlink" title="4）盒子排列"></a>4）盒子排列</h5><ul>
<li>float：left 靠上靠左排列</li>
<li>float：right 靠上考右排列</li>
<li>与常规流块盒混排<ul>
<li>常规流盒子在前，浮动盒子会避开常规流盒子</li>
<li>浮动盒子在前，常规流盒子会无视浮动盒子</li>
</ul>
</li>
<li>与常规流行盒混排<ul>
<li>常规流盒子在前，浮动盒子会避开常规流盒子</li>
<li>浮动盒子在前，常规流盒子也会避开浮动盒子</li>
<li>如果文字直接放在块盒中，浏览器会自动生成匿名行盒（不可见）包裹文字</li>
<li><font color=red>内容一定只能放在行盒中（显式行盒、匿名行盒）</font></li>
</ul>
</li>
<li>浮动盒子不会发生外边距合并</li>
</ul>
<h5 id="5）高度坍塌"><a href="#5）高度坍塌" class="headerlink" title="5）高度坍塌"></a>5）高度坍塌</h5><ul>
<li>原因：常规流盒子在高度自适应时，计算不会考虑浮动盒子</li>
<li>清除浮动 clear属性（常规流盒子考虑前面的浮动盒子）</li>
<li>clearfix增加在浮动元素的父元素上解决高度坍塌<ul>
<li>none 默认不清楚</li>
<li>left 考虑左浮动</li>
<li>right 考虑有浮动</li>
<li>both 考虑所有浮动<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">content</span>:<span class="string">""</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">display</span>: block;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">clear</span>: both;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h5 id="6）布局规则"><a href="#6）布局规则" class="headerlink" title="6）布局规则"></a>6）布局规则</h5><ul>
<li>左浮动的盒子向上向左排列</li>
<li>右浮动的盒子向上向右排列</li>
<li>浮动盒子的顶边不得高于上一个盒子的顶边</li>
<li>若剩余空间无法放下浮动盒子，则该盒子向下移动，直到具备足够的空间收纳盒子，然后向左或向右移动</li>
</ul>
<hr>
<h4 id="（3）定位"><a href="#（3）定位" class="headerlink" title="（3）定位"></a>（3）定位</h4><h5 id="1）概念-1"><a href="#1）概念-1" class="headerlink" title="1）概念"></a>1）概念</h5><ul>
<li>一个元素，只要position的取值不是static，该元素是一个定位元素</li>
</ul>
<h5 id="2）基本特点-1"><a href="#2）基本特点-1" class="headerlink" title="2）基本特点"></a>2）基本特点</h5><ul>
<li>修改position属性<ul>
<li>static 默认（常规流布局）</li>
<li>relative 相对定位（不会脱离文档流）</li>
<li>absolute 绝对定位（脱离文档流）</li>
<li>fixed 固定定位（脱离文档流）</li>
</ul>
</li>
</ul>
<h5 id="3）相对定位"><a href="#3）相对定位" class="headerlink" title="3）相对定位"></a>3）相对定位</h5><ul>
<li>不会导致元素脱离文档流，只相对于原本位置进行偏移<ul>
<li>当left/right同时设置时，以left为准</li>
<li>当top与bottom同时设置时，以top为准</li>
</ul>
</li>
<li>与margin的区别<ul>
<li>margin是包含块的组成部分，会影响剩余空间而导致width发生变化</li>
<li>relative偏移不会影响自身width/height，也不会影响其它盒子的布局</li>
</ul>
</li>
<li>通常用作绝对定位的参考点</li>
</ul>
<h5 id="4）绝对定位"><a href="#4）绝对定位" class="headerlink" title="4）绝对定位"></a>4）绝对定位</h5><ul>
<li>脱离文档流</li>
<li>width/height为auto时，自适应适应内容</li>
<li>==包含块变化==：找祖先元素中最近的定位元素的<font color=ren>填充盒</font></li>
</ul>
<h5 id="5）固定定位"><a href="#5）固定定位" class="headerlink" title="5）固定定位"></a>5）固定定位</h5><ul>
<li>特点与绝对定位一样</li>
<li>==包含块变化==：视口</li>
</ul>
<hr>
<h3 id="3-块级格式化上下文"><a href="#3-块级格式化上下文" class="headerlink" title="3.块级格式化上下文"></a>3.块级格式化上下文</h3><h4 id="（1）概念"><a href="#（1）概念" class="headerlink" title="（1）概念"></a>（1）概念</h4><ul>
<li>BFC：block formatting context</li>
<li>它规定了在该区域中，常规流块盒的布局<ul>
<li>常规流块盒在水平方向上，必须撑满包含块</li>
<li>常规流块盒在包含块的垂直方向上依次摆放</li>
<li>常规流块盒若外边距无缝相邻，则进行外边距合并</li>
<li>常规流块盒的自动高度和摆放位置，无视浮动元素(绝对/固定定位元素)</li>
</ul>
</li>
</ul>
<h4 id="（2）独立的渲染区域"><a href="#（2）独立的渲染区域" class="headerlink" title="（2）独立的渲染区域"></a>（2）独立的渲染区域</h4><ul>
<li>BFC渲染区域：由某个HTML元素创建，以下元素会在其内部创建BFC区域<ul>
<li>浮动元素</li>
<li>绝对/固定定位元素</li>
<li>overflow值不等于visible的元素</li>
</ul>
</li>
<li>独立的：不同的BFC区域，他们进行渲染时互不干扰<ul>
<li>创建BFC的元素，隔绝了其内部与外部的联系</li>
<li>创建BFC的元素，它的自动高度需要计算浮动元素</li>
<li>创建BFC的元素，它的边框盒不会与浮动元素重叠（创建BFC的元素排列时会避开浮动元素）</li>
<li>创建BFC的元素，不会和子元素发生外边距合并（只有处于同一BFC中的元素才会发生外边距合并）</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-堆叠上下文"><a href="#4-堆叠上下文" class="headerlink" title="4.堆叠上下文"></a>4.堆叠上下文</h3><h4 id="（1）stack-context"><a href="#（1）stack-context" class="headerlink" title="（1）stack context"></a>（1）stack context</h4><ul>
<li>它是一块区域，这块区域由某个元素创建，规定了该区域中的内容在Z轴上排列的先后顺序</li>
<li>会创建堆叠上下文的元素<ul>
<li>HTML元素</li>
<li>z-index不为auto默认值的元素</li>
</ul>
</li>
</ul>
<h4 id="（2）同一个堆叠上下文中元素在Z轴上的排列顺序"><a href="#（2）同一个堆叠上下文中元素在Z轴上的排列顺序" class="headerlink" title="（2）同一个堆叠上下文中元素在Z轴上的排列顺序"></a>（2）同一个堆叠上下文中元素在Z轴上的排列顺序</h4><ul>
<li>1）创建堆叠上下文的元素的背景和边框</li>
<li>2）堆叠级别为负值的堆叠上下文</li>
<li>3）常规流非定位的块盒</li>
<li>4）非定位的浮动盒子</li>
<li>5）常规流非定位的行盒</li>
<li>6）z-index为auto的定位元素，以及z-index为0的堆叠上下文</li>
<li>7）堆叠级别为正值的堆叠上下文</li>
</ul>
<hr>
<h3 id="5-参考线"><a href="#5-参考线" class="headerlink" title="5.参考线"></a>5.参考线</h3><h4 id="（1）font-family"><a href="#（1）font-family" class="headerlink" title="（1）font-family"></a>（1）font-family</h4><ul>
<li>文字是通过一些文字制作软件制作出来的</li>
<li>文字在制作时就有几条参考线，不同类型文字参考线不同</li>
</ul>
<table>
<thead>
<tr>
<th align="center">参考线</th>
<th align="center">名称</th>
<th align="center">别称</th>
</tr>
</thead>
<tbody><tr>
<td align="center">虚拟区顶线</td>
<td align="center">top</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">顶线</td>
<td align="center">text top</td>
<td align="center">ascent</td>
</tr>
<tr>
<td align="center">上基线</td>
<td align="center">super</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">基线</td>
<td align="center">baseline</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">下基线</td>
<td align="center">sub</td>
<td align="center">——</td>
</tr>
<tr>
<td align="center">底线</td>
<td align="center">text bottom</td>
<td align="center">descent</td>
</tr>
<tr>
<td align="center">虚拟区底线</td>
<td align="center">bottom</td>
<td align="center">——</td>
</tr>
</tbody></table>
<h4 id="（2）font-size"><a href="#（2）font-size" class="headerlink" title="（2）font-size"></a>（2）font-size</h4><ul>
<li>设置的字体大小，是文字的相对大小（文字的相对大小：1000/2048/1024/）</li>
<li>文字顶线到底线的大小（text top到text bottom），是文字的实际大小（content-area内容区）</li>
<li>文字实际大小通常比设置大小要大</li>
</ul>
<h4 id="（3）line-height"><a href="#（3）line-height" class="headerlink" title="（3）line-height"></a>（3）line-height</h4><ul>
<li>顶线向上延伸一段空间，底线向下延伸一段空间，两段空间相等，该空间叫做gap（空隙）</li>
<li>top到bottom的距离是行高（virtual-area虚拟区）</li>
<li>line-height：<ul>
<li>设置为1（不太合理，文字实际大小通常比设置大小要大）</li>
<li>normal 使用默认值（0）</li>
</ul>
</li>
<li>文字一定出现在一行的正中间（错），取决于文字设计</li>
<li>content-area一定出现在virtual-area正中间（对）</li>
</ul>
<h4 id="（4）vertical-align"><a href="#（4）vertical-align" class="headerlink" title="（4）vertical-align"></a>（4）vertical-align</h4><ul>
<li>块盒内部有行盒子元素，也会生成参考线（font-family、font-size、line-height）</li>
<li><strong>预设值</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="left">取值</th>
<th align="right">本元素</th>
<th align="center">对齐</th>
<th align="left">父元素</th>
</tr>
</thead>
<tbody><tr>
<td align="left">baseline：</td>
<td align="right">baseline</td>
<td align="center">——</td>
<td align="left">baseline</td>
</tr>
<tr>
<td align="left">super：</td>
<td align="right">baseline</td>
<td align="center">——</td>
<td align="left">super</td>
</tr>
<tr>
<td align="left">sub：</td>
<td align="right">baseline</td>
<td align="center">——</td>
<td align="left">sub</td>
</tr>
<tr>
<td align="left">text-top：</td>
<td align="right">top</td>
<td align="center">——</td>
<td align="left">text-top</td>
</tr>
<tr>
<td align="left">text-bottom：</td>
<td align="right">bottom</td>
<td align="center">——</td>
<td align="left">text-bottom</td>
</tr>
<tr>
<td align="left">top：</td>
<td align="right">top</td>
<td align="center">——</td>
<td align="left">该行最高text-top</td>
</tr>
<tr>
<td align="left">bottom：</td>
<td align="right">bottom</td>
<td align="center">——</td>
<td align="left">该行最低text-bottom</td>
</tr>
<tr>
<td align="left">middle：</td>
<td align="right">中线</td>
<td align="center">——</td>
<td align="left">X字母的一半位置</td>
</tr>
</tbody></table>
<ul>
<li><strong>数值</strong>：相对于基线的偏移量，上为正数，下为负数</li>
<li><strong>百分比</strong>： 相对于基线的偏移量（取值相对于自身virtual-area的高度）</li>
</ul>
<h4 id="（5）line-box"><a href="#（5）line-box" class="headerlink" title="（5）line-box"></a>（5）line-box</h4><ul>
<li>行框：承载文字内容的必要条件</li>
<li>确定元素的自动高度</li>
<li>==不生成行框==：<ul>
<li>某元素内没有任何行盒</li>
<li>某元素字体大小为0</li>
</ul>
</li>
</ul>
<h4 id="（6）可替换元素的参考线"><a href="#（6）可替换元素的参考线" class="headerlink" title="（6）可替换元素的参考线"></a>（6）可替换元素的参考线</h4><ul>
<li>图片的基线：下外边距位置</li>
<li>表单元素的基线：内容的底边</li>
</ul>
<h4 id="（7）行块盒的参考线"><a href="#（7）行块盒的参考线" class="headerlink" title="（7）行块盒的参考线"></a>（7）行块盒的参考线</h4><ul>
<li>最后一行有行盒：最后一行的基线</li>
<li>最后一行无行盒：下外边距位置</li>
</ul>
<hr>
<h2 id="（五）文字"><a href="#（五）文字" class="headerlink" title="（五）文字"></a>（五）文字</h2><h3 id="1-自定义字体"><a href="#1-自定义字体" class="headerlink" title="1.自定义字体"></a>1.自定义字体</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">head</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;<span class="selector-tag">style</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @<span class="keyword">font-face</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-family</span>: <span class="string">"hu"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">"./font/造字工房映力黑规体.otf"</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-tag">p</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-family</span>: <span class="string">"hu"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;/style&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/head&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;p&gt;永夜将至，吾于今开始守候！&lt;/p&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/body&gt;</span></pre></td></tr></table></figure>
<hr>
<h3 id="2-阿里巴巴字体图标库"><a href="#2-阿里巴巴字体图标库" class="headerlink" title="2.阿里巴巴字体图标库"></a>2.阿里巴巴字体图标库</h3><h4 id="（1）font-class"><a href="#（1）font-class" class="headerlink" title="（1）font class"></a>（1）font class</h4><ul>
<li><p>在线</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">head</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;link rel="stylesheet" href="//at.alicdn.com/t/font_1352461_0pmps1ixdezd.css"&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;<span class="selector-tag">style</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-class">.iconfont</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">color</span>: gold;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;/style&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/head&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;i class="iconfont icon-RectangleCopy6"&gt;&lt;/i&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/body&gt;</span></pre></td></tr></table></figure>
</li>
<li><p>离线</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">head</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;link rel="stylesheet" href="./font/iconfont.css"&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;<span class="selector-tag">style</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-class">.iconfont</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">color</span>: gold;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;/style&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/head&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;i class="iconfont icon-RectangleCopy6"&gt;&lt;/i&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/body&gt;</span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（2）Unicode"><a href="#（2）Unicode" class="headerlink" title="（2）Unicode"></a>（2）Unicode</h4><ul>
<li><p>在线</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">head</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;<span class="selector-tag">style</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @<span class="keyword">font-face</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;  <span class="comment">/* project id 1352461 */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1352461_0pmps1ixdezd.eot'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1352461_0pmps1ixdezd.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1352461_0pmps1ixdezd.woff2'</span>) <span class="built_in">format</span>(<span class="string">'woff2'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1352461_0pmps1ixdezd.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1352461_0pmps1ixdezd.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'//at.alicdn.com/t/font_1352461_0pmps1ixdezd.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-tag">i</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-family</span>: <span class="string">"iconfont"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-style</span>: normal;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">color</span>: black;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;/style&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/head&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;i&gt;&amp;#xe6a9;&lt;/i&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/body&gt;</span></pre></td></tr></table></figure>
</li>
<li><p>离线</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">head</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line"> &lt;<span class="selector-tag">style</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @<span class="keyword">font-face</span> &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-family</span>: <span class="string">'iconfont'</span>;  <span class="comment">/* project id 1352461 */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="comment">/* src: url('//at.alicdn.com/t/font_1352461_0pmps1ixdezd.eot');</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      src: url('//at.alicdn.com/t/font_1352461_0pmps1ixdezd.eot?#iefix') format('embedded-opentype'),</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      url('//at.alicdn.com/t/font_1352461_0pmps1ixdezd.woff2') format('woff2'),</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      url('//at.alicdn.com/t/font_1352461_0pmps1ixdezd.woff') format('woff'),</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      url('//at.alicdn.com/t/font_1352461_0pmps1ixdezd.ttf') format('truetype'),</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment">      url('//at.alicdn.com/t/font_1352461_0pmps1ixdezd.svg#iconfont') format('svg'); */</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'./font_unicode/iconfont.eot'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'./font_unicode/iconfont.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'./font_unicode/iconfont.woff2'</span>) <span class="built_in">format</span>(<span class="string">'woff2'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'./font_unicode/iconfont.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'./font_unicode/iconfont.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="built_in">url</span>(<span class="string">'./font_unicode/iconfont.svg#iconfont'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="selector-tag">i</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-family</span>: <span class="string">"iconfont"</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-style</span>: normal;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      <span class="attribute">color</span>: black;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;/style&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/head&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;i&gt;&amp;#xe6a1;&lt;/i&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;/body&gt;</span></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-单行文本溢出固定处理方式"><a href="#3-单行文本溢出固定处理方式" class="headerlink" title="3.单行文本溢出固定处理方式"></a>3.单行文本溢出固定处理方式</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">white-space</span>: nowrap;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">overflow</span>: hidden;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="4-行高"><a href="#4-行高" class="headerlink" title="4.行高"></a>4.行高</h3><ul>
<li>可以被继承，一般统一设置</li>
<li>固定值（px）固定不好</li>
<li>相对值（em）先计算像素值，再继承</li>
<li>百分比（%）相当于em</li>
<li>倍数（n）先继承，再计算</li>
</ul>
<hr>
<h2 id="（六）背景"><a href="#（六）背景" class="headerlink" title="（六）背景"></a>（六）背景</h2><h3 id="1-背景"><a href="#1-背景" class="headerlink" title="1.背景"></a>1.背景</h3><h4 id="（1）与img区别"><a href="#（1）与img区别" class="headerlink" title="（1）与img区别"></a>（1）与img区别</h4><ul>
<li>img属于HTML范畴，属于网页内容结构</li>
<li>background属于css范畴，仅用于美化装饰</li>
</ul>
<h4 id="（2）应用"><a href="#（2）应用" class="headerlink" title="（2）应用"></a>（2）应用</h4><ul>
<li>background-color背景色</li>
<li>background-image背景图片</li>
<li>background-repeat背景重复</li>
<li>background-size背景尺寸<ul>
<li>auto 图片默认大小</li>
<li>contain 图片比例不变，并且完整显示</li>
<li>cover 图片比例不变， 并且撑满盒子</li>
<li>数值/百分比</li>
</ul>
</li>
<li>background-position背景位置<ul>
<li>left/bottom/right/top预设值</li>
<li>数值/百分比</li>
<li><font color=red>雪碧图</font></li>
</ul>
</li>
<li>background-attachment背景图固定<ul>
<li>fixed 相对于视口固定</li>
</ul>
</li>
<li>背景图与背景色混用（背景图在上层）</li>
</ul>
<hr>
<h3 id="2-body背景"><a href="#2-body背景" class="headerlink" title="2.body背景"></a>2.body背景</h3><h5 id="（1）画布-canvas"><a href="#（1）画布-canvas" class="headerlink" title="（1）画布 canvas"></a>（1）画布 canvas</h5><ul>
<li>一块区域</li>
<li>最小宽度为视口宽度</li>
<li>最小高度为视口高度</li>
</ul>
<h5 id="（2）背景颜色"><a href="#（2）背景颜色" class="headerlink" title="（2）背景颜色"></a>（2）背景颜色</h5><ul>
<li><p>HTML元素背景 </p>
<ul>
<li>覆盖画布（普通元素覆盖边框盒）</li>
</ul>
</li>
<li><p>body元素背景</p>
<ul>
<li>HTML元素有背景，body元素背景覆盖边框盒</li>
<li>HTML元素无背景，body元素背景覆盖画布</li>
</ul>
</li>
</ul>
<h5 id="（3）背景图片"><a href="#（3）背景图片" class="headerlink" title="（3）背景图片"></a>（3）背景图片</h5><ul>
<li>覆盖区域与背景颜色一致</li>
<li>画布背景图的宽度百分比相对于视口（画布背景色是相对于画布）</li>
<li>画布背景图的高度百分比相对于网页（HTML元素高度）</li>
<li>画布背景图的水平位置相对于视口</li>
<li>画布背景图的垂直位置相对于网页</li>
</ul>
<hr>
]]></content>
  </entry>
  <entry>
    <title>HTML5 --- 应用篇</title>
    <url>/blog/2020/01/01/HTML5b/</url>
    <content><![CDATA[<h3 id="1-文本"><a href="#1-文本" class="headerlink" title="1.文本"></a>1.文本</h3><table>
<thead>
<tr>
<th align="center">元素</th>
<th align="left">语义</th>
<th align="left">浏览器默认样式</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>h1~h6</strong></td>
<td align="left">1~6级标题</td>
<td align="left">display: block; font-weight: bold; font-size: 2/1.5/1.17em; margin-block-start/end: 0.67/0.83/1em</td>
</tr>
<tr>
<td align="center"><strong>p</strong></td>
<td align="left">段落</td>
<td align="left">display: block; margin-block-start/end: 1em</td>
</tr>
<tr>
<td align="center"><strong>pre</strong></td>
<td align="left">源格式显示</td>
<td align="left">display: block; font-family: monospace; white-space: pre; margin: 1em 0px;</td>
</tr>
<tr>
<td align="center"><strong>blockquote</strong></td>
<td align="left">引用文段</td>
<td align="left">display: block; margin-block-start/end: 1em; margin-inline-start/end: 40px;</td>
</tr>
<tr>
<td align="center"><strong>q</strong></td>
<td align="left">引用短语</td>
<td align="left">display: inline; q::before{content: open-quote;} q::after{content: close-quote;}</td>
</tr>
<tr>
<td align="center"><strong>strong、b</strong></td>
<td align="left">十分重要</td>
<td align="left">font-weight: bold;</td>
</tr>
<tr>
<td align="center"><strong>em、i</strong></td>
<td align="left">人物思想</td>
<td align="left">font-style: italic;</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">实体字符</th>
<th align="center">书写形式</th>
<th align="center">展示形式</th>
</tr>
</thead>
<tbody><tr>
<td align="center">小于</td>
<td align="center"><strong>&amp;lt;</strong></td>
<td align="center">&lt;</td>
</tr>
<tr>
<td align="center">大于</td>
<td align="center"><strong>&amp;gt;</strong></td>
<td align="center">&gt;</td>
</tr>
<tr>
<td align="center">空格</td>
<td align="center"><strong>&amp;nbsp;</strong></td>
<td align="center">&nbsp;</td>
</tr>
<tr>
<td align="center">版权</td>
<td align="center"><strong>&amp;copy;</strong></td>
<td align="center">&copy;</td>
</tr>
<tr>
<td align="center">和</td>
<td align="center"><strong>&amp;amp;</strong></td>
<td align="center">&amp;</td>
</tr>
<tr>
<td align="center">—</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h3 id="2-超链接"><a href="#2-超链接" class="headerlink" title="2.超链接"></a>2.超链接</h3><h4 id="（1）href属性"><a href="#（1）href属性" class="headerlink" title="（1）href属性"></a>（1）href属性</h4><ul>
<li><p><strong>跳转链接</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p><strong>锚链接</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#chapter"</span>&gt;</span>第一章<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"chapter"</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>第一章<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p><strong>功能链接</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:alert('你好！')"</span>&gt;</span>执行js代码<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:1030363645@qq.com"</span>&gt;</span>发送邮件<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"tel:16608819295"</span>&gt;</span>拨打电话<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（2）target属性"><a href="#（2）target属性" class="headerlink" title="（2）target属性"></a>（2）target属性</h4><ul>
<li><p><strong>默认覆盖当前窗口_self</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span> <span class="attr">target</span>=<span class="string">"_self"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p><strong>在新窗口中打开_blank</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>  <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（3）download属性"><a href="#（3）download属性" class="headerlink" title="（3）download属性"></a>（3）download属性</h4><ul>
<li>仅Chrome、Firefox支持</li>
</ul>
<h3 id="3-图片"><a href="#3-图片" class="headerlink" title="3.图片"></a>3.图片</h3><h4 id="（1）src属性（资源路径）"><a href="#（1）src属性（资源路径）" class="headerlink" title="（1）src属性（资源路径）"></a>（1）src属性（资源路径）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/logo.png"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">“data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAYAAABIdFAMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAA”/</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>路径引入资源</li>
<li>data URL（data:MIME,base64,数据）<ul>
<li>优点：减少浏览器的请求；动态数据</li>
<li>缺点：增加资源体积（传输的内容体积会增加4/3）；不利于浏览器缓存；</li>
<li>应用：个体体积较小，不适宜使用雪碧图；图片由其它语言动态生成，且图片较小</li>
</ul>
</li>
</ul>
<h4 id="（2）alt属性（资源失效替代方案）"><a href="#（2）alt属性（资源失效替代方案）" class="headerlink" title="（2）alt属性（资源失效替代方案）"></a>（2）alt属性（资源失效替代方案）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/logo.png"</span> <span class="attr">alt</span>=<span class="string">"这是一张百度logo图片"</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>链接失效时，宽高也会失效（设置成块盒或行块盒）</li>
</ul>
<h4 id="（3）与a元素联用（图片实现跳转链接）"><a href="#（3）与a元素联用（图片实现跳转链接）" class="headerlink" title="（3）与a元素联用（图片实现跳转链接）"></a>（3）与a元素联用（图片实现跳转链接）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/logo.png"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>行盒里出现行块盒或行盒，自身的高度只跟字体大小有关（不会取决于内部的行盒或行块盒）</li>
</ul>
<h4 id="（4）与map元素联用（map元素可以实现指定图片不同区域跳转对应链接）"><a href="#（4）与map元素联用（map元素可以实现指定图片不同区域跳转对应链接）" class="headerlink" title="（4）与map元素联用（map元素可以实现指定图片不同区域跳转对应链接）"></a>（4）与map元素联用（map元素可以实现指定图片不同区域跳转对应链接）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/logo.png"</span> <span class="attr">usemap</span>=<span class="string">"#logoMap"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">"logoMap"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"circle"</span> <span class="attr">coords</span>=<span class="string">"x, y, r"</span> <span class="attr">href</span>=<span class="string">"path"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"left-top-x, left-top-y, right-bottom-x, right-bottom-y"</span> <span class="attr">href</span>=<span class="string">"path"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"poly"</span> <span class="attr">coords</span>=<span class="string">"x1, y1, x2, y2, x3, y3, x4, y4"</span> <span class="attr">href</span>=<span class="string">"path"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（5）与figure元素联用（figure元素语义化更好的将相关内容包裹起来）"><a href="#（5）与figure元素联用（figure元素语义化更好的将相关内容包裹起来）" class="headerlink" title="（5）与figure元素联用（figure元素语义化更好的将相关内容包裹起来）"></a>（5）与figure元素联用（figure元素语义化更好的将相关内容包裹起来）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/logo.png"</span> <span class="attr">usemap</span>=<span class="string">"#logoMap"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">"logoMap"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"circle"</span> <span class="attr">coords</span>=<span class="string">"x, y, r"</span> <span class="attr">href</span>=<span class="string">"path"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"left-top-x, left-top-y, right-bottom-x, right-bottom-y"</span> <span class="attr">href</span>=<span class="string">"path"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"poly"</span> <span class="attr">coords</span>=<span class="string">"x1, y1, x2, y2, x3, y3, x4, y4"</span> <span class="attr">href</span>=<span class="string">"path"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span></pre></td></tr></table></figure>

<h4 id="（6）常见问题"><a href="#（6）常见问题" class="headerlink" title="（6）常见问题"></a>（6）常见问题</h4><ul>
<li><p><strong>图片区域坍塌</strong></p>
<ul>
<li>链接失效时，行盒宽高也会失效</li>
<li>图片设置成块盒（行块盒）指定宽高</li>
</ul>
</li>
<li><p><strong>超链接包裹高度坍塌</strong></p>
<ul>
<li>行盒包裹行盒（行块盒），自身的高度只跟字体大小有关，不会自适应内部的行盒（行块盒）</li>
<li>超链接设置成块盒（行块盒）</li>
</ul>
</li>
<li><p><strong>块盒包裹底部白边</strong></p>
<ul>
<li>图片的基线在下外边距位置</li>
<li>块盒内部有行盒（行块盒），也会生成参考线（font-family、font-size、line-height）</li>
<li>不生成行框：某元素内没有任何行盒（行块盒）；某元素字体大小为0</li>
<li>块盒字体大小设置成0（有副作用）</li>
<li>图片设置成块盒</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-列表"><a href="#4-列表" class="headerlink" title="4.列表"></a>4.列表</h3><h4 id="（1）有序列表-ol-gt-li"><a href="#（1）有序列表-ol-gt-li" class="headerlink" title="（1）有序列表 ol &gt; li"></a>（1）有序列表 ol &gt; li</h4><h4 id="（2）无序列表-ul-gt-li"><a href="#（2）无序列表-ul-gt-li" class="headerlink" title="（2）无序列表 ul &gt; li"></a>（2）无序列表 ul &gt; li</h4><h4 id="（3）定义列表-dl-gt-dt-dd"><a href="#（3）定义列表-dl-gt-dt-dd" class="headerlink" title="（3）定义列表 dl &gt; dt/dd"></a>（3）定义列表 dl &gt; dt/dd</h4><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">属性值</th>
<th align="left">含义</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>display</strong></td>
<td align="left">list-item</td>
<td align="left">仍然是块盒，但会生成一个附带的次盒子</td>
<td align="left">次盒子排列在前（可继承）</td>
</tr>
<tr>
<td align="left"><strong>list-style</strong></td>
<td align="left">none</td>
<td align="left">设置次盒子样式</td>
<td align="left">清空次盒子</td>
</tr>
</tbody></table>
<h3 id="5-表单"><a href="#5-表单" class="headerlink" title="5.表单"></a>5.表单</h3><h4 id="（1）input元素（输入框）"><a href="#（1）input元素（输入框）" class="headerlink" title="（1）input元素（输入框）"></a>（1）input元素（输入框）</h4><ul>
<li><strong>type属性：输入框类型</strong><ul>
<li>text文本输入框</li>
<li>password 密码输入框</li>
<li>date 日期选择框（兼容性问题）</li>
<li>search 搜索框（兼容性问题）</li>
<li>range 滑块（兼容性问题）</li>
<li>color 颜色选择（兼容性问题）</li>
<li>number 数字输入框（兼容性问题）</li>
<li>CheckBox 多选框</li>
<li>radio 单选框</li>
<li>file 文件选择器</li>
<li>reset 重置按钮</li>
<li>button 点击按钮</li>
</ul>
</li>
<li><strong>value 输入框的内容</strong></li>
<li><strong>placeholder 提示内容</strong></li>
<li><strong>name限定（同一题）</strong></li>
</ul>
<h4 id="（2）select元素（下拉列表）"><a href="#（2）select元素（下拉列表）" class="headerlink" title="（2）select元素（下拉列表）"></a>（2）select元素（下拉列表）</h4><ul>
<li>option 选项：value 属性定义选中内容（元素内容仅仅是展示）</li>
<li>optgroup 分组：label 属性定义组名<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">"city"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"hongkong"</span>&gt;</span>beijing<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"hongkong"</span>&gt;</span>beijing<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"hongkong"</span>&gt;</span>beijing<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="（3）textarea元素（文本域）"><a href="#（3）textarea元素（文本域）" class="headerlink" title="（3）textarea元素（文本域）"></a>（3）textarea元素（文本域）</h4><ul>
<li>特殊：元素显示内容由元素内容决定，无value属性</li>
<li>不会发生空白折叠</li>
</ul>
<h4 id="（4）button元素（按钮）"><a href="#（4）button元素（按钮）" class="headerlink" title="（4）button元素（按钮）"></a>（4）button元素（按钮）</h4><ul>
<li>type属性<ul>
<li>reset 重置</li>
<li>submit 提交（默认）</li>
<li>button 普通按钮</li>
</ul>
</li>
</ul>
<h4 id="（5）表单附属元素"><a href="#（5）表单附属元素" class="headerlink" title="（5）表单附属元素"></a>（5）表单附属元素</h4><h5 id="1）label元素（聚焦关联）"><a href="#1）label元素（聚焦关联）" class="headerlink" title="1）label元素（聚焦关联）"></a>1）label元素（聚焦关联）</h5><ul>
<li><p>显式关联</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"male"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"male"</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p>隐式关联</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>男<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="2）datalist元素-输入提示"><a href="#2）datalist元素-输入提示" class="headerlink" title="2）datalist元素(输入提示)"></a>2）datalist元素(输入提示)</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">请输入你常用的浏览器？</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">list</span>=<span class="string">"userargent"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"userargent"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"firefox"</span>&gt;</span>火狐<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Chrome"</span>&gt;</span>谷歌<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Safari"</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Opera"</span>&gt;</span>欧朋<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span></pre></td></tr></table></figure>

<h5 id="3）form元素（包裹表单）"><a href="#3）form元素（包裹表单）" class="headerlink" title="3）form元素（包裹表单）"></a>3）form元素（包裹表单）</h5><ul>
<li>action 属性提交地址</li>
<li>method 属性传递方式<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"GET"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="4）fieldset元素（表单分组）"><a href="#4）fieldset元素（表单分组）" class="headerlink" title="4）fieldset元素（表单分组）"></a>4）fieldset元素（表单分组）</h5><ul>
<li>legend 分组标题（子元素）<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>用户信息<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  账号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="5）表单状态"><a href="#5）表单状态" class="headerlink" title="5）表单状态"></a>5）表单状态</h5><ul>
<li>readonly属性 只读</li>
<li>disabled属性 禁用</li>
</ul>
<h4 id="（6）美化表单元素"><a href="#（6）美化表单元素" class="headerlink" title="（6）美化表单元素"></a>（6）美化表单元素</h4><h5 id="1）聚焦-focus"><a href="#1）聚焦-focus" class="headerlink" title="1）聚焦 :focus"></a>1）聚焦 :focus</h5><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:focus</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">outline-offset</span>: none;<span class="comment">/*外边框偏移量*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">outline</span>: <span class="number">1px</span> solid red;<span class="comment">/*外边框样式*/</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h5 id="2）选中-checked"><a href="#2）选中-checked" class="headerlink" title="2）选中 :checked"></a>2）选中 :checked</h5><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:checked+label</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">color</span>: red;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h5 id="3）文本域的尺寸调整"><a href="#3）文本域的尺寸调整" class="headerlink" title="3）文本域的尺寸调整"></a>3）文本域的尺寸调整</h5><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">textarea</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">resize</span>: both;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h5 id="4）文本框边缘到内容的距离调整"><a href="#4）文本框边缘到内容的距离调整" class="headerlink" title="4）文本框边缘到内容的距离调整"></a>4）文本框边缘到内容的距离调整</h5><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span>&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="attribute">text-indent</span>: <span class="number">0</span>;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h5 id="5）单选-多选框的样式美化"><a href="#5）单选-多选框的样式美化" class="headerlink" title="5）单选/多选框的样式美化"></a>5）单选/多选框的样式美化</h5><ul>
<li>原生的单选/多选样式无法用css来设置（取决于系统/浏览器）</li>
<li>用普通元素模拟出想要的样子（舍弃原生的单选/多选框）</li>
</ul>
<hr>
<h3 id="6-表格"><a href="#6-表格" class="headerlink" title="6.表格"></a>6.表格</h3><h4 id="（1）tabel"><a href="#（1）tabel" class="headerlink" title="（1）tabel"></a>（1）tabel</h4><ul>
<li>caption 标题</li>
<li>thead 表头</li>
<li>tbody 表体</li>
<li>tfoot 表尾<ul>
<li>tr 行<ul>
<li>th 单元格（标题）</li>
<li>td 单元格（内容）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="（2）单元格合并"><a href="#（2）单元格合并" class="headerlink" title="（2）单元格合并"></a>（2）单元格合并</h4><ul>
<li><strong>跨列</strong><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"5"</span>&gt;</span></span></pre></td></tr></table></figure></li>
<li><strong>跨行</strong><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">"5"</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="7-多媒体"><a href="#7-多媒体" class="headerlink" title="7.多媒体"></a>7.多媒体</h3><h4 id="（1）视频-video"><a href="#（1）视频-video" class="headerlink" title="（1）视频 video"></a>（1）视频 video</h4><h4 id="（2）音频-audio"><a href="#（2）音频-audio" class="headerlink" title="（2）音频 audio"></a>（2）音频 audio</h4><table>
<thead>
<tr>
<th align="center">属性名</th>
<th align="center">属性值</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>controls</strong></td>
<td align="center">control</td>
<td align="center">控件</td>
</tr>
<tr>
<td align="center"><strong>autoplay</strong></td>
<td align="center">默认false</td>
<td align="center">自动播放</td>
</tr>
<tr>
<td align="center"><strong>muted</strong></td>
<td align="center">默认false</td>
<td align="center">静音播放</td>
</tr>
<tr>
<td align="center"><strong>loop</strong></td>
<td align="center">默认false</td>
<td align="center">循环播放</td>
</tr>
</tbody></table>
<ul>
<li><p>video.paused 是否处于暂停状态（true/false）</p>
</li>
<li><p>video.pause()暂停</p>
</li>
<li><p>video.play()播放</p>
</li>
<li><p>video.duration总时间（s）</p>
</li>
<li><p>video.currentTime当前时间（s）</p>
</li>
<li><p>video.playbackRate速率</p>
</li>
<li><p>video.volume音量（0-1）</p>
</li>
<li><p>requestFullscreen()</p>
</li>
<li><p><strong>正常</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">control</span> <span class="attr">autoplay</span> <span class="attr">muted</span> <span class="attr">loop</span> <span class="attr">src</span>=<span class="string">"./videoes/game.mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
<li><p><strong>兼容</strong>（旧版本浏览器不支持，各浏览器支持格式不一样）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">control</span> <span class="attr">autoplay</span> <span class="attr">muted</span> <span class="attr">loop</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"video.mp4"</span>&gt;</span> </span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"video.webm"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>对不起！你的浏览器不支持，请下载最新浏览器...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="8-嵌入"><a href="#8-嵌入" class="headerlink" title="8.嵌入"></a>8.嵌入</h3><h4 id="（1）iframe元素-框架页"><a href="#（1）iframe元素-框架页" class="headerlink" title="（1）iframe元素(框架页)"></a>（1）iframe元素(框架页)</h4><ul>
<li><strong>属性</strong><ul>
<li>src 资源地址</li>
<li>name 通常与a元素target联用</li>
<li>scrolling 滚动条</li>
<li>frameborder 边框</li>
<li>framespacing 空隙</li>
<li>allowfullscreen 全屏<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">src</span>=<span class="string">"www.baidu.com"</span> <span class="attr">target</span>=<span class="string">"my-iframe"</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"my-iframe"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"//player.bilibili.com"</span> <span class="attr">scrolling</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">framespacing</span>=<span class="string">"0"</span> <span class="attr">allowfullscreen</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="（2）在页面中使用flash-swf"><a href="#（2）在页面中使用flash-swf" class="headerlink" title="（2）在页面中使用flash(.swf)"></a>（2）在页面中使用flash(.swf)</h4><ul>
<li><strong>object元素</strong><ul>
<li>data 资源地址</li>
<li>type 多用途互联网邮件类型（MIME）</li>
<li>param 子元素（参数）</li>
<li>embed 子元素（兼容）<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">"./game.swf"</span> <span class="attr">type</span>=<span class="string">"application/x-shockwave-flash"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">embed</span> <span class="attr">data</span>=<span class="string">"./game.swf"</span> <span class="attr">type</span>=<span class="string">"application/x-shockwave-flash"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="9-svg"><a href="#9-svg" class="headerlink" title="9.svg"></a>9.svg</h3><h4 id="（1）特点"><a href="#（1）特点" class="headerlink" title="（1）特点"></a>（1）特点</h4><ul>
<li>该图片由代码书写而成</li>
<li>缩放不会失真</li>
<li>内容轻量</li>
<li>xml语言格式</li>
</ul>
<h4 id="（2）使用"><a href="#（2）使用" class="headerlink" title="（2）使用"></a>（2）使用</h4><ul>
<li><p>嵌入浏览器</p>
<ul>
<li>代码</li>
</ul>
</li>
<li><p>单独成为一个文件</p>
<ul>
<li>img</li>
<li>background-img</li>
<li>embed</li>
<li>object</li>
<li>iframe</li>
</ul>
</li>
</ul>
<h4 id="（3）元素"><a href="#（3）元素" class="headerlink" title="（3）元素"></a>（3）元素</h4><ul>
<li><p>rect矩形</p>
<ul>
<li>x/y起始点坐标</li>
<li>width/height宽高</li>
<li>fill填充</li>
<li>stroke描边</li>
</ul>
</li>
<li><p>circle圆形</p>
<ul>
<li>cx/cy圆心点坐标</li>
<li>r半径</li>
</ul>
</li>
<li><p>ellipse椭圆</p>
<ul>
<li>cx/cy圆心点坐标</li>
<li>rx/ry半径</li>
</ul>
</li>
<li><p>line线段</p>
<ul>
<li>x1/y1起始点坐标</li>
<li>x2/y2终点坐标</li>
<li>stroke描边</li>
</ul>
</li>
<li><p>polyline折线</p>
<ul>
<li>points坐标点对</li>
<li>stroke描边</li>
</ul>
</li>
<li><p>polygon多边形</p>
<ul>
<li>points坐标点对</li>
<li>fill填充</li>
</ul>
</li>
</ul>
<h4 id="（4）path路径"><a href="#（4）path路径" class="headerlink" title="（4）path路径"></a>（4）path路径</h4><ul>
<li>d 路径命令（大写表示绝对定位，小写表示相对定位）<ul>
<li>M = moveto</li>
<li>L = lineto</li>
<li>H = horizontal lineto</li>
<li>V = vertical lineto</li>
<li>C = curveto</li>
<li>S = smooth curveto</li>
<li>Q = quadratic Bézier curve</li>
<li>T = smooth quadratic Bézier curveto</li>
<li>A = elliptical Arc</li>
<li>Z = closepath </li>
</ul>
</li>
<li>fill填充</li>
<li>stroke描边</li>
</ul>
<hr>
<h3 id="10-canvas"><a href="#10-canvas" class="headerlink" title="10.canvas"></a>10.canvas</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">"500px"</span> <span class="attr">height</span>=<span class="string">"500px"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//画布</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//画笔</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//移动画笔</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.moveTo(x, y);</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//画笔粗细</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.lineWidth = 10;</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//开启路径</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.beginPath();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//闭合路径</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.closePath();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//描边</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.stroke();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//填充</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.fill();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//橡皮擦</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.clearRect(x1, y1, x2, y2);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//矩形</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  ctx.rect(x, y, w, h); <span class="comment">//路径</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  ctx.strokeRect(x, y, w, h); <span class="comment">//描边矩形</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  ctx.fillRect(x, y, w, h); <span class="comment">//填充矩形</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//弧形</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.arc(ox, oy, r, begin, end, dirction);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//圆角矩形</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.arcTo(x, y, dx, dy, r);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//二次贝塞尔</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.quadraticCurveTo(x1, y1, x, y);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//三次贝塞尔</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.bezierCurveTo(x1, y1, x2, y2, x, y);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//平移坐标系</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.translate(x, y);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//旋转</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="javascript">  ctx.rotate(<span class="built_in">Math</span>.PI / <span class="number">2</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//缩放</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.scale(1, 1);</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//保存坐标系状态</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.save();</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//恢复坐标系状态</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.restore();</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//纹理</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  img.src = <span class="string">"index.png"</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  img.onload = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">    <span class="keyword">var</span> bg = ctx.createPattern(img);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    ctx.fillStyle = bg;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    ctx.fill();</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//线性渐变</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">var</span> bg = ctx.createLinearGradient(x1, y1, x2, y2);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  bg.addColorStop(<span class="number">0</span>, <span class="string">"red"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  bg.addColorStop(<span class="number">1</span>, <span class="string">"blue"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.fillStyle = bg;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.fill();</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="comment">//径向渐变</span></span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  <span class="keyword">var</span> bg = ctx.createRedialGradient(ox1, oy1, r1, ox2, oy2, r2);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  bg.addColorStop(<span class="number">0</span>, <span class="string">"red"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">  bg.addColorStop(<span class="number">1</span>, <span class="string">"blue"</span>);</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.fillStyle = bg;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  ctx.fill();</span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr></table></figure>

<hr>
<h4 id="1-初始化"><a href="#1-初始化" class="headerlink" title="1)初始化"></a>1)初始化</h4><ul>
<li>创建画布</li>
<li><font color=red size=5>html 中 canvas 标签指定 3 个属性 id 标识、width 画布宽度、height 画布高度</font></li>
<li>获取画布</li>
<li><font color=red size=5>var canvas = document.getElementById()</font></li>
<li>获取画笔</li>
<li><font color=red size=5>var ctx = canvas.getContext(“2d”)</font></li>
</ul>
<hr>
<h4 id="2-线性路径"><a href="#2-线性路径" class="headerlink" title="2)线性路径"></a>2)线性路径</h4><ul>
<li>创建路径</li>
<li><font color=red size=5>ctx.beginPath()</font></li>
<li>画笔粗细</li>
<li><font color=red size=5>ctx.lineWidth = num</font></li>
<li>线端样式</li>
<li><font color=red size=5>ctx.lineCap = “button”/“square”/“round”</font></li>
<li><font color=red size=5>ctx.lineJoin = “miter”/“bevel”/“round”</font></li>
<li>画笔定位</li>
<li><font color=red size=5>ctx.moveTo(x, y)</font></li>
<li>画线</li>
<li><font color=red size=5>ctx.lineTo(x, y)</font></li>
<li>闭合路径</li>
<li><font color=red size=5>ctx.closePath()</font></li>
<li>描边</li>
<li><font color=red size=5>ctx.strokeStyle = “red”</font></li>
<li><font color=red size=5>ctx.stroke()</font></li>
<li>填充</li>
<li><font color=red size=5>ctx.fillStyle = “red”</font></li>
<li><font color=red size=5>ctx.fill()</font></li>
<li>擦除</li>
<li><font color=red size=5>ctx.clearRect(x,y,w,h)</font></li>
</ul>
<hr>
<h4 id="3-基础图形路径"><a href="#3-基础图形路径" class="headerlink" title="3)基础图形路径"></a>3)基础图形路径</h4><h5 id="lt-1-gt-rect-矩形"><a href="#lt-1-gt-rect-矩形" class="headerlink" title="&lt;1&gt;rect 矩形"></a>&lt;1&gt;rect 矩形</h5><ul>
<li><font color=red size=5>ctx.rect(x, y, w, h)</font><img src="./rect.png" width=300>

</li>
</ul>
<h5 id="lt-2-gt-arc-弧形（圆形）"><a href="#lt-2-gt-arc-弧形（圆形）" class="headerlink" title="&lt;2&gt; arc 弧形（圆形）"></a>&lt;2&gt; arc 弧形（圆形）</h5><ul>
<li><font color=red size=5>ctx.arc(ox, oy, r, begin, end, dirction)</font><img src="./arc.png" width=300>

</li>
</ul>
<h5 id="lt-3-gt-arcTo-圆角"><a href="#lt-3-gt-arcTo-圆角" class="headerlink" title="&lt;3&gt; arcTo 圆角"></a>&lt;3&gt; arcTo 圆角</h5><ul>
<li><font color=red size=5>ctx.arcTo(x, y, dx, dy, r)</font><img src="./arcTo.png" width=300>

</li>
</ul>
<hr>
<h4 id="4-贝塞尔曲线"><a href="#4-贝塞尔曲线" class="headerlink" title="4)贝塞尔曲线"></a>4)贝塞尔曲线</h4><h5 id="lt-1-gt-二次贝塞尔"><a href="#lt-1-gt-二次贝塞尔" class="headerlink" title="&lt;1&gt; 二次贝塞尔"></a>&lt;1&gt; 二次贝塞尔</h5><ul>
<li><font color=red size=5>ctx.quadraticCurveTo(x1, y1, x, y)</font></li>
<li>从上一点开始绘制一条二次曲线，到(x, y)为止，并且以(x1, y1)作为控制点</li>
</ul>
<h5 id="lt-2-gt-三次贝塞尔"><a href="#lt-2-gt-三次贝塞尔" class="headerlink" title="&lt;2&gt; 三次贝塞尔"></a>&lt;2&gt; 三次贝塞尔</h5><ul>
<li><font color=red size=5>ctx.bezierCurveTo(x1, y1, x2, y2, x, y)</font></li>
<li>从上一个点开始绘制一条曲线，到(x, y)为止，并且以(x1, y1)和(x2, y2)为控制点</li>
</ul>
<hr>
<h4 id="5-坐标系控制"><a href="#5-坐标系控制" class="headerlink" title="5)坐标系控制"></a>5)坐标系控制</h4><ul>
<li>==全局控制==</li>
</ul>
<h5 id="lt-1-gt-translate-平移坐标系原点"><a href="#lt-1-gt-translate-平移坐标系原点" class="headerlink" title="&lt;1&gt; translate 平移坐标系原点"></a>&lt;1&gt; translate 平移坐标系原点</h5><ul>
<li><font color=red size=5>ctx.translate(x, y)</font></li>
<li>原坐标系原点在画布左上角点</li>
</ul>
<h5 id="lt-2-gt-rotate-旋转路径"><a href="#lt-2-gt-rotate-旋转路径" class="headerlink" title="&lt;2&gt; rotate 旋转路径"></a>&lt;2&gt; rotate 旋转路径</h5><ul>
<li><font color=red size=5>ctx.rotate(Math.PI)</font></li>
<li>相对于坐标原点进行旋转</li>
</ul>
<h5 id="lt-3-gt-scale-路径缩放"><a href="#lt-3-gt-scale-路径缩放" class="headerlink" title="&lt;3&gt; scale 路径缩放"></a>&lt;3&gt; scale 路径缩放</h5><ul>
<li><font color=red size=5>ctx.scale(x, y)</font></li>
<li>每个点的位置进行相应倍数的缩放</li>
</ul>
<h5 id="lt-4-gt-save-restore-保存、恢复坐标系状态数据"><a href="#lt-4-gt-save-restore-保存、恢复坐标系状态数据" class="headerlink" title="&lt;4&gt; save/restore 保存、恢复坐标系状态数据"></a>&lt;4&gt; save/restore 保存、恢复坐标系状态数据</h5><ul>
<li><font color=red size=5>ctx.save()</font></li>
<li>保存坐标系状态（平移、旋转、缩放）</li>
<li><font color=red size=5>ctx.restore()</font></li>
<li>恢复保存时的坐标系状态</li>
</ul>
<hr>
<h4 id="6-特殊填充效果"><a href="#6-特殊填充效果" class="headerlink" title="6)特殊填充效果"></a>6)特殊填充效果</h4><ul>
<li><font color=red size=5>从坐标系原点开始填充</font></li>
</ul>
<h5 id="lt-1-gt-createPattern-纹理"><a href="#lt-1-gt-createPattern-纹理" class="headerlink" title="&lt;1&gt; createPattern 纹理"></a>&lt;1&gt; createPattern 纹理</h5><ul>
<li><font color=red size=5>ctx.createPattern(img)</font></li>
</ul>
<h5 id="lt-2-gt-createLinearGradient-线性渐变"><a href="#lt-2-gt-createLinearGradient-线性渐变" class="headerlink" title="&lt;2&gt; createLinearGradient 线性渐变"></a>&lt;2&gt; createLinearGradient 线性渐变</h5><ul>
<li><font color=red size=5>ctx.createLinearGradient(x1,y1,x2,y2)</font></li>
<li><font color=red size=5>bg.addColorStop(0, “red”)</font></li>
<li><font color=red size=5>bg.addColorStop(1, “blue”)</font></li>
</ul>
<h5 id="lt-3-gt-createRedialGradient-径向渐变"><a href="#lt-3-gt-createRedialGradient-径向渐变" class="headerlink" title="&lt;3&gt; createRedialGradient 径向渐变"></a>&lt;3&gt; createRedialGradient 径向渐变</h5><ul>
<li><font color=red size=5>ctx.createRedialGradient(x1,y1,r1, x2,y2,r2)</font></li>
<li><font color=red size=5>bg.addColorStop(0, “red”)</font></li>
<li><font color=red size=5>bg.addColorStop(1, “blue”)</font></li>
</ul>
<hr>
<h4 id="7）阴影"><a href="#7）阴影" class="headerlink" title="7）阴影"></a>7）阴影</h4><ul>
<li>阴影颜色</li>
<li><font color=red size=5>ctx.shadowColor = color</font></li>
<li>模糊半径</li>
<li><font color=red size=5>ctx.shadowBlur = num</font></li>
<li>偏移量</li>
<li><font color=red size=5>ctx.shadowOffsetX = num</font></li>
<li><font color=red size=5>ctx.shadowOffsetY = num</font></li>
</ul>
<hr>
]]></content>
  </entry>
  <entry>
    <title>HTML --- 概述篇</title>
    <url>/blog/2020/01/01/HTML5a/</url>
    <content><![CDATA[<h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><ul>
<li>HTML (超文本标记语言——HyperText Markup Language) 不是一门编程语言，而是一种用来告知浏览器如何组织页面的标记语言。</li>
<li>HTML（超文本标记语言——HyperText Markup Language）是构成 Web 世界的一砖一瓦,它定义了网页内容的含义和结构。</li>
<li>HTML（超文本标记语言——HyperText Markup Language）由一系列的元素（elements）组成，这些元素可以用来包围不同部分的内容，使其以某种方式呈现或者工作。</li>
</ul>
<h3 id="2-元素"><a href="#2-元素" class="headerlink" title="2.元素"></a>2.元素</h3>  <img src="./element.png">

<ul>
<li>开始标签（Opening tag）：包含元素的名称（本例为 p），被左、右角括号所包围。表示元素从这里开始或者开始起作用 —— 在本例中即段落由此开始。</li>
<li>结束标签（Closing tag）：与开始标签相似，只是其在元素名之前包含了一个斜杠。这表示着元素的结尾 —— 在本例中即段落在此结束。</li>
<li>内容（Content）：元素的内容，本例中就是所输入的文本本身。</li>
<li>元素（Element）：开始标签、结束标签与内容相结合，便是一个完整的元素。</li>
</ul>
<h3 id="3-文档"><a href="#3-文档" class="headerlink" title="3.文档"></a>3.文档</h3><h4 id="（1）文档声明"><a href="#（1）文档声明" class="headerlink" title="（1）文档声明"></a>（1）文档声明</h4>  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>告诉浏览器，这是HTML文档</li>
<li>如果不写，会导致浏览器渲染进入怪异模式 </li>
</ul>
<h4 id="（2）文档头"><a href="#（2）文档头" class="headerlink" title="（2）文档头"></a>（2）文档头</h4>  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 元数据 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"Chris Mills"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"......"</span> /&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 标题 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- css --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"demo.css"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">      div&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        width: 100px;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- 图标 --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"//mat1.gtimg.com/www/icon/favicon2.ico"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"./favicon.ico"</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- js --&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"demo.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="actionscript">      <span class="keyword">var</span> a = <span class="number">10</span>;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></pre></td></tr></table></figure>
<ul>
<li>文档头是包含在 &lt;head&gt; 元素里面的内容，head 里面的内容不会在浏览器中显示，它的作用是包含一些页面的元数据。</li>
<li>meta元素声明文档解析的字符编码格式、声明适配移动端的信息、声明IE浏览器的处理方式、作者、网站描述</li>
<li>title元素定义文档标题</li>
<li>style元素定义内部css样式表</li>
<li>link元素引入外部css样式表（也可用于引入网站图标）</li>
<li>script元素定义js脚本（也可用src属性引入外部js脚本）</li>
<li>增加自定义站点图标（如果你的网站使用了内容安全策略（Content Security Policy, CSP）来增加安全性，这个策略会应用在图标上。如果你遇到了图标没有被加载的问题，你需要确认认 Content-Security-Policy header的 img-src directive 没有禁止访问图标）。</li>
<li>许多 &lt;meta&gt; 特性已经不再使用。 例如，keyword &lt;meta&gt; 元素（&lt;meta name=”keywords” content=”fill, in, your, keywords, here” &gt;）— 提供关键词给搜索引擎，根据不同的搜索词，查找到相关的网站 — 已经被搜索引擎忽略了， 因为作弊者填充了大量关键词到 keyword， 错误地引导搜索结果。</li>
</ul>
<h4 id="（3）文档体"><a href="#（3）文档体" class="headerlink" title="（3）文档体"></a>（3）文档体</h4><ul>
<li>文档头是包含在 &lt;body&gt; 元素里面的内容，body 里面的内容会在浏览器中显示，所有展示给用户的内容结构均应写在文档体中。</li>
</ul>
<h3 id="4-块级与内联"><a href="#4-块级与内联" class="headerlink" title="4.块级与内联"></a>4.块级与内联</h3><ul>
<li>块级元素在页面中以块的形式展现 —— 相对于其前面的内容它会出现在新的一行，其后的内容也会被挤到下一行展现。块级元素通常用于展示页面上结构化的内容，例如段落、列表、导航菜单、页脚等等。一个以 block 形式展现的块级元素不会被嵌套进内联元素中，但可以嵌套在其它块级元素中。</li>
<li>内联元素通常出现在块级元素中并环绕文档内容的一小部分，而不是一整个段落或者一组内容。内联元素不会导致文本换行：它通常出现在一堆文字之间。</li>
<li>HTML5 重新定义了元素的类别：<a href="https://html.spec.whatwg.org/multipage/indices.html#element-content-categories" target="_blank" rel="noopener">HTML5 标准</a> 尽管这些新的定义更精确，但却比上述的 “块级元素” 和 “内联元素” 更难理解。</li>
<li>“块”和“内联”，不应该与 the types of CSS boxes 中的同名术语相混淆. 尽管他们默认是相关的，但改变 CSS 显示类型并不会改变元素的分类，也不会影响它可以包含和被包含于哪些元素。防止这种混淆也是 HTML5 摒弃这些术语的原因之一。</li>
</ul>
<h3 id="5-可替换与不可替换元素"><a href="#5-可替换与不可替换元素" class="headerlink" title="5.可替换与不可替换元素"></a>5.可替换与不可替换元素</h3><ul>
<li><strong>可替换元素</strong><ul>
<li>通常显示的内容取决于元素的属性</li>
<li>通常是行盒、通常有行块盒的特点、css不能完全控制其中的样式</li>
</ul>
</li>
<li><strong>不可替换元素</strong><ul>
<li>通常显示的内容取决于元素的内容</li>
</ul>
</li>
</ul>
<h3 id="6-元素嵌套关系"><a href="#6-元素嵌套关系" class="headerlink" title="6.元素嵌套关系"></a>6.元素嵌套关系</h3><ul>
<li><strong>旧观念：</strong>块级元素可以包含行级元素，反之不可，a元素除外</li>
<li><strong>HTML5：</strong>元素的包含关系由元素的内容类别决定<ul>
<li>容器元素中可以包含任何元素</li>
<li>a元素中几乎可以包含任何元素</li>
<li>某些元素有固定的子元素</li>
<li>标题与段落元素不能相互嵌套，并且不能包含容器元素</li>
</ul>
</li>
</ul>
<h3 id="7-结构与语义"><a href="#7-结构与语义" class="headerlink" title="7.结构与语义"></a>7.结构与语义</h3><h4 id="（1）为什么我们需要结构化"><a href="#（1）为什么我们需要结构化" class="headerlink" title="（1）为什么我们需要结构化?"></a>（1）为什么我们需要结构化?</h4><ul>
<li>用户在阅读网页时，往往会快速浏览以查找相关内容，经常只是阅读开头的标题（我们通常在一个网页上会花费很少的时间）如果用户不能在几秒内看到一些有用的内容，他们很可能会感到沮丧并离开。</li>
<li>对您的网页建立索引的搜索引擎将标题的内容视为影响网页搜索排名的重要关键字。没有标题，您的网页在SEO（搜索引擎优化）方面效果不佳。</li>
<li>严重视力障碍者通常不会阅读网页；他们用听力来代替。完成这项工作的软件叫做屏幕阅读器（screen reader）。该软件提供了快速访问给定文本内容的方法。在使用的各种技术中，它们通过朗读标题来提供文档的概述，让用户能快速找到他们需要的信息。如果标题不可用，用户将被迫听到整个文档的大声朗读。</li>
<li>使用CSS样式化内容，或者使用JavaScript做一些有趣的事情，你需要包含相关内容的元素，所以CSS / JavaScript可以有效地定位它。</li>
</ul>
<h4 id="（2）为什么我们需要语义？"><a href="#（2）为什么我们需要语义？" class="headerlink" title="（2）为什么我们需要语义？"></a>（2）为什么我们需要语义？</h4><ul>
<li>每个HTML元素都有具体的含义，元素的使用应根据内容的含义来选择，而不是显示出的样式。</li>
<li>使用的元素与显示效果无关，元素显示的效果应由CSS决定；浏览器带有默认的CSS样式，所以每个元素都带有一些默认样式。</li>
<li>为了搜索引擎的优化</li>
<li>为了浏览器理解网页</li>
</ul>
<h3 id="8-代码规范"><a href="#8-代码规范" class="headerlink" title="8.代码规范"></a>8.代码规范</h3><p>  <a href="https://validator.w3.org/" target="_blank" rel="noopener">在线验证</a></p>
<ul>
<li>语法错误：由于拼写错误导致程序无法运行，就像上面的 Rust 示例。通常熟悉语法并理解错误信息后很容易修复。</li>
<li>逻辑错误：不存在语法错误，但代码无法按预期运行。通常逻辑错误比语法错误更难修复，因为无法得到指向错误源头的信息。</li>
</ul>
]]></content>
  </entry>
</search>
